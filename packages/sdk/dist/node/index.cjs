'use strict';var reactQuery=require('@tanstack/react-query'),dhive=require('@hiveio/dhive'),Pe=require('hivesigner'),Pt=require('remeda');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var Pe__default=/*#__PURE__*/_interopDefault(Pe);var Pt__namespace=/*#__PURE__*/_interopNamespace(Pt);var jr=Object.defineProperty;var It=(t,e)=>{for(var r in e)jr(t,r,{get:e[r],enumerable:true});};var be=(l=>(l.COMMON="common",l.INFO="info",l.INSUFFICIENT_RESOURCE_CREDITS="insufficient_resource_credits",l.MISSING_AUTHORITY="missing_authority",l.TOKEN_EXPIRED="token_expired",l.NETWORK="network",l.TIMEOUT="timeout",l.VALIDATION="validation",l))(be||{});function z(t){let e=t?.error_description?String(t.error_description):"",r=t?.message?String(t.message):"",n=t?.error?String(t.error):"",i=e||r||String(t||""),o=a=>!!(n&&a.test(n)||e&&a.test(e)||r&&a.test(r)||i&&a.test(i));if(o(/please wait to transact/i)||o(/insufficient rc/i)||o(/rc mana|rc account|resource credits/i))return {message:"Insufficient Resource Credits. Please wait or power up.",type:"insufficient_resource_credits",originalError:t};if(o(/you may only post once every/i))return {message:"Please wait before posting again (minimum 3 second interval between comments).",type:"common",originalError:t};if(o(/your current vote on this comment is identical/i))return {message:"You have already voted with the same weight.",type:"info",originalError:t};if(o(/must claim something/i))return {message:"You must claim rewards before performing this action.",type:"info",originalError:t};if(o(/cannot claim that much vests/i))return {message:"Cannot claim that amount. Please check your pending rewards.",type:"info",originalError:t};if(o(/cannot delete a comment with net positive/i))return {message:"Cannot delete a comment with positive votes.",type:"info",originalError:t};if(o(/children == 0/i))return {message:"Cannot delete a comment with replies.",type:"common",originalError:t};if(o(/comment_cashout/i))return {message:"Cannot modify a comment that has already been paid out.",type:"common",originalError:t};if(o(/votes evaluating for comment that is paid out is forbidden/i))return {message:"Cannot vote on posts that have already been paid out.",type:"common",originalError:t};if(o(/no (active|owner|posting|memo) key available/i))return {message:"Key not available. Please provide your key to sign this operation.",type:"missing_authority",originalError:t};if(o(/missing active authority/i))return {message:"Missing active authority. This operation requires your active key.",type:"missing_authority",originalError:t};if(o(/missing owner authority/i))return {message:"Missing owner authority. This operation requires your owner key.",type:"missing_authority",originalError:t};if(o(/missing (required )?posting authority/i))return {message:"Missing posting authority. Please check your login method.",type:"missing_authority",originalError:t};if(n==="invalid_grant"||n==="unauthorized_access"||o(/token expired/i)||o(/invalid token/i)||o(/\bunauthorized\b/i)||o(/\bforbidden\b/i))return {message:"Authentication token expired. Please log in again.",type:"token_expired",originalError:t};if(o(/has already reblogged/i)||o(/already reblogged this post/i))return {message:"You have already reblogged this post.",type:"info",originalError:t};if(o(/duplicate transaction/i))return {message:"This transaction has already been processed.",type:"info",originalError:t};if(o(/econnrefused/i)||o(/connection refused/i)||o(/failed to fetch/i)||o(/\bnetwork[-\s]?(request|error|timeout|unreachable|down|failed)\b/i))return {message:"Network error. Please check your connection and try again.",type:"network",originalError:t};if(o(/timeout/i)||o(/timed out/i))return {message:"Request timed out. Please try again.",type:"timeout",originalError:t};if(o(/account.*does not exist/i)||o(/account not found/i))return {message:"Account not found. Please check the username.",type:"validation",originalError:t};if(o(/invalid memo key/i))return {message:"Invalid memo key. Cannot encrypt message.",type:"validation",originalError:t};if(o(/(?:insufficient.*(?:funds|balance)|(?:funds|balance).*insufficient)/i))return {message:"Insufficient funds for this transaction.",type:"validation",originalError:t};if(o(/\b(invalid|validation)\b/i))return {message:(t?.message||i).substring(0,150)||"Validation error occurred",type:"validation",originalError:t};if(t?.error_description&&typeof t.error_description=="string")return {message:t.error_description.substring(0,150),type:"common",originalError:t};if(t?.message&&typeof t.message=="string")return {message:t.message.substring(0,150),type:"common",originalError:t};let s;return typeof t=="object"&&t!==null?t.error_description?s=String(t.error_description):t.code?s=`Error code: ${t.code}`:i&&i!=="[object Object]"?s=i.substring(0,150):s="Unknown error occurred":s=i.substring(0,150)||"Unknown error occurred",{message:s,type:"common",originalError:t}}function Vr(t){let e=z(t);return [e.message,e.type]}function j(t){let{type:e}=z(t);return e==="missing_authority"||e==="token_expired"}function Br(t){let{type:e}=z(t);return e==="insufficient_resource_credits"}function Gr(t){let{type:e}=z(t);return e==="info"}function Wr(t){let{type:e}=z(t);return e==="network"||e==="timeout"}async function M(t,e,r,n,i="posting",o,s){let a=n?.adapter;switch(t){case "key":{if(!a)throw new Error("No adapter provided for key-based auth");let l=o;if(l===void 0)switch(i){case "owner":if(a.getOwnerKey)l=await a.getOwnerKey(e);else throw new Error("Owner key not supported by adapter. Owner operations (like account recovery) require master password login or manual key entry.");break;case "active":a.getActiveKey&&(l=await a.getActiveKey(e));break;case "memo":if(a.getMemoKey)l=await a.getMemoKey(e);else throw new Error("Memo key not supported by adapter. Use memo encryption methods instead.");break;case "posting":default:l=await a.getPostingKey(e);break}if(!l)throw new Error(`No ${i} key available for ${e}`);let p=dhive.PrivateKey.fromString(l);return await c.hiveClient.broadcast.sendOperations(r,p)}case "hiveauth":{if(!a?.broadcastWithHiveAuth)throw new Error("HiveAuth not supported by adapter");return await a.broadcastWithHiveAuth(e,r,i)}case "hivesigner":{if(!a)throw new Error("No adapter provided for HiveSigner auth");let l=s!==void 0?s:await a.getAccessToken(e);if(!l)throw new Error(`No access token available for ${e}`);return (await new Pe__default.default.Client({accessToken:l}).broadcast(r)).result}case "keychain":{if(!a?.broadcastWithKeychain)throw new Error("Keychain not supported by adapter");return await a.broadcastWithKeychain(e,r,i)}case "custom":{if(!n?.broadcast)throw new Error("No custom broadcast function provided");return await n.broadcast(r,i)}default:throw new Error(`Unknown auth method: ${t}`)}}async function Ur(t,e,r,n="posting"){let i=r?.adapter;if(i?.getLoginType){let p=await i.getLoginType(t,n);if(p){let d=i.hasPostingAuthorization?await i.hasPostingAuthorization(t):false;if(n==="posting"&&d&&p==="key")try{return await M("hivesigner",t,e,r,n)}catch(f){if(!j(f))throw f;console.warn("[SDK] HiveSigner token auth failed, falling back to key:",f);}if(n==="posting"&&d&&p==="hiveauth")try{return await M("hivesigner",t,e,r,n)}catch(f){if(!j(f))throw f;console.warn("[SDK] HiveSigner token auth failed, falling back to HiveAuth:",f);}try{return await M(p,t,e,r,n)}catch(f){if(j(f)&&i.showAuthUpgradeUI&&(n==="posting"||n==="active")){let g=e.length>0?e[0][0]:"unknown",h=await i.showAuthUpgradeUI(n,g);if(!h)throw new Error(`Operation requires ${n} authority. User declined alternate auth.`);return await M(h,t,e,r,n)}throw f}}if(n==="posting")try{return await M("hivesigner",t,e,r,n)}catch(d){if(j(d)&&i.showAuthUpgradeUI){let f=e.length>0?e[0][0]:"unknown",g=await i.showAuthUpgradeUI(n,f);if(!g)throw new Error(`No login type available for ${t}. Please log in again.`);return await M(g,t,e,r,n)}throw d}else if(n==="active"&&i.showAuthUpgradeUI){let d=e.length>0?e[0][0]:"unknown",f=await i.showAuthUpgradeUI(n,d);if(!f)throw new Error(`Operation requires ${n} authority. User declined alternate auth.`);return await M(f,t,e,r,n)}}let o=r?.fallbackChain??["key","hiveauth","hivesigner","keychain","custom"],s=new Map;for(let p of o)try{let d=!1,f="",g,h;switch(p){case "key":if(!i)d=!0,f="No adapter provided";else {let v;switch(n){case "owner":i.getOwnerKey&&(v=await i.getOwnerKey(t));break;case "active":i.getActiveKey&&(v=await i.getActiveKey(t));break;case "memo":i.getMemoKey&&(v=await i.getMemoKey(t));break;case "posting":default:v=await i.getPostingKey(t);break}v?g=v:(d=!0,f=`No ${n} key available`);}break;case "hiveauth":i?.broadcastWithHiveAuth||(d=!0,f="HiveAuth not supported by adapter");break;case "hivesigner":if(!i)d=!0,f="No adapter provided";else {let v=await i.getAccessToken(t);v?h=v:(d=!0,f="No access token available");}break;case "keychain":i?.broadcastWithKeychain||(d=!0,f="Keychain not supported by adapter");break;case "custom":r?.broadcast||(d=!0,f="No custom broadcast function provided");break}if(d){s.set(p,new Error(`Skipped: ${f}`));continue}return await M(p,t,e,r,n,g,h)}catch(d){if(s.set(p,d),!j(d))throw d}if(!Array.from(s.values()).some(p=>!p.message.startsWith("Skipped:"))){let p=Array.from(s.entries()).map(([d,f])=>`${d}: ${f.message}`).join(", ");throw new Error(`[SDK][Broadcast] No auth methods attempted for ${t}. ${p}`)}let l=Array.from(s.entries()).map(([p,d])=>`${p}: ${d.message}`).join(", ");throw new Error(`[SDK][Broadcast] All auth methods failed for ${t}. Errors: ${l}`)}function y(t=[],e,r,n=()=>{},i,o="posting",s){return reactQuery.useMutation({onSuccess:n,onMutate:s?.onMutate,onError:s?.onError,onSettled:s?.onSettled,mutationKey:[...t,e],mutationFn:async a=>{if(!e)throw new Error("[Core][Broadcast] Attempted to call broadcast API with anon user");let l=r(a);if(i?.enableFallback!==false&&i?.adapter)return Ur(e,l,i,o);if(i?.broadcast)return i.broadcast(l,o);let p=i?.postingKey;if(p){if(o!=="posting")throw new Error(`[SDK][Broadcast] Legacy auth only supports posting authority, but '${o}' was requested. Use AuthContextV2 with an adapter for ${o} operations.`);let f=dhive.PrivateKey.fromString(p);return c.hiveClient.broadcast.sendOperations(l,f)}let d=i?.accessToken;if(d)return (await new Pe__default.default.Client({accessToken:d}).broadcast(l)).result;throw new Error("[SDK][Broadcast] \u2013 cannot broadcast w/o posting key or token")}})}var V=(()=>{try{return process.env?.NODE_ENV==="development"}catch{return  false}})(),zr=()=>{try{return process.env?.VITE_HELIUS_API_KEY}catch{return}},c={privateApiHost:"https://ecency.com",imageHost:"https://images.ecency.com",hiveClient:new dhive.Client(["https://api.hive.blog","https://api.deathwing.me","https://rpc.mahdiyari.info","https://api.openhive.network","https://techcoderx.com","https://hive-api.arcange.eu","https://api.syncad.com","https://anyx.io","https://api.c0ff33a.uk","https://hiveapi.actifit.io","https://hive-api.3speak.tv"],{timeout:2e3,failoverThreshold:2,consoleOnFailover:true}),heliusApiKey:zr(),queryClient:new reactQuery.QueryClient,plausibleHost:"https://pl.ecency.com",spkNode:"https://spk.good-karma.xyz",dmcaAccounts:[],dmcaTags:[],dmcaPatterns:[],dmcaTagRegexes:[],dmcaPatternRegexes:[],_dmcaInitialized:false};exports.ConfigManager=void 0;(l=>{function t(p){c.queryClient=p;}l.setQueryClient=t;function e(p){c.privateApiHost=p;}l.setPrivateApiHost=e;function r(){return c.privateApiHost?c.privateApiHost:typeof window<"u"&&window.location?.origin?window.location.origin:"https://ecency.com"}l.getValidatedBaseUrl=r;function n(p){c.imageHost=p;}l.setImageHost=n;function i(p){if(/(\([^)]*[*+{][^)]*\))[*+{]/.test(p))return {safe:false,reason:"nested quantifiers detected"};if(/\([^|)]*\|[^)]*\)[*+{]/.test(p))return {safe:false,reason:"alternation with quantifier (potential overlap)"};if(/\([^)]*[*+][^)]*\)[*+]/.test(p))return {safe:false,reason:"repeated quantifiers (catastrophic backtracking risk)"};if(/\.\*\.\*/.test(p)||/\.\+\.\+/.test(p))return {safe:false,reason:"multiple greedy quantifiers on wildcards"};let d=/\.?\{(\d+),(\d+)\}/g,f;for(;(f=d.exec(p))!==null;){let[,g,h]=f;if(parseInt(h,10)-parseInt(g,10)>1e3)return {safe:false,reason:`excessive range: {${g},${h}}`}}return {safe:true}}function o(p){let d=["a".repeat(50)+"x","ab".repeat(50)+"x","x".repeat(100),"aaa".repeat(30)+"bbb".repeat(30)+"x"],f=5;for(let g of d){let h=Date.now();try{p.test(g);let v=Date.now()-h;if(v>f)return {safe:!1,reason:`runtime test exceeded ${f}ms (took ${v}ms on input length ${g.length})`}}catch(v){return {safe:false,reason:`runtime test threw error: ${v}`}}}return {safe:true}}function s(p,d=200){try{if(!p)return V&&console.warn("[SDK] DMCA pattern rejected: empty pattern"),null;if(p.length>d)return V&&console.warn(`[SDK] DMCA pattern rejected: length ${p.length} exceeds max ${d} - pattern: ${p.substring(0,50)}...`),null;let f=i(p);if(!f.safe)return V&&console.warn(`[SDK] DMCA pattern rejected: static analysis failed (${f.reason}) - pattern: ${p.substring(0,50)}...`),null;let g;try{g=new RegExp(p);}catch(v){return V&&console.warn(`[SDK] DMCA pattern rejected: compilation failed - pattern: ${p.substring(0,50)}...`,v),null}let h=o(g);return h.safe?g:(V&&console.warn(`[SDK] DMCA pattern rejected: runtime test failed (${h.reason}) - pattern: ${p.substring(0,50)}...`),null)}catch(f){return V&&console.warn(`[SDK] DMCA pattern rejected: unexpected error - pattern: ${p.substring(0,50)}...`,f),null}}function a(p={}){let d=v=>Array.isArray(v)?v.filter(A=>typeof A=="string"):[],f=p||{},g={accounts:d(f.accounts),tags:d(f.tags),patterns:d(f.posts)};c.dmcaAccounts=g.accounts,c.dmcaTags=g.tags,c.dmcaPatterns=g.patterns,c.dmcaTagRegexes=g.tags.map(v=>s(v)).filter(v=>v!==null),c.dmcaPatternRegexes=[];let h=g.tags.length-c.dmcaTagRegexes.length;!c._dmcaInitialized&&V&&(console.log("[SDK] DMCA configuration loaded:"),console.log(`  - Accounts: ${g.accounts.length}`),console.log(`  - Tag patterns: ${c.dmcaTagRegexes.length}/${g.tags.length} compiled (${h} rejected)`),console.log(`  - Post patterns: ${g.patterns.length} (using exact string matching)`),h>0&&console.warn(`[SDK] ${h} DMCA tag patterns were rejected due to security validation. Check warnings above for details.`)),c._dmcaInitialized=true;}l.setDmcaLists=a;})(exports.ConfigManager||={});async function Ae(t,e,r,n){if(!t)throw new Error("[Core][Broadcast] Attempted to call broadcast API with anon user");let i={id:e,required_auths:[],required_posting_auths:[t],json:JSON.stringify(r)};if(n?.broadcast)return n.broadcast([["custom_json",i]],"posting");let o=n?.postingKey;if(o){let a=dhive.PrivateKey.fromString(o);return c.hiveClient.broadcast.json(i,a)}let s=n?.accessToken;if(s)return (await new Pe__default.default.Client({accessToken:s}).customJson([],[t],e,JSON.stringify(r))).result;throw new Error("[SDK][Broadcast] \u2013 cannot broadcast w/o posting key or token")}function Ou(){return new reactQuery.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:false,refetchOnMount:false}}})}var m=()=>c.queryClient;exports.EcencyQueriesManager=void 0;(s=>{function t(a){return m().getQueryData(a)}s.getQueryData=t;function e(a){return m().getQueryData(a)}s.getInfiniteQueryData=e;async function r(a){return await m().prefetchQuery(a),t(a.queryKey)}s.prefetchQuery=r;async function n(a){return await m().prefetchInfiniteQuery(a),e(a.queryKey)}s.prefetchInfiniteQuery=n;function i(a){return {prefetch:()=>r(a),getData:()=>t(a.queryKey),useClientQuery:()=>reactQuery.useQuery(a),fetchAndGet:()=>m().fetchQuery(a)}}s.generateClientServerQuery=i;function o(a){return {prefetch:()=>n(a),getData:()=>e(a.queryKey),useClientQuery:()=>reactQuery.useInfiniteQuery(a),fetchAndGet:()=>m().fetchInfiniteQuery(a)}}s.generateClientServerInfiniteQuery=o;})(exports.EcencyQueriesManager||={});function Au(t){return btoa(JSON.stringify(t))}function ku(t){let e=atob(t);if(e[0]==="{")return JSON.parse(e)}var ke=(i=>(i.HIVE="HIVE",i.HBD="HBD",i.VESTS="VESTS",i.SPK="SPK",i))(ke||{}),Ce=(t=>(t["@@000000021"]="HIVE",t["@@000000013"]="HBD",t["@@000000037"]="VESTS",t))(Ce||{});function _(t){if(typeof t=="string"){let e=t.split(" ");return {amount:parseFloat(e[0]),symbol:ke[e[1]]}}else return {amount:parseFloat(t.amount.toString())/Math.pow(10,t.precision),symbol:Ce[t.nai]}}var Dt;function w(){if(!Dt){if(typeof globalThis.fetch!="function")throw new Error("[Ecency][SDK] - global fetch is not available");Dt=globalThis.fetch.bind(globalThis);}return Dt}function xe(t){return typeof t=="string"?/^hive-\d+$/.test(t):false}function nn(t){return t&&typeof t=="object"&&"data"in t&&"pagination"in t&&Array.isArray(t.data)}function F(t,e){return nn(t)?t:{data:Array.isArray(t)?t:[],pagination:{total:Array.isArray(t)?t.length:0,limit:e,offset:0,has_next:false}}}function Y(t,e){return t/1e6*e}function Ee(t){return t===void 0?true:parseInt(t.split("-")[0],10)<1980}var Se=60*1e3;function I(){return reactQuery.queryOptions({queryKey:u.core.dynamicProps(),refetchInterval:Se,staleTime:Se,queryFn:async()=>{let t=await c.hiveClient.database.getDynamicGlobalProperties(),e=await c.hiveClient.database.call("get_feed_history"),r=await c.hiveClient.database.call("get_chain_properties"),n=await c.hiveClient.database.call("get_reward_fund",["post"]),i=_(t.total_vesting_shares).amount,o=_(t.total_vesting_fund_hive).amount,s=0;Number.isFinite(i)&&i!==0&&Number.isFinite(o)&&(s=o/i*1e6);let a=_(e.current_median_history.base).amount,l=_(e.current_median_history.quote).amount,p=parseFloat(n.recent_claims),d=_(n.reward_balance).amount,f=t.hbd_print_rate,g=t.hbd_interest_rate,h=t.head_block_number,v=o,A=i,k=_(t.virtual_supply).amount,T=t.vesting_reward_percent||0,C=r.account_creation_fee;return {hivePerMVests:s,base:a,quote:l,fundRecentClaims:p,fundRewardBalance:d,hbdPrintRate:f,hbdInterestRate:g,headBlock:h,totalVestingFund:v,totalVestingShares:A,virtualSupply:k,vestingRewardPercent:T,accountCreationFee:C,raw:{globalDynamic:t,feedHistory:e,chainProps:r,rewardFund:n}}}})}function ju(t="post"){return reactQuery.queryOptions({queryKey:u.core.rewardFund(t),queryFn:()=>c.hiveClient.database.call("get_reward_fund",[t])})}function X(...t){let e=t.length;for(;e>0&&t[e-1]===void 0;)e--;return t.slice(0,e)}var u={posts:{entry:t=>["posts","entry",t],postHeader:(t,e)=>["posts","post-header",t,e],content:(t,e)=>["posts","content",t,e],contentReplies:(t,e)=>["posts","content-replies",t,e],accountPosts:(t,e,r,n)=>["posts","account-posts",t,e,r,n],accountPostsPage:(t,e,r,n,i,o)=>["posts","account-posts-page",t,e,r,n,i,o],userPostVote:(t,e,r)=>["posts","user-vote",t,e,r],reblogs:(t,e)=>["posts","reblogs",t,e],entryActiveVotes:(t,e)=>["posts","entry-active-votes",t,e],rebloggedBy:(t,e)=>["posts","reblogged-by",t,e],tips:(t,e)=>["posts","tips",t,e],normalize:(t,e)=>["posts","normalize",t,e],drafts:t=>["posts","drafts",t],draftsInfinite:(t,e)=>X("posts","drafts","infinite",t,e),schedules:t=>["posts","schedules",t],schedulesInfinite:(t,e)=>X("posts","schedules","infinite",t,e),fragments:t=>["posts","fragments",t],fragmentsInfinite:(t,e)=>X("posts","fragments","infinite",t,e),images:t=>["posts","images",t],galleryImages:t=>["posts","gallery-images",t],imagesInfinite:(t,e)=>X("posts","images","infinite",t,e),promoted:t=>["posts","promoted",t],_promotedPrefix:["posts","promoted"],accountPostsBlogPrefix:t=>["posts","account-posts",t,"blog"],postsRanked:(t,e,r,n)=>["posts","posts-ranked",t,e,r,n],postsRankedPage:(t,e,r,n,i,o)=>["posts","posts-ranked-page",t,e,r,n,i,o],discussions:(t,e,r,n)=>["posts","discussions",t,e,r,n],discussion:(t,e,r)=>["posts","discussion",t,e,r],deletedEntry:t=>["posts","deleted-entry",t],commentHistory:(t,e,r)=>["posts","comment-history",t,e,r],trendingTags:()=>["posts","trending-tags"],trendingTagsWithStats:t=>["posts","trending-tags","stats",t],wavesByHost:t=>["posts","waves","by-host",t],wavesByTag:(t,e)=>["posts","waves","by-tag",t,e],wavesFollowing:(t,e)=>["posts","waves","following",t,e],wavesTrendingTags:(t,e)=>["posts","waves","trending-tags",t,e],_prefix:["posts"]},accounts:{full:t=>["get-account-full",t],list:(...t)=>["accounts","list",...t],friends:(t,e,r,n)=>["accounts","friends",t,e,r,n],searchFriends:(t,e,r)=>["accounts","friends","search",t,e,r],subscriptions:t=>["accounts","subscriptions",t],followCount:t=>["accounts","follow-count",t],recoveries:t=>["accounts","recoveries",t],pendingRecovery:t=>["accounts","recoveries",t,"pending-request"],checkWalletPending:(t,e)=>["accounts","check-wallet-pending",t,e],mutedUsers:t=>["accounts","muted-users",t],following:(t,e,r,n)=>["accounts","following",t,e,r,n],followers:(t,e,r,n)=>["accounts","followers",t,e,r,n],search:(t,e)=>["accounts","search",t,e],profiles:(t,e)=>["accounts","profiles",t,e],lookup:(t,e)=>["accounts","lookup",t,e],transactions:(t,e,r)=>["accounts","transactions",t,e,r],favorites:t=>["accounts","favorites",t],favoritesInfinite:(t,e)=>X("accounts","favorites","infinite",t,e),checkFavorite:(t,e)=>["accounts","favorites","check",t,e],relations:(t,e)=>["accounts","relations",t,e],bots:()=>["accounts","bots"],voteHistory:(t,e)=>["accounts","vote-history",t,e],reputations:(t,e)=>["accounts","reputations",t,e],bookmarks:t=>["accounts","bookmarks",t],bookmarksInfinite:(t,e)=>X("accounts","bookmarks","infinite",t,e),referrals:t=>["accounts","referrals",t],referralsStats:t=>["accounts","referrals-stats",t],_prefix:["accounts"]},notifications:{announcements:()=>["notifications","announcements"],list:(t,e)=>["notifications",t,e],unreadCount:t=>["notifications","unread",t],settings:t=>["notifications","settings",t],_prefix:["notifications"]},core:{rewardFund:t=>["core","reward-fund",t],dynamicProps:()=>["core","dynamic-props"],chainProperties:()=>["core","chain-properties"],_prefix:["core"]},communities:{single:(t,e)=>["community","single",t,e],singlePrefix:t=>["community","single",t],context:(t,e)=>["community","context",t,e],rewarded:()=>["communities","rewarded"],list:(t,e,r)=>["communities","list",t,e,r],subscribers:t=>["communities","subscribers",t],accountNotifications:(t,e)=>["communities","account-notifications",t,e]},proposals:{list:()=>["proposals","list"],proposal:t=>["proposals","proposal",t],votes:(t,e,r)=>["proposals","votes",t,e,r],votesPrefix:t=>["proposals","votes",t],votesByUser:t=>["proposals","votes","by-user",t]},search:{topics:t=>["search","topics",t],path:t=>["search","path",t],account:(t,e)=>["search","account",t,e],results:(t,e,r,n,i,o)=>["search",t,e,r,n,i,o],controversialRising:(t,e)=>["search","controversial-rising",t,e],similarEntries:(t,e,r)=>["search","similar-entries",t,e,r],api:(t,e,r,n,i)=>["search","api",t,e,r,n,i]},witnesses:{list:t=>["witnesses","list",t],votes:t=>["witnesses","votes",t],proxy:()=>["witnesses","proxy"]},wallet:{outgoingRcDelegations:(t,e)=>["wallet","outgoing-rc-delegations",t,e],vestingDelegations:(t,e)=>["wallet","vesting-delegations",t,e],withdrawRoutes:t=>["wallet","withdraw-routes",t],incomingRc:t=>["wallet","incoming-rc",t],conversionRequests:t=>["wallet","conversion-requests",t],receivedVestingShares:t=>["wallet","received-vesting-shares",t],savingsWithdraw:t=>["wallet","savings-withdraw",t],openOrders:t=>["wallet","open-orders",t],collateralizedConversionRequests:t=>["wallet","collateralized-conversion-requests",t],recurrentTransfers:t=>["wallet","recurrent-transfers",t],portfolio:(t,e,r)=>["wallet","portfolio","v2",t,e,r]},assets:{hiveGeneralInfo:t=>["assets","hive","general-info",t],hiveTransactions:(t,e,r)=>["assets","hive","transactions",t,e,r],hiveWithdrawalRoutes:t=>["assets","hive","withdrawal-routes",t],hiveMetrics:t=>["assets","hive","metrics",t],hbdGeneralInfo:t=>["assets","hbd","general-info",t],hbdTransactions:(t,e,r)=>["assets","hbd","transactions",t,e,r],hivePowerGeneralInfo:t=>["assets","hive-power","general-info",t],hivePowerDelegates:t=>["assets","hive-power","delegates",t],hivePowerDelegatings:t=>["assets","hive-power","delegatings",t],hivePowerTransactions:(t,e,r)=>["assets","hive-power","transactions",t,e,r],pointsGeneralInfo:t=>["assets","points","general-info",t],pointsTransactions:(t,e)=>["assets","points","transactions",t,e],ecencyAssetInfo:(t,e,r)=>["ecency-wallets","asset-info",t,e,r]},market:{statistics:()=>["market","statistics"],orderBook:t=>["market","order-book",t],history:(t,e,r)=>["market","history",t,e,r],feedHistory:()=>["market","feed-history"],hiveHbdStats:()=>["market","hive-hbd-stats"],data:(t,e,r,n)=>["market","data",t,e,r,n],tradeHistory:(t,e,r)=>["market","trade-history",t,e,r],currentMedianHistoryPrice:()=>["market","current-median-history-price"]},analytics:{discoverCuration:t=>["analytics","discover-curation",t],pageStats:(t,e,r,n)=>["analytics","page-stats",t,e,r,n],discoverLeaderboard:t=>["analytics","discover-leaderboard",t]},promotions:{promotePrice:()=>["promotions","promote-price"],boostPlusPrices:()=>["promotions","boost-plus-prices"],boostPlusAccounts:t=>["promotions","boost-plus-accounts",t]},resourceCredits:{account:t=>["resource-credits","account",t],stats:()=>["resource-credits","stats"]},points:{points:(t,e)=>["points",t,e],_prefix:t=>["points",t]},operations:{chainProperties:()=>["operations","chain-properties"]},games:{statusCheck:(t,e)=>["games","status-check",t,e]}};function P(t){return reactQuery.queryOptions({queryKey:u.accounts.full(t),queryFn:async()=>{if(!t)throw new Error("[SDK] Username is empty");let e=await c.hiveClient.database.getAccounts([t]);if(!e[0])throw new Error("[SDK] No account with given username");let r=ot(e[0].posting_json_metadata),n;try{n=await c.hiveClient.database.call("get_follow_count",[t]);}catch{}let i=0;try{i=(await c.hiveClient.call("condenser_api","get_account_reputations",[t,1]))[0]?.reputation??0;}catch{}return {name:e[0].name,owner:e[0].owner,active:e[0].active,posting:e[0].posting,memo_key:e[0].memo_key,post_count:e[0].post_count,created:e[0].created,posting_json_metadata:e[0].posting_json_metadata,last_vote_time:e[0].last_vote_time,last_post:e[0].last_post,json_metadata:e[0].json_metadata,reward_hive_balance:e[0].reward_hive_balance,reward_hbd_balance:e[0].reward_hbd_balance,reward_vesting_hive:e[0].reward_vesting_hive,reward_vesting_balance:e[0].reward_vesting_balance,balance:e[0].balance,hbd_balance:e[0].hbd_balance,savings_balance:e[0].savings_balance,savings_hbd_balance:e[0].savings_hbd_balance,savings_hbd_last_interest_payment:e[0].savings_hbd_last_interest_payment,savings_hbd_seconds_last_update:e[0].savings_hbd_seconds_last_update,savings_hbd_seconds:e[0].savings_hbd_seconds,next_vesting_withdrawal:e[0].next_vesting_withdrawal,pending_claimed_accounts:e[0].pending_claimed_accounts,vesting_shares:e[0].vesting_shares,delegated_vesting_shares:e[0].delegated_vesting_shares,received_vesting_shares:e[0].received_vesting_shares,vesting_withdraw_rate:e[0].vesting_withdraw_rate,to_withdraw:e[0].to_withdraw,withdrawn:e[0].withdrawn,witness_votes:e[0].witness_votes,proxy:e[0].proxy,recovery_account:e[0].recovery_account,proxied_vsf_votes:e[0].proxied_vsf_votes,voting_manabar:e[0].voting_manabar,voting_power:e[0].voting_power,downvote_manabar:e[0].downvote_manabar,follow_stats:n,reputation:i,profile:r}},enabled:!!t,staleTime:6e4})}function un(t){if(!(!t||!Array.isArray(t)))return t.map(({meta:e,...r})=>{if(!e||typeof e!="object")return {...r,meta:e};let{privateKey:n,username:i,...o}=e;return {...r,meta:o}})}function ot(t){if(!t)return {};try{let e=JSON.parse(t);if(e&&typeof e=="object"&&e.profile&&typeof e.profile=="object")return e.profile}catch{}return {}}function Nt(t){return ot(t?.posting_json_metadata)}function Mt({existingProfile:t,profile:e,tokens:r}){let{tokens:n,version:i,...o}=e??{},s=Pt__namespace.mergeDeep(t??{},o);s.tokens&&!Array.isArray(s.tokens)&&(s.tokens=void 0);let a=r??n;return a&&a.length>0&&(s.tokens=a),s.tokens=un(s.tokens),s.version=2,s}function ht(t){return t.map(e=>{let r={name:e.name,owner:e.owner,active:e.active,posting:e.posting,memo_key:e.memo_key,post_count:e.post_count,created:e.created,reputation:e.reputation,posting_json_metadata:e.posting_json_metadata,last_vote_time:e.last_vote_time,last_post:e.last_post,json_metadata:e.json_metadata,reward_hive_balance:e.reward_hive_balance,reward_hbd_balance:e.reward_hbd_balance,reward_vesting_hive:e.reward_vesting_hive,reward_vesting_balance:e.reward_vesting_balance,balance:e.balance,hbd_balance:e.hbd_balance,savings_balance:e.savings_balance,savings_hbd_balance:e.savings_hbd_balance,savings_hbd_last_interest_payment:e.savings_hbd_last_interest_payment,savings_hbd_seconds_last_update:e.savings_hbd_seconds_last_update,savings_hbd_seconds:e.savings_hbd_seconds,next_vesting_withdrawal:e.next_vesting_withdrawal,pending_claimed_accounts:e.pending_claimed_accounts,vesting_shares:e.vesting_shares,delegated_vesting_shares:e.delegated_vesting_shares,received_vesting_shares:e.received_vesting_shares,vesting_withdraw_rate:e.vesting_withdraw_rate,to_withdraw:e.to_withdraw,withdrawn:e.withdrawn,witness_votes:e.witness_votes,proxy:e.proxy,recovery_account:e.recovery_account,proxied_vsf_votes:e.proxied_vsf_votes,voting_manabar:e.voting_manabar,voting_power:e.voting_power,downvote_manabar:e.downvote_manabar},n=ot(e.posting_json_metadata);if(!n||Object.keys(n).length===0)try{let i=JSON.parse(e.json_metadata||"{}");i.profile&&(n=i.profile);}catch{}return (!n||Object.keys(n).length===0)&&(n={about:"",cover_image:"",location:"",name:"",profile_image:"",website:""}),{...r,profile:n}})}function rc(t){return reactQuery.queryOptions({queryKey:u.accounts.list(...t),enabled:t.length>0,queryFn:async()=>{let e=await c.hiveClient.database.getAccounts(t);return ht(e)}})}function ac(t){return reactQuery.queryOptions({queryKey:u.accounts.followCount(t),queryFn:()=>c.hiveClient.database.call("get_follow_count",[t])})}function dc(t,e,r="blog",n=100){return reactQuery.queryOptions({queryKey:u.accounts.followers(t,e,r,n),queryFn:()=>c.hiveClient.database.call("get_followers",[t,e,r,n]),enabled:!!t})}function hc(t,e,r="blog",n=100){return reactQuery.queryOptions({queryKey:u.accounts.following(t,e,r,n),queryFn:()=>c.hiveClient.database.call("get_following",[t,e,r,n]),enabled:!!t})}function Oc(t,e=100){return reactQuery.queryOptions({queryKey:u.accounts.mutedUsers(t),queryFn:async()=>(await c.hiveClient.database.call("get_following",[t,"","ignore",e])).map(n=>n.following),enabled:!!t})}function xc(t,e=50){return reactQuery.queryOptions({queryKey:u.accounts.lookup(t,e),queryFn:()=>c.hiveClient.database.call("lookup_accounts",[t,e]),enabled:!!t,staleTime:1/0})}function Fc(t,e=5,r=[]){return reactQuery.queryOptions({queryKey:u.accounts.search(t,r),enabled:!!t,queryFn:async()=>(await c.hiveClient.database.call("lookup_accounts",[t,e])).filter(i=>r.length>0?!r.includes(i):true)})}var hn=new Set(["ownerPublicKey","activePublicKey","postingPublicKey","memoPublicKey"]);function Ic(t,e){return reactQuery.queryOptions({queryKey:u.accounts.checkWalletPending(t,e??null),queryFn:async()=>{if(!t||!e)return {exist:false};let n=await w()(c.privateApiHost+"/private-api/wallets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,code:e})});if(!n.ok)return {exist:false};let i=await n.json(),o=Array.isArray(i)?i.flatMap(s=>{if(!s||typeof s!="object")return [];let a=s,l=typeof a.token=="string"?a.token:void 0;if(!l)return [];let p=a.meta&&typeof a.meta=="object"?{...a.meta}:{},d={},f=typeof a.address=="string"&&a.address?a.address:void 0,h=(typeof a.status=="number"?a.status===3:void 0)??false;f&&(d.address=f),d.show=h;let v={symbol:l,currency:l,address:f,show:h,type:"CHAIN",meta:d},A=[];for(let[k,T]of Object.entries(p))typeof k=="string"&&(hn.has(k)||typeof T!="string"||!T||/^[A-Z0-9]{2,10}$/.test(k)&&A.push({symbol:k,currency:k,address:T,show:h,type:"CHAIN",meta:{address:T,show:h}}));return [v,...A]}):[];return {exist:o.length>0,tokens:o.length?o:void 0,wallets:o.length?o:void 0}},refetchOnMount:true})}function Te(t,e){return reactQuery.queryOptions({queryKey:u.accounts.relations(t,e),enabled:!!t&&!!e,refetchOnMount:false,refetchInterval:36e5,queryFn:async()=>await c.hiveClient.call("bridge","get_relationship_between_accounts",[t,e])})}function Bc(t){return reactQuery.queryOptions({queryKey:u.accounts.subscriptions(t),enabled:!!t,queryFn:async()=>await c.hiveClient.call("bridge","list_all_subscriptions",{account:t})??[]})}function Uc(t,e){return reactQuery.queryOptions({queryKey:u.accounts.bookmarks(t),enabled:!!t&&!!e,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Accounts][Bookmarks] \u2013 missing auth");return await(await w()(c.privateApiHost+"/private-api/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})})).json()}})}function Lc(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.accounts.bookmarksInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/bookmarks?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch bookmarks: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}function Xc(t,e){return reactQuery.queryOptions({queryKey:u.accounts.favorites(t),enabled:!!t&&!!e,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Accounts][Favorites] \u2013 missing auth");return await(await w()(c.privateApiHost+"/private-api/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})})).json()}})}function Zc(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.accounts.favoritesInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/favorites?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch favorites: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}function np(t,e,r){return reactQuery.queryOptions({queryKey:u.accounts.checkFavorite(t,r),enabled:!!t&&!!e&&!!r,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Accounts][Favorites] \u2013 missing auth");if(!r)throw new Error("[SDK][Accounts][Favorites] \u2013 no target username");let i=await w()(c.privateApiHost+"/private-api/favorites-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,account:r})});if(!i.ok)throw new Error(`[SDK][Accounts][Favorites] \u2013 favorites-check failed with status ${i.status}: ${i.statusText}`);let o=await i.json();if(typeof o!="boolean")throw new Error(`[SDK][Accounts][Favorites] \u2013 favorites-check returned invalid type: expected boolean, got ${typeof o}`);return o}})}function ap(t,e){return reactQuery.queryOptions({enabled:!!t&&!!e,queryKey:u.accounts.recoveries(t),queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Accounts] Missing username or access token");return (await w()(c.privateApiHost+"/private-api/recoveries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})})).json()}})}function lp(t){return reactQuery.queryOptions({enabled:!!t,queryKey:u.accounts.pendingRecovery(t),queryFn:()=>c.hiveClient.call("database_api","find_change_recovery_account_requests",{accounts:[t]})})}function yp(t,e=50){return reactQuery.queryOptions({queryKey:u.accounts.reputations(t,e),enabled:!!t,queryFn:async()=>t?c.hiveClient.call("condenser_api","get_account_reputations",[t,e]):[]})}var b=dhive.utils.operationOrders,Z={transfers:[b.transfer,b.transfer_to_savings,b.transfer_from_savings,b.cancel_transfer_from_savings,b.recurrent_transfer,b.fill_recurrent_transfer,b.escrow_transfer,b.fill_recurrent_transfer],"market-orders":[b.fill_convert_request,b.fill_order,b.fill_collateralized_convert_request,b.limit_order_create2,b.limit_order_create,b.limit_order_cancel],interests:[b.interest],"stake-operations":[b.return_vesting_delegation,b.withdraw_vesting,b.transfer_to_vesting,b.set_withdraw_vesting_route,b.update_proposal_votes,b.fill_vesting_withdraw,b.account_witness_proxy,b.delegate_vesting_shares],rewards:[b.author_reward,b.curation_reward,b.producer_reward,b.claim_reward_balance,b.comment_benefactor_reward,b.liquidity_reward,b.proposal_pay]},Sn=[...Object.values(Z)].reduce((t,e)=>t.concat(e),[]);function Op(t,e=20,r=""){return reactQuery.infiniteQueryOptions({queryKey:u.accounts.transactions(t??"",r,e),initialPageParam:-1,queryFn:async({pageParam:n})=>{if(!t)return [];let i;try{switch(r){case "transfers":i=dhive.utils.makeBitMaskFilter(Z.transfers);break;case "market-orders":i=dhive.utils.makeBitMaskFilter(Z["market-orders"]);break;case "interests":i=dhive.utils.makeBitMaskFilter(Z.interests);break;case "stake-operations":i=dhive.utils.makeBitMaskFilter(Z["stake-operations"]);break;case "rewards":i=dhive.utils.makeBitMaskFilter(Z.rewards);break;default:i=dhive.utils.makeBitMaskFilter(Sn);}}catch(a){console.warn("BigInt not supported, using client-side filtering",a),i=void 0;}return (await(i?c.hiveClient.call("condenser_api","get_account_history",[t,n,e,...i]):c.hiveClient.call("condenser_api","get_account_history",[t,n,e]))).map(([a,l])=>{let p={num:a,type:l.op[0],timestamp:l.timestamp,trx_id:l.trx_id},d=l.op[1];return {...p,...d}}).filter(Boolean).sort((a,l)=>l.num-a.num)},getNextPageParam:n=>n?.length?(n[n.length-1]?.num??0)-1:-1})}function Cp(){return reactQuery.queryOptions({queryKey:u.accounts.bots(),queryFn:async()=>{let t=await fetch(c.privateApiHost+"/private-api/public/bots",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch bots: ${t.status}`);return t.json()},refetchOnMount:true,staleTime:1/0})}function qp(t){return reactQuery.infiniteQueryOptions({queryKey:u.accounts.referrals(t),initialPageParam:{maxId:void 0},queryFn:async({pageParam:e})=>{let{maxId:r}=e??{},n=exports.ConfigManager.getValidatedBaseUrl(),i=new URL(`/private-api/referrals/${t}`,n);r!==void 0&&i.searchParams.set("max_id",r.toString());let o=await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error(`Failed to fetch referrals: ${o.status}`);return o.json()},getNextPageParam:e=>{let r=e?.[e.length-1]?.id;return typeof r=="number"?{maxId:r}:void 0}})}function Qp(t){return reactQuery.queryOptions({queryKey:u.accounts.referralsStats(t),queryFn:async()=>{let e=await fetch(c.privateApiHost+`/private-api/referrals/${t}/stats`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Failed to fetch referral stats: ${e.status}`);let r=await e.json();if(!r)throw new Error("No Referrals for this user!");return {total:r.total??0,rewarded:r.rewarded??0}}})}function Mp(t,e,r){let{followType:n="blog",limit:i=100,enabled:o=true}=r??{};return reactQuery.infiniteQueryOptions({queryKey:u.accounts.friends(t,e,n,i),initialPageParam:{startFollowing:""},enabled:o,refetchOnMount:true,queryFn:async({pageParam:s})=>{let{startFollowing:a}=s,p=(await c.hiveClient.database.call(e==="following"?"get_following":"get_followers",[t,a===""?null:a,n,i])).map(g=>e==="following"?g.following:g.follower);return (await c.hiveClient.call("bridge","get_profiles",{accounts:p,observer:void 0})??[]).map(g=>({name:g.name,reputation:g.reputation,active:g.active}))},getNextPageParam:s=>s&&s.length===i?{startFollowing:s[s.length-1].name}:void 0})}var Rn=30;function Gp(t,e,r){return reactQuery.queryOptions({queryKey:u.accounts.searchFriends(t,e,r),refetchOnMount:false,enabled:false,queryFn:async()=>{if(!r)return [];let n=r.slice(0,-1),o=(await c.hiveClient.database.call(e==="following"?"get_following":"get_followers",[t,n,"blog",1e3])).map(a=>e==="following"?a.following:a.follower).filter(a=>a.toLowerCase().includes(r.toLowerCase())).slice(0,Rn);return (await c.hiveClient.call("bridge","get_profiles",{accounts:o,observer:void 0}))?.map(a=>({name:a.name,full_name:a.metadata.profile?.name||"",reputation:a.reputation,active:a.active}))??[]}})}function Lp(t=20){return reactQuery.infiniteQueryOptions({queryKey:u.posts.trendingTags(),queryFn:async({pageParam:{afterTag:e}})=>c.hiveClient.database.call("get_trending_tags",[e,t]).then(r=>r.filter(n=>n.name!=="").filter(n=>!n.name.startsWith("hive-")).map(n=>n.name)),initialPageParam:{afterTag:""},getNextPageParam:e=>({afterTag:e?.[e?.length-1]}),staleTime:3600*1e3})}function Zp(t=250){return reactQuery.infiniteQueryOptions({queryKey:u.posts.trendingTagsWithStats(t),queryFn:async({pageParam:{afterTag:e}})=>c.hiveClient.database.call("get_trending_tags",[e,t]).then(r=>r.filter(n=>n.name!=="").filter(n=>!xe(n.name))),initialPageParam:{afterTag:""},getNextPageParam:e=>e?.length?{afterTag:e[e.length-1].name}:void 0,staleTime:1/0})}function tt(t,e){return reactQuery.queryOptions({queryKey:u.posts.fragments(t),queryFn:async()=>e?(await w()(c.privateApiHost+"/private-api/fragments",{method:"POST",body:JSON.stringify({code:e}),headers:{"Content-Type":"application/json"}})).json():[],enabled:!!t&&!!e})}function nl(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.posts.fragmentsInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/fragments?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch fragments: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}function al(t="feed"){return reactQuery.queryOptions({queryKey:u.posts.promoted(t),queryFn:async()=>{let e=exports.ConfigManager.getValidatedBaseUrl(),r=new URL("/private-api/promoted-entries",e);return t==="waves"&&r.searchParams.append("short_content","1"),await(await w()(r.toString(),{method:"GET",headers:{"Content-Type":"application/json"}})).json()}})}function ll(t){return reactQuery.queryOptions({queryKey:u.posts.entryActiveVotes(t?.author,t?.permlink),queryFn:async()=>c.hiveClient.database.call("get_active_votes",[t?.author,t?.permlink]),enabled:!!t})}function yl(t,e,r){return reactQuery.queryOptions({queryKey:u.posts.userPostVote(t,e,r),queryFn:async()=>(await c.hiveClient.call("database_api","list_votes",{start:[t,e,r],limit:1,order:"by_voter_comment"}))?.votes?.[0]||null,enabled:!!t&&!!e&&!!r})}function _l(t,e){return reactQuery.queryOptions({queryKey:u.posts.content(t,e),enabled:!!t&&!!e,queryFn:async()=>c.hiveClient.call("condenser_api","get_content",[t,e])})}function Al(t,e){return reactQuery.queryOptions({queryKey:u.posts.contentReplies(t,e),enabled:!!t&&!!e,queryFn:async()=>c.hiveClient.call("condenser_api","get_content_replies",{author:t,permlink:e})})}function El(t,e){return reactQuery.queryOptions({queryKey:u.posts.postHeader(t,e),queryFn:async()=>c.hiveClient.call("bridge","get_post_header",{author:t,permlink:e}),initialData:null})}function S(t){return Array.isArray(t)?t.map(e=>Fe(e)):Fe(t)}function Fe(t){if(!t)return t;let e=`@${t.author}/${t.permlink}`;return c.dmcaPatterns.includes(e)||c.dmcaPatternRegexes.some(n=>n.test(e))?{...t,body:"This post is not available due to a copyright/fraudulent claim.",title:""}:t}function Ke(t,e,r="",n){let i=e?.trim(),o=`/@${t}/${i??""}`;return reactQuery.queryOptions({queryKey:u.posts.entry(o),queryFn:async()=>{if(!i||i==="undefined")return null;let s=await c.hiveClient.call("bridge","get_post",{author:t,permlink:i,observer:r});if(!s)return null;let a=n!==void 0?{...s,num:n}:s;return S(a)},enabled:!!t&&!!e&&e.trim()!==""&&e.trim()!=="undefined"})}function K(t,e){return c.hiveClient.call("bridge",t,e)}async function Qe(t,e,r){let{json_metadata:n}=t;if(n?.original_author&&n?.original_permlink&&n.tags?.[0]==="cross-post")try{let i=await Un(n.original_author,n.original_permlink,e,r);return i?{...t,original_entry:i,num:r}:t}catch{return t}return {...t,num:r}}async function Re(t,e){let r=t.map(st),n=await Promise.all(r.map(i=>Qe(i,e)));return S(n)}async function Ie(t,e="",r="",n=20,i="",o=""){let s=await K("get_ranked_posts",{sort:t,start_author:e,start_permlink:r,limit:n,tag:i,observer:o});return s&&Re(s,o)}async function De(t,e,r="",n="",i=20,o=""){if(c.dmcaAccounts.includes(e))return [];let s=await K("get_account_posts",{sort:t,account:e,start_author:r,start_permlink:n,limit:i,observer:o});return s&&Re(s,o)}function st(t){let e={...t,active_votes:Array.isArray(t.active_votes)?[...t.active_votes]:[],beneficiaries:Array.isArray(t.beneficiaries)?[...t.beneficiaries]:[],blacklists:Array.isArray(t.blacklists)?[...t.blacklists]:[],replies:Array.isArray(t.replies)?[...t.replies]:[],stats:t.stats?{...t.stats}:null},r=["author","title","body","created","category","permlink","url","updated"];for(let n of r)e[n]==null&&(e[n]="");return e.author_reputation==null&&(e.author_reputation=0),e.children==null&&(e.children=0),e.depth==null&&(e.depth=0),e.net_rshares==null&&(e.net_rshares=0),e.payout==null&&(e.payout=0),e.percent_hbd==null&&(e.percent_hbd=0),e.stats||(e.stats={flag_weight:0,gray:false,hide:false,total_votes:0}),e.author_payout_value==null&&(e.author_payout_value="0.000 HBD"),e.curator_payout_value==null&&(e.curator_payout_value="0.000 HBD"),e.max_accepted_payout==null&&(e.max_accepted_payout="1000000.000 HBD"),e.payout_at==null&&(e.payout_at=""),e.pending_payout_value==null&&(e.pending_payout_value="0.000 HBD"),e.promoted==null&&(e.promoted="0.000 HBD"),e.is_paidout==null&&(e.is_paidout=false),e}async function Un(t="",e="",r="",n){let i=await K("get_post",{author:t,permlink:e,observer:r});if(i){let o=st(i),s=await Qe(o,r,n);return S(s)}}async function Nl(t="",e=""){let r=await K("get_post_header",{author:t,permlink:e});return r&&st(r)}async function Ne(t,e,r){let n=await K("get_discussion",{author:t,permlink:e,observer:r||t});if(n){let i={};for(let[o,s]of Object.entries(n))i[o]=st(s);return i}return n}async function Me(t,e=""){return K("get_community",{name:t,observer:e})}async function Ml(t="",e=100,r,n="rank",i=""){return K("list_communities",{last:t,limit:e,query:r,sort:n,observer:i})}async function He(t){let e=await K("normalize_post",{post:t});return e&&st(e)}async function Hl(t){return K("list_all_subscriptions",{account:t})}async function jl(t){return K("list_subscribers",{community:t})}async function Vl(t,e){return K("get_relationship_between_accounts",[t,e])}async function je(t,e){return K("get_profiles",{accounts:t,observer:e})}var Be=(i=>(i.trending="trending",i.author_reputation="author_reputation",i.votes="votes",i.created="created",i))(Be||{});function Ht(t){let e=t.match(/^(\d+\.?\d*)\s*([A-Z]+)$/);return e?{amount:parseFloat(e[1]),symbol:e[2]}:{amount:0,symbol:""}}function Ln(t,e,r){let n=d=>Ht(d.pending_payout_value).amount+Ht(d.author_payout_value).amount+Ht(d.curator_payout_value).amount,i=d=>d.net_rshares<0,o=d=>t.json_metadata?.pinned_reply===`${d.author}/${d.permlink}`,s={trending:(d,f)=>{if(i(d))return 1;if(i(f))return  -1;let g=n(d),h=n(f);return g!==h?h-g:0},author_reputation:(d,f)=>{let g=d.author_reputation,h=f.author_reputation;return g>h?-1:g<h?1:0},votes:(d,f)=>{let g=d.children,h=f.children;return g>h?-1:g<h?1:0},created:(d,f)=>{if(i(d))return 1;if(i(f))return  -1;let g=Date.parse(d.created),h=Date.parse(f.created);return g>h?-1:g<h?1:0}},a=e.sort(s[r]),l=a.findIndex(d=>o(d)),p=a[l];return l>=0&&(a.splice(l,1),a.unshift(p)),a}function Ge(t,e="created",r=true,n){return reactQuery.queryOptions({queryKey:u.posts.discussions(t?.author,t?.permlink,e,n||t?.author),queryFn:async()=>{if(!t)return [];let i=await c.hiveClient.call("bridge","get_discussion",{author:t.author,permlink:t.permlink,observer:n||t.author}),o=i?Array.from(Object.values(i)):[];return S(o)},enabled:r&&!!t,select:i=>Ln(t,i,e),structuralSharing:(i,o)=>{if(!i||!o)return o;let s=i.filter(p=>p.is_optimistic===true),a=new Set(o.map(p=>`${p.author}/${p.permlink}`)),l=s.filter(p=>!a.has(`${p.author}/${p.permlink}`));return l.length>0?[...o,...l]:o}})}function Ll(t,e,r,n=true){return reactQuery.queryOptions({queryKey:u.posts.discussion(t,e,r||t),enabled:n&&!!t&&!!e,queryFn:async()=>Ne(t,e,r)})}function td(t,e="posts",r=20,n="",i=true){return reactQuery.infiniteQueryOptions({queryKey:u.posts.accountPosts(t??"",e,r,n),enabled:!!t&&i,initialPageParam:{author:void 0,permlink:void 0,hasNextPage:true},queryFn:async({pageParam:o})=>{if(!o?.hasNextPage||!t)return [];let s={sort:e,account:t,limit:r,...n&&n.length>0?{observer:n}:{},...o.author?{start_author:o.author}:{},...o.permlink?{start_permlink:o.permlink}:{}};try{if(c.dmcaAccounts&&c.dmcaAccounts.includes(t))return [];let a=await c.hiveClient.call("bridge","get_account_posts",s);return a&&Array.isArray(a)?S(a):[]}catch(a){return console.error("[SDK] get_account_posts error:",a),[]}},getNextPageParam:o=>{let s=o?.[o.length-1],a=(o?.length??0)===r;if(a)return {author:s?.author,permlink:s?.permlink,hasNextPage:a}}})}function ed(t,e="posts",r="",n="",i=20,o="",s=true){return reactQuery.queryOptions({queryKey:u.posts.accountPostsPage(t??"",e,r,n,i,o),enabled:!!t&&s,queryFn:async()=>{if(!t)return [];let a=await De(e,t,r,n,i,o);return S(a??[])}})}function ad(t,e,r=20,n="",i=true,o={}){return reactQuery.infiniteQueryOptions({queryKey:u.posts.postsRanked(t,e,r,n),queryFn:async({pageParam:s})=>{if(!s.hasNextPage)return [];let a=e;c.dmcaTagRegexes.some(p=>p.test(e))&&(a="");let l=await c.hiveClient.call("bridge","get_ranked_posts",{sort:t,start_author:s.author,start_permlink:s.permlink,limit:r,tag:a,observer:n});if(l&&Array.isArray(l)){let p=l,d=t==="hot"?p:p.sort((v,A)=>new Date(A.created).getTime()-new Date(v.created).getTime()),f=d.find(v=>v.stats?.is_pinned),g=d.filter(v=>!v.stats?.is_pinned),h=[f,...g].filter(v=>!!v);return S(h)}return []},enabled:i,initialPageParam:{author:void 0,permlink:void 0,hasNextPage:true},getNextPageParam:s=>{let a=s?.[s.length-1];return {author:a?.author,permlink:a?.permlink,hasNextPage:(s?.length??0)>0}}})}function ud(t,e="",r="",n=20,i="",o="",s=true){return reactQuery.queryOptions({queryKey:u.posts.postsRankedPage(t,e,r,n,i,o),enabled:s,queryFn:async()=>{let a=i;c.dmcaTagRegexes.some(p=>p.test(i))&&(a="");let l=await Ie(t,e,r,n,a,o);return S(l??[])}})}function dd(t,e,r=200){return reactQuery.queryOptions({queryKey:u.posts.reblogs(t??"",r),queryFn:async()=>(await c.hiveClient.call("condenser_api","get_blog_entries",[t??e,0,r])).filter(i=>i.author!==e&&!i.reblogged_on.startsWith("1970-")).map(i=>({author:i.author,permlink:i.permlink})),enabled:!!t})}function yd(t,e){return reactQuery.queryOptions({queryKey:u.posts.rebloggedBy(t??"",e??""),queryFn:async()=>{if(!t||!e)return [];let r=await c.hiveClient.call("condenser_api","get_reblogged_by",[t,e]);return Array.isArray(r)?r:[]},enabled:!!t&&!!e})}function _d(t,e){return reactQuery.queryOptions({queryKey:u.posts.schedules(t),queryFn:async()=>{if(!t||!e)return [];let n=await w()(c.privateApiHost+"/private-api/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!n.ok)throw new Error(`Failed to fetch schedules: ${n.status}`);return n.json()},enabled:!!t&&!!e})}function bd(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.posts.schedulesInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/schedules?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch schedules: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}function kd(t,e){return reactQuery.queryOptions({queryKey:u.posts.drafts(t),queryFn:async()=>{if(!t||!e)return [];let n=await w()(c.privateApiHost+"/private-api/drafts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!n.ok)throw new Error(`Failed to fetch drafts: ${n.status}`);return n.json()},enabled:!!t&&!!e})}function Cd(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.posts.draftsInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/drafts?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch drafts: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}async function $e(t){let r=await w()(c.privateApiHost+"/private-api/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(!r.ok)throw new Error(`Failed to fetch images: ${r.status}`);return r.json()}function qd(t,e){return reactQuery.queryOptions({queryKey:u.posts.images(t),queryFn:async()=>!t||!e?[]:$e(e),enabled:!!t&&!!e})}function Td(t,e){return reactQuery.queryOptions({queryKey:u.posts.galleryImages(t),queryFn:async()=>!t||!e?[]:$e(e),enabled:!!t&&!!e})}function Fd(t,e,r=10){return reactQuery.infiniteQueryOptions({queryKey:u.posts.imagesInfinite(t,r),queryFn:async({pageParam:n=0})=>{if(!t||!e)return {data:[],pagination:{total:0,limit:r,offset:0,has_next:false}};let o=await w()(`${c.privateApiHost}/private-api/images?format=wrapped&offset=${n}&limit=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!o.ok)throw new Error(`Failed to fetch images: ${o.status}`);let s=await o.json();return F(s,r)},initialPageParam:0,getNextPageParam:n=>{if(n.pagination.has_next)return n.pagination.offset+n.pagination.limit},enabled:!!t&&!!e})}function Id(t,e,r=false){return reactQuery.queryOptions({queryKey:u.posts.commentHistory(t,e,r),queryFn:async({signal:n})=>{let i=await fetch(c.privateApiHost+"/private-api/comment-history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:t,permlink:e,onlyMeta:r?"1":""}),signal:n});if(!i.ok)throw new Error(`Failed to fetch comment history: ${i.status}`);return i.json()},enabled:!!t&&!!e})}function ui(t,e){let r=t?.trim(),n=e?.trim();if(!r||!n)throw new Error("Invalid entry path: author and permlink are required");let i=r.replace(/^@+/,""),o=n.replace(/^\/+/,"");if(!i||!o)throw new Error("Invalid entry path: author and permlink cannot be empty after normalization");return `@${i}/${o}`}function Hd(t,e){let r=e?.trim(),n=t?.trim(),i=!!n&&!!r&&r!=="undefined",o=i?ui(n,r):"";return reactQuery.queryOptions({queryKey:u.posts.deletedEntry(o),queryFn:async({signal:s})=>{let a=await fetch(c.privateApiHost+"/private-api/comment-history",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:t,permlink:r||""}),signal:s});if(!a.ok)throw new Error(`Failed to fetch comment history: ${a.status}`);return a.json()},select:s=>{if(!s?.list?.[0])return null;let{body:a,title:l,tags:p}=s.list[0];return {body:a,title:l,tags:p}},enabled:i})}function Gd(t,e,r=true){return reactQuery.queryOptions({queryKey:u.posts.tips(t,e),queryFn:async()=>{let n=await fetch(c.privateApiHost+"/private-api/post-tips",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:t,permlink:e})});if(!n.ok)throw new Error(`Failed to fetch post tips: ${n.status}`);return n.json()},enabled:!!t&&!!e&&r})}function pi(t,e){return {...t,id:t.id??t.post_id,host:e}}function li(t){return {...t,id:t.id??t.post_id}}function wt(t,e){if(!t)return null;let r=t.container??t,n=pi(r,e),i=t.parent?li(t.parent):void 0;return {...t,id:t.id??t.post_id,host:e,container:n,parent:i}}function di(t){return Array.isArray(t)?t:[]}async function Ue(t){let e=Ge(t,"created",true),r=await c.queryClient.fetchQuery(e),n=di(r);if(n.length<=1)return [];let i=n.filter(({parent_author:s,parent_permlink:a})=>s===t.author&&a===t.permlink);return i.length===0?[]:i.filter(s=>!s.stats?.gray)}function Le(t,e,r){return t.length===0?[]:t.map(n=>{let i=t.find(o=>o.author===n.parent_author&&o.permlink===n.parent_permlink&&o.author!==r);return {...n,id:n.post_id,host:r,container:e,parent:i}}).filter(n=>n.container.post_id!==n.post_id).sort((n,i)=>new Date(i.created).getTime()-new Date(n.created).getTime())}var mi=5,gi=50;async function yi(t,e){let r=e?.author,n=e?.permlink,i=0,o=e?.post_id;for(;i<gi;){let s={sort:"posts",account:t,limit:mi,...r?{start_author:r}:{},...n?{start_permlink:n}:{}},a=await c.hiveClient.call("bridge","get_account_posts",s);if(!a||a.length===0)return null;let l=a.map(d=>(d.id=d.post_id,d.host=t,d));for(let d of l){if(o&&d.post_id===o){o=void 0;continue}if(i+=1,d.stats?.gray){r=d.author,n=d.permlink;continue}let f=await Ue(d);if(f.length===0){r=d.author,n=d.permlink;continue}return {entries:Le(f,d,t)}}let p=l[l.length-1];if(!p)return null;r=p.author,n=p.permlink;}return null}function Xd(t){return reactQuery.infiniteQueryOptions({queryKey:u.posts.wavesByHost(t),initialPageParam:void 0,queryFn:async({pageParam:e})=>{let r=await yi(t,e);return r?r.entries:[]},getNextPageParam:e=>e?.[0]?.container})}var wi=40;function nf(t,e,r=wi){return reactQuery.infiniteQueryOptions({queryKey:u.posts.wavesByTag(t,e),initialPageParam:void 0,queryFn:async({signal:n})=>{try{let i=exports.ConfigManager.getValidatedBaseUrl(),o=new URL("/private-api/waves/tags",i);o.searchParams.set("container",t),o.searchParams.set("tag",e);let s=await fetch(o.toString(),{method:"GET",headers:{"Content-Type":"application/json"},signal:n});if(!s.ok)throw new Error(`Failed to fetch waves by tag: ${s.status}`);return (await s.json()).slice(0,r).map(p=>wt(p,t)).filter(p=>!!p).sort((p,d)=>new Date(d.created).getTime()-new Date(p.created).getTime())}catch(i){return console.error("[SDK] Failed to fetch waves by tag",i),[]}},getNextPageParam:()=>{}})}function cf(t,e){let r=e?.trim().toLowerCase();return reactQuery.infiniteQueryOptions({queryKey:u.posts.wavesFollowing(t,r??""),enabled:!!r,initialPageParam:void 0,queryFn:async({signal:n})=>{if(!r)return [];try{let i=exports.ConfigManager.getValidatedBaseUrl(),o=new URL("/private-api/waves/following",i);o.searchParams.set("container",t),o.searchParams.set("username",r);let s=await fetch(o.toString(),{method:"GET",headers:{"Content-Type":"application/json"},signal:n});if(!s.ok)throw new Error(`Failed to fetch waves following feed: ${s.status}`);let a=await s.json();if(!Array.isArray(a)||a.length===0)return [];let l=a.map(p=>wt(p,t)).filter(p=>!!p);return l.length===0?[]:l.sort((p,d)=>new Date(d.created).getTime()-new Date(p.created).getTime())}catch(i){return console.error("[SDK] Failed to fetch waves following feed",i),[]}},getNextPageParam:()=>{}})}function ff(t,e=24){return reactQuery.queryOptions({queryKey:u.posts.wavesTrendingTags(t,e),queryFn:async({signal:r})=>{try{let n=exports.ConfigManager.getValidatedBaseUrl(),i=new URL("/private-api/waves/trending/tags",n);i.searchParams.set("container",t),i.searchParams.set("hours",e.toString());let o=await fetch(i.toString(),{method:"GET",headers:{"Content-Type":"application/json"},signal:r});if(!o.ok)throw new Error(`Failed to fetch waves trending tags: ${o.status}`);return (await o.json()).map(({tag:a,posts:l})=>({tag:a,posts:l}))}catch(n){return console.error("[SDK] Failed to fetch waves trending tags",n),[]}}})}function wf(t,e=true){return reactQuery.queryOptions({queryKey:u.posts.normalize(t?.author??"",t?.permlink??""),enabled:e&&!!t,queryFn:async()=>He(t)})}function Pi(t){return !!t&&typeof t=="object"&&"author"in t&&"permlink"in t&&"active_votes"in t}function Je(t){let e=new Date(t);return (new Date().getTime()-e.getTime())/(1e3*60*60*24)}function Af(t,e){let{limit:r=20,filters:n=[],dayLimit:i=7}=e??{};return reactQuery.infiniteQueryOptions({queryKey:u.accounts.voteHistory(t,r),initialPageParam:{start:-1},queryFn:async({pageParam:o})=>{let{start:s}=o,a=await c.hiveClient.call("condenser_api","get_account_history",[t,s,r,...n]),p=a.map(([g,h])=>({...h.op[1],num:g,timestamp:h.timestamp})).filter(g=>g.voter===t&&g.weight!==0&&Je(g.timestamp)<=i),d=[];for(let g of p){let h=await c.queryClient.fetchQuery(Ke(g.author,g.permlink));Pi(h)&&d.push(h);}let[f]=a;return {lastDate:f?Je(f[1].timestamp):0,lastItemFetched:f?f[0]:s,entries:d}},getNextPageParam:o=>({start:o.lastItemFetched})})}function Sf(t,e,r=true){return reactQuery.queryOptions({queryKey:u.accounts.profiles(t,e??""),enabled:r&&t.length>0,queryFn:async()=>je(t,e)})}function Rf(t,e){let r=reactQuery.useQueryClient(),{data:n}=reactQuery.useQuery(P(t));return y(["accounts","update"],t,i=>{if(!n)throw new Error("[SDK][Accounts] \u2013 cannot update not existing account");let o=Mt({existingProfile:Nt(n),profile:i.profile,tokens:i.tokens});return [["account_update2",{account:t,json_metadata:"",extensions:[],posting_json_metadata:JSON.stringify({profile:o})}]]},async(i,o)=>{r.setQueryData(P(t).queryKey,s=>{if(!s)return s;let a=Pt__namespace.clone(s);return a.profile=Mt({existingProfile:Nt(s),profile:o.profile,tokens:o.tokens}),a}),e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t)]);},e)}function Hf(t,e,r,n,i){return reactQuery.useMutation({mutationKey:["accounts","relation","update",t,e],mutationFn:async o=>{let s=Te(t,e);await m().prefetchQuery(s);let a=m().getQueryData(s.queryKey);return await Ae(t,"follow",["follow",{follower:t,following:e,what:[...o==="toggle-ignore"&&!a?.ignores?["ignore"]:[],...o==="toggle-follow"&&!a?.follows?["blog"]:[]]}],r),{...a,ignores:o==="toggle-ignore"?!a?.ignores:a?.ignores,follows:o==="toggle-follow"?!a?.follows:a?.follows}},onError:i,onSuccess(o){n(o),m().setQueryData(u.accounts.relations(t,e),o),e&&m().invalidateQueries(P(e));}})}function jt(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildVoteOp] Missing required parameters");if(n<-1e4||n>1e4)throw new Error("[SDK][buildVoteOp] Weight must be between -10000 and 10000");return ["vote",{voter:t,author:e,permlink:r,weight:n}]}function G(t,e,r,n,i,o,s){if(!t||!e||n===void 0||!o)throw new Error("[SDK][buildCommentOp] Missing required parameters");return ["comment",{parent_author:r,parent_permlink:n,author:t,permlink:e,title:i,body:o,json_metadata:JSON.stringify(s)}]}function W(t,e,r,n,i,o,s){if(!t||!e)throw new Error("[SDK][buildCommentOptionsOp] Missing required parameters");return ["comment_options",{author:t,permlink:e,max_accepted_payout:r,percent_hbd:n,allow_votes:i,allow_curation_rewards:o,extensions:s}]}function Vt(t,e){if(!t||!e)throw new Error("[SDK][buildDeleteCommentOp] Missing required parameters");return ["delete_comment",{author:t,permlink:e}]}function Bt(t,e,r,n=false){if(!t||!e||!r)throw new Error("[SDK][buildReblogOp] Missing required parameters");let i={account:t,author:e,permlink:r};return n&&(i.delete="delete"),["custom_json",{id:"follow",json:JSON.stringify(["reblog",i]),required_auths:[],required_posting_auths:[t]}]}function $(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildTransferOp] Missing required parameters");return ["transfer",{from:t,to:e,amount:r,memo:n||""}]}function Ei(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildMultiTransferOps] Missing required parameters");return e.trim().split(/[\s,]+/).filter(Boolean).map(o=>$(t,o.trim(),r,n))}function Si(t,e,r,n,i,o){if(!t||!e||!r)throw new Error("[SDK][buildRecurrentTransferOp] Missing required parameters");if(i<24)throw new Error("[SDK][buildRecurrentTransferOp] Recurrence must be at least 24 hours");return ["recurrent_transfer",{from:t,to:e,amount:r,memo:n||"",recurrence:i,executions:o,extensions:[]}]}function et(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildTransferToSavingsOp] Missing required parameters");return ["transfer_to_savings",{from:t,to:e,amount:r,memo:n||""}]}function U(t,e,r,n,i){if(!t||!e||!r||i===void 0)throw new Error("[SDK][buildTransferFromSavingsOp] Missing required parameters");return ["transfer_from_savings",{from:t,to:e,amount:r,memo:n||"",request_id:i}]}function Ye(t,e){if(!t||e===void 0)throw new Error("[SDK][buildCancelTransferFromSavingsOp] Missing required parameters");return ["cancel_transfer_from_savings",{from:t,request_id:e}]}function at(t,e,r,n,i){if(!t||!e||!r||i===void 0)throw new Error("[SDK][buildClaimInterestOps] Missing required parameters");return [U(t,e,r,n,i),Ye(t,i)]}function ut(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildTransferToVestingOp] Missing required parameters");return ["transfer_to_vesting",{from:t,to:e,amount:r}]}function ct(t,e){if(!t||!e)throw new Error("[SDK][buildWithdrawVestingOp] Missing required parameters");return ["withdraw_vesting",{account:t,vesting_shares:e}]}function pt(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildDelegateVestingSharesOp] Missing required parameters");return ["delegate_vesting_shares",{delegator:t,delegatee:e,vesting_shares:r}]}function lt(t,e,r,n){if(!t||!e||r===void 0)throw new Error("[SDK][buildSetWithdrawVestingRouteOp] Missing required parameters");if(r<0||r>1e4)throw new Error("[SDK][buildSetWithdrawVestingRouteOp] Percent must be between 0 and 10000");return ["set_withdraw_vesting_route",{from_account:t,to_account:e,percent:r,auto_vest:n}]}function dt(t,e,r){if(!t||!e||r===void 0)throw new Error("[SDK][buildConvertOp] Missing required parameters");return ["convert",{owner:t,amount:e,requestid:r}]}function Gt(t,e,r){if(!t||!e||r===void 0)throw new Error("[SDK][buildCollateralizedConvertOp] Missing required parameters");return ["collateralized_convert",{owner:t,amount:e,requestid:r}]}function vt(t,e,r){return ["custom_json",{id:e,required_auths:[t],required_posting_auths:[],json:JSON.stringify({amount:r*1e3})}]}function L(t,e,r,n="tokens"){return ["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:JSON.stringify({contractName:n,contractAction:e,contractPayload:r})}]}function Wt(t,e){return ["custom_json",{id:"scot_claim_token",required_auths:[],required_posting_auths:[t],json:JSON.stringify(e.map(r=>({symbol:r})))}]}function $t(t,e,r){if(!t||!e||r===void 0)throw new Error("[SDK][buildDelegateRcOp] Missing required parameters");let n=e.includes(",")?e.split(",").map(i=>i.trim()):[e];return ["custom_json",{id:"rc",json:JSON.stringify(["delegate_rc",{from:t,delegatees:n,max_rc:r}]),required_auths:[],required_posting_auths:[t]}]}function Ut(t,e){if(!t||!e)throw new Error("[SDK][buildFollowOp] Missing required parameters");return ["custom_json",{id:"follow",json:JSON.stringify(["follow",{follower:t,following:e,what:["blog"]}]),required_auths:[],required_posting_auths:[t]}]}function _t(t,e){if(!t||!e)throw new Error("[SDK][buildUnfollowOp] Missing required parameters");return ["custom_json",{id:"follow",json:JSON.stringify(["follow",{follower:t,following:e,what:[]}]),required_auths:[],required_posting_auths:[t]}]}function qi(t,e){if(!t||!e)throw new Error("[SDK][buildIgnoreOp] Missing required parameters");return ["custom_json",{id:"follow",json:JSON.stringify(["follow",{follower:t,following:e,what:["ignore"]}]),required_auths:[],required_posting_auths:[t]}]}function Ti(t,e){if(!t||!e)throw new Error("[SDK][buildUnignoreOp] Missing required parameters");return _t(t,e)}function Lt(t,e){if(!t)throw new Error("[SDK][buildSetLastReadOps] Missing required parameters");let r=e||new Date().toISOString().split(".")[0],n=["custom_json",{id:"notify",json:JSON.stringify(["setLastRead",{date:r}]),required_auths:[],required_posting_auths:[t]}],i=["custom_json",{id:"ecency_notify",json:JSON.stringify(["setLastRead",{date:r}]),required_auths:[],required_posting_auths:[t]}];return [n,i]}function Jt(t,e,r){if(!t||!e||r===void 0)throw new Error("[SDK][buildWitnessVoteOp] Missing required parameters");return ["account_witness_vote",{account:t,witness:e,approve:r}]}function zt(t,e){if(!t||e===void 0)throw new Error("[SDK][buildWitnessProxyOp] Missing required parameters");return ["account_witness_proxy",{account:t,proxy:e}]}function Yt(t,e){if(!t||!e.receiver||!e.subject||!e.permlink||!e.start||!e.end||!e.dailyPay)throw new Error("[SDK][buildProposalCreateOp] Missing required parameters");let r=new Date(e.start),n=new Date(e.end);if(r.toString()==="Invalid Date"||n.toString()==="Invalid Date")throw new Error("[SDK][buildProposalCreateOp] Invalid date format: start and end must be valid ISO date strings");return ["create_proposal",{creator:t,receiver:e.receiver,start_date:e.start,end_date:e.end,daily_pay:e.dailyPay,subject:e.subject,permlink:e.permlink,extensions:[]}]}function Xt(t,e,r){if(!t||!e||e.length===0||r===void 0)throw new Error("[SDK][buildProposalVoteOp] Missing required parameters");return ["update_proposal_votes",{voter:t,proposal_ids:e,approve:r,extensions:[]}]}function Fi(t,e){if(!t||!e||e.length===0)throw new Error("[SDK][buildRemoveProposalOp] Missing required parameters");return ["remove_proposal",{proposal_owner:t,proposal_ids:e,extensions:[]}]}function Ki(t,e,r,n,i){if(t==null||typeof t!="number"||!e||!r||!n||!i)throw new Error("[SDK][buildUpdateProposalOp] Missing required parameters");return ["update_proposal",{proposal_id:t,creator:e,daily_pay:r,subject:n,permlink:i,extensions:[]}]}function Zt(t,e){if(!t||!e)throw new Error("[SDK][buildSubscribeOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify(["subscribe",{community:e}]),required_auths:[],required_posting_auths:[t]}]}function te(t,e){if(!t||!e)throw new Error("[SDK][buildUnsubscribeOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify(["unsubscribe",{community:e}]),required_auths:[],required_posting_auths:[t]}]}function ee(t,e,r,n){if(!t||!e||!r||!n)throw new Error("[SDK][buildSetRoleOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify(["setRole",{community:e,account:r,role:n}]),required_auths:[],required_posting_auths:[t]}]}function re(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildUpdateCommunityOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify(["updateProps",{community:e,props:r}]),required_auths:[],required_posting_auths:[t]}]}function ne(t,e,r,n,i){if(!t||!e||!r||!n||i===void 0)throw new Error("[SDK][buildPinPostOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify([i?"pinPost":"unpinPost",{community:e,account:r,permlink:n}]),required_auths:[],required_posting_auths:[t]}]}function ie(t,e,r,n,i,o){if(!t||!e||!r||!n||o===void 0)throw new Error("[SDK][buildMutePostOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify([o?"mutePost":"unmutePost",{community:e,account:r,permlink:n,notes:i}]),required_auths:[],required_posting_auths:[t]}]}function Qi(t,e,r,n,i){if(!t||!e||!r||i===void 0)throw new Error("[SDK][buildMuteUserOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify([i?"muteUser":"unmuteUser",{community:e,account:r,notes:n}]),required_auths:[],required_posting_auths:[t]}]}function Ri(t,e,r,n,i){if(!t||!e||!r||!n)throw new Error("[SDK][buildFlagPostOp] Missing required parameters");return ["custom_json",{id:"community",json:JSON.stringify(["flagPost",{community:e,account:r,permlink:n,notes:i}]),required_auths:[],required_posting_auths:[t]}]}var Xe=(r=>(r.Buy="buy",r.Sell="sell",r))(Xe||{}),Ze=(r=>(r.EMPTY="",r.SWAP="9",r))(Ze||{});function Ot(t,e,r,n,i,o){if(!t||!e||!r||!i||o===void 0)throw new Error("[SDK][buildLimitOrderCreateOp] Missing required parameters");return ["limit_order_create",{owner:t,orderid:o,amount_to_sell:e,min_to_receive:r,fill_or_kill:n,expiration:i}]}function bt(t,e=3){return t.toFixed(e)}function Ii(t,e,r,n,i=""){if(!t||n===void 0||!Number.isFinite(e)||e<=0||!Number.isFinite(r)||r<=0)throw new Error("[SDK][buildLimitOrderCreateOpWithType] Missing or invalid parameters");let o=new Date(Date.now());o.setDate(o.getDate()+27);let s=o.toISOString().split(".")[0],a=+`${i}${Math.floor(Date.now()/1e3).toString().slice(2)}`,l=n==="buy"?`${bt(e,3)} HBD`:`${bt(e,3)} HIVE`,p=n==="buy"?`${bt(r,3)} HIVE`:`${bt(r,3)} HBD`;return Ot(t,l,p,false,s,a)}function oe(t,e){if(!t||e===void 0)throw new Error("[SDK][buildLimitOrderCancelOp] Missing required parameters");return ["limit_order_cancel",{owner:t,orderid:e}]}function se(t,e,r,n){if(!t||!e||!r||!n)throw new Error("[SDK][buildClaimRewardBalanceOp] Missing required parameters");return ["claim_reward_balance",{account:t,reward_hive:e,reward_hbd:r,reward_vests:n}]}function Di(t,e,r,n,i,o){if(!t||!i)throw new Error("[SDK][buildAccountUpdateOp] Missing required parameters");return ["account_update",{account:t,owner:e,active:r,posting:n,memo_key:i,json_metadata:o}]}function Ni(t,e,r,n){if(!t||r===void 0)throw new Error("[SDK][buildAccountUpdate2Op] Missing required parameters");return ["account_update2",{account:t,json_metadata:e||"",posting_json_metadata:r,extensions:n||[]}]}function ae(t,e,r,n){if(!t||!e||!r||!n)throw new Error("[SDK][buildAccountCreateOp] Missing required parameters");let i={weight_threshold:1,account_auths:[],key_auths:[[r.ownerPublicKey,1]]},o={weight_threshold:1,account_auths:[],key_auths:[[r.activePublicKey,1]]},s={weight_threshold:1,account_auths:[["ecency.app",1]],key_auths:[[r.postingPublicKey,1]]};return ["account_create",{creator:t,new_account_name:e,owner:i,active:o,posting:s,memo_key:r.memoPublicKey,json_metadata:"",extensions:[],fee:n}]}function ue(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildCreateClaimedAccountOp] Missing required parameters");let n={weight_threshold:1,account_auths:[],key_auths:[[r.ownerPublicKey,1]]},i={weight_threshold:1,account_auths:[],key_auths:[[r.activePublicKey,1]]},o={weight_threshold:1,account_auths:[["ecency.app",1]],key_auths:[[r.postingPublicKey,1]]};return ["create_claimed_account",{creator:t,new_account_name:e,owner:n,active:i,posting:o,memo_key:r.memoPublicKey,json_metadata:"",extensions:[]}]}function ce(t,e){if(!t||!e)throw new Error("[SDK][buildClaimAccountOp] Missing required parameters");return ["claim_account",{creator:t,fee:e,extensions:[]}]}function pe(t,e,r,n,i,o){if(!t||!e||!r||!i)throw new Error("[SDK][buildGrantPostingPermissionOp] Missing required parameters");let s=e.account_auths.findIndex(([p])=>p===r),a=[...e.account_auths];s>=0?a[s]=[r,n]:a.push([r,n]);let l={...e,account_auths:a};return l.account_auths.sort((p,d)=>p[0]>d[0]?1:-1),["account_update",{account:t,posting:l,memo_key:i,json_metadata:o}]}function Mi(t,e,r,n,i){if(!t||!e||!r||!n)throw new Error("[SDK][buildRevokePostingPermissionOp] Missing required parameters");let o={...e,account_auths:e.account_auths.filter(([s])=>s!==r)};return ["account_update",{account:t,posting:o,memo_key:n,json_metadata:i}]}function Hi(t,e,r=[]){if(!t||!e)throw new Error("[SDK][buildChangeRecoveryAccountOp] Missing required parameters");return ["change_recovery_account",{account_to_recover:t,new_recovery_account:e,extensions:r}]}function ji(t,e,r,n=[]){if(!t||!e||!r)throw new Error("[SDK][buildRequestAccountRecoveryOp] Missing required parameters");return ["request_account_recovery",{recovery_account:t,account_to_recover:e,new_owner_authority:r,extensions:n}]}function Vi(t,e,r,n=[]){if(!t||!e||!r)throw new Error("[SDK][buildRecoverAccountOp] Missing required parameters");return ["recover_account",{account_to_recover:t,new_owner_authority:e,recent_owner_authority:r,extensions:n}]}function tr(t,e,r,n){if(!t||!e||!r||!n)throw new Error("[SDK][buildBoostOp] Missing required parameters");return ["custom_json",{id:"ecency_boost",json:JSON.stringify({user:t,author:e,permlink:r,amount:n}),required_auths:[t],required_posting_auths:[]}]}function Bi(t,e,r,n){if(!t||!e||!r||!Number.isFinite(n))throw new Error("[SDK][buildBoostOpWithPoints] Missing required parameters");return tr(t,e,r,`${n.toFixed(3)} POINT`)}function le(t,e,r){if(!t||!e||!Number.isFinite(r))throw new Error("[SDK][buildBoostPlusOp] Missing required parameters");return ["custom_json",{id:"ecency_boost_plus",json:JSON.stringify({user:t,account:e,duration:r}),required_auths:[t],required_posting_auths:[]}]}function de(t,e,r,n){if(!t||!e||!r||!Number.isFinite(n))throw new Error("[SDK][buildPromoteOp] Missing required parameters");return ["custom_json",{id:"ecency_promote",json:JSON.stringify({user:t,author:e,permlink:r,duration:n}),required_auths:[t],required_posting_auths:[]}]}function rt(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildPointTransferOp] Missing required parameters");let i=r.replace(/POINTS\b/,"POINT");return ["custom_json",{id:"ecency_point_transfer",json:JSON.stringify({sender:t,receiver:e,amount:i,memo:n||""}),required_auths:[t],required_posting_auths:[]}]}function Gi(t,e,r,n){if(!t||!e||!r)throw new Error("[SDK][buildMultiPointTransferOps] Missing required parameters");let i=e.trim().split(/[\s,]+/).filter(Boolean);if(i.length===0)throw new Error("[SDK][buildMultiPointTransferOps] Missing valid destinations");return i.map(o=>rt(t,o.trim(),r,n))}function fe(t){if(!t)throw new Error("[SDK][buildCommunityRegistrationOp] Missing required parameters");return ["custom_json",{id:"ecency_registration",json:JSON.stringify({name:t}),required_auths:[t],required_posting_auths:[]}]}function Wi(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildActiveCustomJsonOp] Missing required parameters");return ["custom_json",{id:e,json:JSON.stringify(r),required_auths:[t],required_posting_auths:[]}]}function $i(t,e,r){if(!t||!e||!r)throw new Error("[SDK][buildPostingCustomJsonOp] Missing required parameters");return ["custom_json",{id:e,json:JSON.stringify(r),required_auths:[],required_posting_auths:[t]}]}function am(t,e){return y(["accounts","follow"],t,({following:r})=>[Ut(t,r)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.relations(t,n.following),u.accounts.full(n.following),u.accounts.followCount(n.following),u.accounts.followCount(t)]);},e)}function lm(t,e){return y(["accounts","unfollow"],t,({following:r})=>[_t(t,r)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.relations(t,n.following),u.accounts.full(n.following),u.accounts.followCount(n.following),u.accounts.followCount(t)]);},e)}function gm(t,e,r,n){return reactQuery.useMutation({mutationKey:["accounts","bookmarks","add",t],mutationFn:async({author:i,permlink:o})=>{if(!t||!e)throw new Error("[SDK][Account][Bookmarks] \u2013 missing auth");return (await w()(c.privateApiHost+"/private-api/bookmarks-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:i,permlink:o,code:e})})).json()},onSuccess:()=>{r(),m().invalidateQueries({queryKey:["accounts","bookmarks",t]});},onError:n})}function vm(t,e,r,n){return reactQuery.useMutation({mutationKey:["accounts","bookmarks","delete",t],mutationFn:async i=>{if(!t||!e)throw new Error("[SDK][Account][Bookmarks] \u2013 missing auth");return (await w()(c.privateApiHost+"/private-api/bookmarks-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i,code:e})})).json()},onSuccess:()=>{r(),m().invalidateQueries({queryKey:["accounts","bookmarks",t]});},onError:n})}function Pm(t,e,r,n){return reactQuery.useMutation({mutationKey:["accounts","favorites","add",t],mutationFn:async i=>{if(!t||!e)throw new Error("[SDK][Account][Favorites] \u2013 missing auth");return (await w()(c.privateApiHost+"/private-api/favorites-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:i,code:e})})).json()},onSuccess:(i,o)=>{r();let s=m();s.invalidateQueries({queryKey:u.accounts.favorites(t)}),s.invalidateQueries({queryKey:u.accounts.favoritesInfinite(t)}),s.invalidateQueries({queryKey:u.accounts.checkFavorite(t,o)});},onError:n})}function Em(t,e,r,n){return reactQuery.useMutation({mutationKey:["accounts","favorites","delete",t],mutationFn:async i=>{if(!t||!e)throw new Error("[SDK][Account][Favorites] \u2013 missing auth");let s=await w()(c.privateApiHost+"/private-api/favorites-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:i,code:e})});if(!s.ok)throw new Error(`Failed to delete favorite: ${s.status}`);return s.json()},onMutate:async i=>{if(!t)return;let o=m(),s=u.accounts.favorites(t),a=u.accounts.favoritesInfinite(t),l=u.accounts.checkFavorite(t,i);await Promise.all([o.cancelQueries({queryKey:s}),o.cancelQueries({queryKey:a}),o.cancelQueries({queryKey:l})]);let p=o.getQueryData(s);p&&o.setQueryData(s,p.filter(h=>h.account!==i));let d=o.getQueryData(l);o.setQueryData(l,false);let f=o.getQueriesData({queryKey:a}),g=new Map(f);for(let[h,v]of f)v&&o.setQueryData(h,{...v,pages:v.pages.map(A=>({...A,data:A.data.filter(k=>k.account!==i)}))});return {previousList:p,previousInfinite:g,previousCheck:d}},onSuccess:(i,o)=>{r();let s=m();s.invalidateQueries({queryKey:u.accounts.favorites(t)}),s.invalidateQueries({queryKey:u.accounts.favoritesInfinite(t)}),s.invalidateQueries({queryKey:u.accounts.checkFavorite(t,o)});},onError:(i,o,s)=>{let a=m();if(s?.previousList&&a.setQueryData(u.accounts.favorites(t),s.previousList),s?.previousInfinite)for(let[l,p]of s.previousInfinite)a.setQueryData(l,p);s?.previousCheck!==void 0&&a.setQueryData(u.accounts.checkFavorite(t,o),s.previousCheck),n(i);}})}function Zi(t,e){let r=new Map;return t.forEach(([n,i])=>{r.set(n.toString(),i);}),e.forEach(([n,i])=>{r.set(n.toString(),i);}),Array.from(r.entries()).sort(([n],[i])=>n.localeCompare(i)).map(([n,i])=>[n,i])}function rr(t,e){let{data:r}=reactQuery.useQuery(P(t));return reactQuery.useMutation({mutationKey:["accounts","keys-update",t],mutationFn:async({keys:n,keepCurrent:i=false,currentKey:o,keysToRevoke:s=[],keysToRevokeByAuthority:a={}})=>{if(n.length===0)throw new Error("[SDK][Update password] \u2013 no new keys provided");if(!r)throw new Error("[SDK][Update password] \u2013 cannot update keys for anon user");let l=p=>{let d=Pt__namespace.clone(r[p]),g=[...a[p]||[],...a[p]===void 0?s:[]],h=i?d.key_auths.filter(([v])=>!g.includes(v.toString())):[];return d.key_auths=Zi(h,n.map((v,A)=>[v[p].createPublic().toString(),A+1])),d};return c.hiveClient.broadcast.updateAccount({account:t,json_metadata:r.json_metadata,owner:l("owner"),active:l("active"),posting:l("posting"),memo_key:n[0].memo_key.createPublic().toString()},o)},...e})}function Nm(t,e){let{data:r}=reactQuery.useQuery(P(t)),{mutateAsync:n}=rr(t);return reactQuery.useMutation({mutationKey:["accounts","password-update",t],mutationFn:async({newPassword:i,currentPassword:o,keepCurrent:s})=>{if(!r)throw new Error("[SDK][Update password] \u2013 cannot update password for anon user");let a=dhive.PrivateKey.fromLogin(t,o,"owner");return n({currentKey:a,keepCurrent:s,keys:[{owner:dhive.PrivateKey.fromLogin(t,i,"owner"),active:dhive.PrivateKey.fromLogin(t,i,"active"),posting:dhive.PrivateKey.fromLogin(t,i,"posting"),memo_key:dhive.PrivateKey.fromLogin(t,i,"memo")}]})},...e})}function Gm(t,e,r){let n=reactQuery.useQueryClient(),{data:i}=reactQuery.useQuery(P(t));return reactQuery.useMutation({mutationKey:["accounts","revoke-posting",i?.name],mutationFn:async({accountName:o,type:s,key:a})=>{if(!i)throw new Error("[SDK][Accounts] \u2013\xA0cannot revoke posting for anonymous user");let l=Pt__namespace.pipe({},Pt__namespace.mergeDeep(i.posting));l.account_auths=l.account_auths.filter(([d])=>d!==o);let p={account:i.name,posting:l,memo_key:i.memo_key,json_metadata:i.json_metadata};if(s==="key"&&a)return c.hiveClient.broadcast.updateAccount(p,a);if(s==="keychain"){if(!r?.broadcast)throw new Error("[SDK][Accounts] \u2013 missing keychain broadcaster");return r.broadcast([["account_update",p]],"active")}else {let d={callback:`https://ecency.com/@${i.name}/permissions`};return Pe__default.default.sendOperation(["account_update",p],d,()=>{})}},onError:e.onError,onSuccess:(o,s,a)=>{e.onSuccess?.(o,s,a),n.setQueryData(P(t).queryKey,l=>({...l,posting:{...l?.posting,account_auths:l?.posting?.account_auths?.filter(([p])=>p!==s.accountName)??[]}}));}})}function zm(t,e,r,n){let{data:i}=reactQuery.useQuery(P(t));return reactQuery.useMutation({mutationKey:["accounts","recovery",i?.name],mutationFn:async({accountName:o,type:s,key:a,email:l})=>{if(!i)throw new Error("[SDK][Accounts] \u2013\xA0cannot change recovery for anonymous user");let p={account_to_recover:i.name,new_recovery_account:o,extensions:[]};if(s==="ecency"){if(!e)throw new Error("[SDK][Accounts] \u2013 missing access token");return w()(c.privateApiHost+"/private-api/recoveries-add",{method:"POST",body:JSON.stringify({code:e,email:l,publicKeys:[...i.owner.key_auths,...i.active.key_auths,...i.posting.key_auths,i.memo_key]})})}else {if(s==="key"&&a)return c.hiveClient.broadcast.sendOperations([["change_recovery_account",p]],a);if(s==="keychain"){if(!n?.broadcast)throw new Error("[SDK][Accounts] \u2013 missing keychain broadcaster");return n.broadcast([["change_recovery_account",p]],"owner")}else {let d={callback:`https://ecency.com/@${i.name}/permissions`};return Pe__default.default.sendOperation(["change_recovery_account",p],d,()=>{})}}},onError:r.onError,onSuccess:r.onSuccess})}function eg(t,e){let{data:r}=reactQuery.useQuery(P(t));return reactQuery.useMutation({mutationKey:["accounts","revoke-key",r?.name],mutationFn:async({currentKey:n,revokingKey:i})=>{if(!r)throw new Error("[SDK][Update password] \u2013 cannot update keys for anon user");let o=s=>{let a=Pt__namespace.clone(r[s]);return a.key_auths=a.key_auths.filter(([l])=>l!==i.toString()),a};return c.hiveClient.broadcast.updateAccount({account:r.name,json_metadata:r.json_metadata,owner:o("owner"),active:o("active"),posting:o("posting"),memo_key:r.memo_key},n)},...e})}function og(t,e){return y(["accounts","claimAccount"],t,({creator:r,fee:n="0.000 HIVE"})=>[ce(r,n)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([["accounts",n.creator]]);},e,"active")}function cg(t,e){return y(["accounts","grant-posting-permission"],t,r=>[pe(t,r.currentPosting,r.grantedAccount,r.weightThreshold,r.memoKey,r.jsonMetadata)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t)]);},e,"active")}function fg(t,e){return y(["accounts","create"],t,r=>[r.useClaimed?ue(t,r.newAccountName,r.keys):ae(t,r.newAccountName,r.keys,r.fee)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t)]);},e,"active")}var ir=300*60*24;function lo(t,e,r){let n=t*1e6;return (e*r/1e4/50+1)*n/1e4}function fo(t){return {id:0,name:t.name,owner:t.owner,active:t.active,posting:t.posting,memo_key:t.memo_key,json_metadata:t.json_metadata,posting_json_metadata:t.posting_json_metadata,proxy:t.proxy??"",last_owner_update:"",last_account_update:"",created:t.created,mined:false,owner_challenged:false,active_challenged:false,last_owner_proved:"",last_active_proved:"",recovery_account:t.recovery_account??"",reset_account:"",last_account_recovery:"",comment_count:0,lifetime_vote_count:0,post_count:t.post_count,can_vote:true,voting_power:t.voting_power,last_vote_time:t.last_vote_time,voting_manabar:t.voting_manabar,balance:t.balance,savings_balance:t.savings_balance,hbd_balance:t.hbd_balance,hbd_seconds:"0",hbd_seconds_last_update:"",hbd_last_interest_payment:"",savings_hbd_balance:t.savings_hbd_balance,savings_hbd_seconds:t.savings_hbd_seconds,savings_hbd_seconds_last_update:t.savings_hbd_seconds_last_update,savings_hbd_last_interest_payment:t.savings_hbd_last_interest_payment,savings_withdraw_requests:0,reward_hbd_balance:t.reward_hbd_balance,reward_hive_balance:t.reward_hive_balance,reward_vesting_balance:t.reward_vesting_balance,reward_vesting_hive:t.reward_vesting_hive,curation_rewards:0,posting_rewards:0,vesting_shares:t.vesting_shares,delegated_vesting_shares:t.delegated_vesting_shares,received_vesting_shares:t.received_vesting_shares,vesting_withdraw_rate:t.vesting_withdraw_rate,next_vesting_withdrawal:t.next_vesting_withdrawal,withdrawn:t.withdrawn,to_withdraw:t.to_withdraw,withdraw_routes:0,proxied_vsf_votes:t.proxied_vsf_votes??[],witnesses_voted_for:0,average_bandwidth:0,lifetime_bandwidth:0,last_bandwidth_update:"",average_market_bandwidth:0,lifetime_market_bandwidth:0,last_market_bandwidth_update:"",last_post:t.last_post,last_root_post:""}}function hg(t){return c.hiveClient.rc.calculateVPMana(fo(t)).percentage/100}function wg(t){if(!Number.isFinite(t))throw new TypeError("Voting power must be a finite number");if(t<0||t>100)throw new RangeError("Voting power must be between 0 and 100");return (100-t)*100*ir/1e4}function vg(t){let e=parseFloat(t.vesting_shares)+parseFloat(t.received_vesting_shares)-parseFloat(t.delegated_vesting_shares),r=Math.floor(Date.now()/1e3)-t.downvote_manabar.last_update_time,n=e*1e6/4;if(n<=0)return 0;let i=parseFloat(t.downvote_manabar.current_mana.toString())+r*n/ir;i>n&&(i=n);let o=i*100/n;return isNaN(o)?0:o>100?100:o}function _g(t){return c.hiveClient.rc.calculateRCMana(t).percentage/100}function bg(t,e,r,n=1e4){if(!Number.isFinite(r)||!Number.isFinite(n))return 0;let{fundRecentClaims:i,fundRewardBalance:o,base:s,quote:a}=e;if(!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(s)||!Number.isFinite(a)||i===0||a===0)return 0;let l=0;try{let d=_(t.vesting_shares).amount,f=_(t.received_vesting_shares).amount,g=_(t.delegated_vesting_shares).amount;if(![d,f,g].every(Number.isFinite))return 0;l=d+f-g;}catch{return 0}if(!Number.isFinite(l))return 0;let p=lo(l,r,n);return Number.isFinite(p)?p/i*o*(s/a):0}var mo={vote:"posting",comment:"posting",delete_comment:"posting",comment_options:"posting",claim_reward_balance:"posting",cancel_transfer_from_savings:"active",collateralized_convert:"active",convert:"active",delegate_vesting_shares:"active",recurrent_transfer:"active",set_withdraw_vesting_route:"active",transfer:"active",transfer_from_savings:"active",transfer_to_savings:"active",transfer_to_vesting:"active",withdraw_vesting:"active",limit_order_create:"active",limit_order_cancel:"active",account_update:"active",account_update2:"active",claim_account:"active",create_claimed_account:"active",account_witness_proxy:"active",account_witness_vote:"active",remove_proposal:"active",update_proposal_votes:"active",change_recovery_account:"owner",request_account_recovery:"owner",recover_account:"owner",reset_account:"owner",set_reset_account:"owner"};function go(t){let e=t[0],r=t[1];if(e!=="custom_json")throw new Error("Operation is not a custom_json operation");let n=r;return n.required_auths&&n.required_auths.length>0?"active":(n.required_posting_auths&&n.required_posting_auths.length>0,"posting")}function yo(t){let e=t[0];if(e!=="create_proposal"&&e!=="update_proposal")throw new Error("Operation is not a proposal operation");return "active"}function ho(t){let e=t[0];return e==="custom_json"?go(t):e==="create_proposal"||e==="update_proposal"?yo(t):mo[e]??"posting"}function Pg(t){let e="posting";for(let r of t){let n=ho(r);if(n==="owner")return "owner";n==="active"&&e==="posting"&&(e="active");}return e}function Sg(t){return reactQuery.useMutation({mutationKey:["operations","sign",t],mutationFn:({operation:e,keyOrSeed:r})=>{if(!t)throw new Error("[Operations][Sign] \u2013 cannot sign op with anon user");let n;return r.split(" ").length===12?n=dhive.PrivateKey.fromLogin(t,r,"active"):dhive.cryptoUtils.isWif(r)?n=dhive.PrivateKey.fromString(r):n=dhive.PrivateKey.from(r),c.hiveClient.broadcast.sendOperations([e],n)}})}function Fg(t,e,r="active"){return reactQuery.useMutation({mutationKey:["operations","sign-keychain",t],mutationFn:({operation:n})=>{if(!t)throw new Error("[SDK][Keychain] \u2013\xA0cannot sign operation with anon user");if(!e?.broadcast)throw new Error("[SDK][Keychain] \u2013 missing keychain broadcaster");return e.broadcast([n],r)}})}function Ig(t="/"){return reactQuery.useMutation({mutationKey:["operations","sign-hivesigner",t],mutationFn:async({operation:e})=>Pe__default.default.sendOperation(e,{callback:t},()=>{})})}function Hg(){return reactQuery.queryOptions({queryKey:["operations","chain-properties"],queryFn:async()=>await c.hiveClient.database.getChainProperties()})}function $g(t,e){return reactQuery.useMutation({mutationKey:["posts","add-fragment",t],mutationFn:async({title:r,body:n})=>{if(!e)throw new Error("[SDK][Posts] Missing access token");return (await w()(c.privateApiHost+"/private-api/fragments-add",{method:"POST",body:JSON.stringify({code:e,title:r,body:n}),headers:{"Content-Type":"application/json"}})).json()},onSuccess(r){let n=m();n.setQueryData(tt(t,e).queryKey,i=>[r,...i??[]]),n.setQueriesData({queryKey:["posts","fragments","infinite",t]},i=>i&&{...i,pages:i.pages.map((o,s)=>s===0?{...o,data:[r,...o.data]}:o)});}})}function Xg(t,e){return reactQuery.useMutation({mutationKey:["posts","edit-fragment",t],mutationFn:async({fragmentId:r,title:n,body:i})=>{if(!e)throw new Error("[SDK][Posts] Missing access token");return (await w()(c.privateApiHost+"/private-api/fragments-update",{method:"POST",body:JSON.stringify({code:e,id:r,title:n,body:i}),headers:{"Content-Type":"application/json"}})).json()},onSuccess(r,n){let i=m();i.setQueryData(tt(t,e).queryKey,o=>{if(!o)return [];let s=o.findIndex(({id:a})=>a===n.fragmentId);return s>=0&&(o[s]=r),[...o]}),i.setQueriesData({queryKey:["posts","fragments","infinite",t]},o=>o&&{...o,pages:o.pages.map(s=>({...s,data:s.data.map(a=>a.id===n.fragmentId?r:a)}))});}})}function iy(t,e){return reactQuery.useMutation({mutationKey:["posts","remove-fragment",t],mutationFn:async({fragmentId:r})=>{if(!e)throw new Error("[SDK][Posts] Missing access token");return w()(c.privateApiHost+"/private-api/fragments-delete",{method:"POST",body:JSON.stringify({code:e,id:r}),headers:{"Content-Type":"application/json"}})},onSuccess(r,n){let i=m();i.setQueryData(tt(t,e).queryKey,o=>[...o??[]].filter(({id:s})=>s!==n.fragmentId)),i.setQueriesData({queryKey:["posts","fragments","infinite",t]},o=>o&&{...o,pages:o.pages.map(s=>({...s,data:s.data.filter(a=>a.id!==n.fragmentId)}))});}})}async function E(t){if(!t.ok){let r;try{r=await t.json();}catch{r=void 0;}let n=new Error(`Request failed with status ${t.status}`);throw n.status=t.status,n.data=r,n}let e=await t.text();if(!e||e.trim()==="")return "";try{return JSON.parse(e)}catch(r){return console.warn("[SDK] Failed to parse JSON response:",r,"Response:",e),""}}async function ay(t,e,r){let i=await w()(c.privateApiHost+"/private-api/account-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:e,referral:r})}),o=await E(i);return {status:i.status,data:o}}async function uy(t){let r=await w()(c.privateApiHost+"/private-api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),n=await E(r);return {status:r.status,data:n}}async function cy(t,e,r="",n=""){let i={code:t,ty:e};r&&(i.bl=r),n&&(i.tx=n);let s=await w()(c.privateApiHost+"/private-api/usr-activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});await E(s);}async function py(t,e,r=null,n=null){let i={code:t};e&&(i.filter=e),r&&(i.since=r),n&&(i.user=n);let s=await w()(c.privateApiHost+"/private-api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return E(s)}async function ly(t,e,r,n,i,o){let s={code:t,username:e,token:o,system:r,allows_notify:n,notify_types:i},l=await w()(c.privateApiHost+"/private-api/register-device",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return E(l)}async function dy(t,e,r){let n={code:t,username:e,token:r},o=await w()(c.privateApiHost+"/private-api/detail-device",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return E(o)}async function or(t,e){let r={code:t};e&&(r.id=e);let i=await w()(c.privateApiHost+"/private-api/notifications/mark",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function sr(t,e){let r={code:t,url:e},i=await w()(c.privateApiHost+"/private-api/images-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function ar(t,e,r){let n=w(),i=new FormData;i.append("file",t);let o=await n(`${c.imageHost}/hs/${e}`,{method:"POST",body:i,signal:r});return E(o)}async function ur(t,e){let r={code:t,id:e},i=await w()(c.privateApiHost+"/private-api/images-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function cr(t,e,r,n,i){let o={code:t,title:e,body:r,tags:n,meta:i},a=await w()(c.privateApiHost+"/private-api/drafts-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});return E(a)}async function pr(t,e,r,n,i,o){let s={code:t,id:e,title:r,body:n,tags:i,meta:o},l=await w()(c.privateApiHost+"/private-api/drafts-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return E(l)}async function lr(t,e){let r={code:t,id:e},i=await w()(c.privateApiHost+"/private-api/drafts-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function dr(t,e,r,n,i,o,s,a){let l={code:t,permlink:e,title:r,body:n,meta:i,schedule:s,reblog:a};o&&(l.options=o);let d=await w()(c.privateApiHost+"/private-api/schedules-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});return E(d)}async function fr(t,e){let r={code:t,id:e},i=await w()(c.privateApiHost+"/private-api/schedules-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function mr(t,e){let r={code:t,id:e},i=await w()(c.privateApiHost+"/private-api/schedules-move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return E(i)}async function fy(t,e,r){let n={code:t,author:e,permlink:r},o=await w()(c.privateApiHost+"/private-api/promoted-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return E(o)}async function my(t,e,r){let n={username:t,email:e,friend:r},o=await w()(c.privateApiHost+"/private-api/account-create-friend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return E(o)}function vy(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","drafts","add",t],mutationFn:async({title:i,body:o,tags:s,meta:a})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for addDraft");return cr(e,i,o,s,a)},onSuccess:i=>{r?.();let o=m();i?.drafts?o.setQueryData(u.posts.drafts(t),i.drafts):o.invalidateQueries({queryKey:u.posts.drafts(t)});},onError:n})}function Ay(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","drafts","update",t],mutationFn:async({draftId:i,title:o,body:s,tags:a,meta:l})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for updateDraft");return pr(e,i,o,s,a,l)},onSuccess:()=>{r?.(),m().invalidateQueries({queryKey:u.posts.drafts(t)});},onError:n})}function qy(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","drafts","delete",t],mutationFn:async({draftId:i})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for deleteDraft");return lr(e,i)},onMutate:async({draftId:i})=>{if(!t)return;let o=m(),s=u.posts.drafts(t),a=u.posts.draftsInfinite(t);await Promise.all([o.cancelQueries({queryKey:s}),o.cancelQueries({queryKey:a})]);let l=o.getQueryData(s);l&&o.setQueryData(s,l.filter(f=>f._id!==i));let p=o.getQueriesData({queryKey:a}),d=new Map(p);for(let[f,g]of p)g&&o.setQueryData(f,{...g,pages:g.pages.map(h=>({...h,data:h.data.filter(v=>v._id!==i)}))});return {previousList:l,previousInfinite:d}},onSuccess:()=>{r?.();let i=m();i.invalidateQueries({queryKey:u.posts.drafts(t)}),i.invalidateQueries({queryKey:u.posts.draftsInfinite(t)});},onError:(i,o,s)=>{let a=m();if(s?.previousList&&a.setQueryData(u.posts.drafts(t),s.previousList),s?.previousInfinite)for(let[l,p]of s.previousInfinite)a.setQueryData(l,p);n?.(i);}})}function Ry(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","schedules","add",t],mutationFn:async({permlink:i,title:o,body:s,meta:a,options:l,schedule:p,reblog:d})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for addSchedule");return dr(e,i,o,s,a,l,p,d)},onSuccess:()=>{r?.(),m().invalidateQueries({queryKey:u.posts.schedules(t)});},onError:n})}function Hy(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","schedules","delete",t],mutationFn:async({id:i})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for deleteSchedule");return fr(e,i)},onSuccess:i=>{r?.();let o=m();i?o.setQueryData(u.posts.schedules(t),i):o.invalidateQueries({queryKey:u.posts.schedules(t)});},onError:n})}function Wy(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","schedules","move",t],mutationFn:async({id:i})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for moveSchedule");return mr(e,i)},onSuccess:i=>{r?.();let o=m();i?o.setQueryData(u.posts.schedules(t),i):o.invalidateQueries({queryKey:u.posts.schedules(t)}),o.invalidateQueries({queryKey:u.posts.drafts(t)});},onError:n})}function zy(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","images","add",t],mutationFn:async({url:i,code:o})=>{let s=o??e;if(!t||!s)throw new Error("[SDK][Posts] \u2013 missing auth for addImage");return sr(s,i)},onSuccess:()=>{r?.(),m().invalidateQueries({queryKey:u.posts.images(t)});},onError:n})}function eh(t,e,r,n){return reactQuery.useMutation({mutationKey:["posts","images","delete",t],mutationFn:async({imageId:i})=>{if(!t||!e)throw new Error("[SDK][Posts] \u2013 missing auth for deleteImage");return ur(e,i)},onSuccess:(i,o)=>{r?.();let s=m(),{imageId:a}=o;s.setQueryData(["posts","images",t],l=>l?.filter(p=>p._id!==a)),s.setQueriesData({queryKey:["posts","images","infinite",t]},l=>l&&{...l,pages:l.pages.map(p=>({...p,data:p.data.filter(d=>d._id!==a)}))});},onError:n})}function oh(t,e){return reactQuery.useMutation({mutationKey:["posts","images","upload"],mutationFn:async({file:r,token:n,signal:i})=>ar(r,n,i),onSuccess:t,onError:e})}function kt(t,e){return `/@${t}/${e}`}function Io(t,e,r){return (r??m()).getQueryData(u.posts.entry(kt(t,e)))}function Do(t,e){(e??m()).setQueryData(u.posts.entry(kt(t.author,t.permlink)),t);}function At(t,e,r,n){let i=n??m(),o=kt(t,e),s=i.getQueryData(u.posts.entry(o));if(!s)return;let a=r(s);return i.setQueryData(u.posts.entry(o),a),s}exports.EntriesCacheManagement=void 0;(a=>{function t(l,p,d,f,g){At(l,p,h=>({...h,active_votes:d,stats:{...h.stats||{gray:false,hide:false,flag_weight:0,total_votes:0},total_votes:d.length,flag_weight:h.stats?.flag_weight||0},total_votes:d.length,payout:f,pending_payout_value:String(f)}),g);}a.updateVotes=t;function e(l,p,d,f){At(l,p,g=>({...g,reblogs:d}),f);}a.updateReblogsCount=e;function r(l,p,d,f){At(l,p,g=>({...g,children:d}),f);}a.updateRepliesCount=r;function n(l,p,d,f){At(p,d,g=>({...g,children:g.children+1,replies:[l,...g.replies]}),f);}a.addReply=n;function i(l,p){l.forEach(d=>Do(d,p));}a.updateEntries=i;function o(l,p,d){(d??m()).invalidateQueries({queryKey:u.posts.entry(kt(l,p))});}a.invalidateEntry=o;function s(l,p,d){return Io(l,p,d)}a.getEntry=s;})(exports.EntriesCacheManagement||={});function dh(t,e){return y(["posts","vote"],t,({author:r,permlink:n,weight:i})=>[jt(t,r,n,i)],async(r,n)=>{let i=exports.EntriesCacheManagement.getEntry(n.author,n.permlink);if(i?.active_votes){let o=[...i.active_votes.filter(a=>a.voter!==t),...n.weight!==0?[{rshares:n.weight,voter:t}]:[]],s=i.payout+(n.estimated??0);exports.EntriesCacheManagement.updateVotes(n.author,n.permlink,o,s);}e?.adapter?.recordActivity&&r?.block_num&&r?.id&&e.adapter.recordActivity(120,r.block_num,r.id).catch(()=>{}),e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.posts.entry(`/@${n.author}/${n.permlink}`),u.accounts.full(t)]);},e)}function hh(t,e){return y(["posts","reblog"],t,({author:r,permlink:n,deleteReblog:i})=>[Bt(t,r,n,i??false)],async(r,n)=>{let i=exports.EntriesCacheManagement.getEntry(n.author,n.permlink);if(i){let s=Math.max(0,(i.reblogs??0)+(n.deleteReblog?-1:1));exports.EntriesCacheManagement.updateReblogsCount(n.author,n.permlink,s);}e?.adapter?.recordActivity&&r?.block_num&&r?.id&&e.adapter.recordActivity(130,r.block_num,r.id).catch(()=>{}),m().invalidateQueries({queryKey:u.posts.accountPostsBlogPrefix(t)}),e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.posts.entry(`/@${n.author}/${n.permlink}`),u.posts.rebloggedBy(n.author,n.permlink)]);},e)}function bh(t,e){return y(["posts","comment"],t,r=>{let n=[];if(n.push(G(r.author,r.permlink,r.parentAuthor,r.parentPermlink,r.title,r.body,r.jsonMetadata)),r.options){let{maxAcceptedPayout:i="1000000.000 HBD",percentHbd:o=1e4,allowVotes:s=true,allowCurationRewards:a=true,beneficiaries:l=[]}=r.options,p=[];if(l.length>0){let d=[...l].sort((f,g)=>f.account.localeCompare(g.account));p.push([0,{beneficiaries:d.map(f=>({account:f.account,weight:f.weight}))}]);}n.push(W(r.author,r.permlink,i,o,s,a,p));}return n},async(r,n)=>{let i=!n.parentAuthor,o=i?100:110;if(e?.adapter?.recordActivity&&r?.block_num&&r?.id&&e.adapter.recordActivity(o,r.block_num,r.id).catch(()=>{}),e?.adapter?.invalidateQueries){let s=[u.accounts.full(t),u.resourceCredits.account(t)];if(!i){s.push(u.posts.entry(`/@${n.parentAuthor}/${n.parentPermlink}`));let a=n.rootAuthor||n.parentAuthor,l=n.rootPermlink||n.parentPermlink;s.push({predicate:p=>{let d=p.queryKey;return Array.isArray(d)&&d[0]==="posts"&&d[1]==="discussions"&&d[2]===a&&d[3]===l}});}await e.adapter.invalidateQueries(s);}},e)}function Ah(t,e,r,n){let i=n??m(),o=i.getQueriesData({predicate:s=>{let a=s.queryKey;return Array.isArray(a)&&a[0]==="posts"&&a[1]==="discussions"&&a[2]===e&&a[3]===r}});for(let[s,a]of o)a&&i.setQueryData(s,[t,...a]);}function gr(t,e,r,n,i){let o=i??m(),s=new Map,a=o.getQueriesData({predicate:l=>{let p=l.queryKey;return Array.isArray(p)&&p[0]==="posts"&&p[1]==="discussions"&&p[2]===r&&p[3]===n}});for(let[l,p]of a)p&&(s.set(l,p),o.setQueryData(l,p.filter(d=>d.author!==t||d.permlink!==e)));return s}function yr(t,e){let r=e??m();for(let[n,i]of t)r.setQueryData(n,i);}function kh(t,e,r,n){let i=n??m(),o=`/@${t}/${e}`,s=i.getQueryData(u.posts.entry(o));return s&&i.setQueryData(u.posts.entry(o),{...s,...r}),s}function Ch(t,e,r,n){let i=n??m(),o=`/@${t}/${e}`;i.setQueryData(u.posts.entry(o),r);}function Th(t,e){return y(["posts","deleteComment"],t,({author:r,permlink:n})=>[Vt(r,n)],async(r,n)=>{if(e?.adapter?.invalidateQueries){let i=[u.accounts.full(t)];if(n.parentAuthor&&n.parentPermlink){i.push(u.posts.entry(`/@${n.parentAuthor}/${n.parentPermlink}`));let o=n.rootAuthor||n.parentAuthor,s=n.rootPermlink||n.parentPermlink;i.push({predicate:a=>{let l=a.queryKey;return Array.isArray(l)&&l[0]==="posts"&&l[1]==="discussions"&&l[2]===o&&l[3]===s}});}await e.adapter.invalidateQueries(i);}},e,"posting",{onMutate:async r=>{let n=r.rootAuthor||r.parentAuthor,i=r.rootPermlink||r.parentPermlink;return n&&i?{snapshots:gr(r.author,r.permlink,n,i)}:{}},onError:(r,n,i)=>{let{snapshots:o}=i??{};o&&yr(o);}})}function Rh(t,e){return y(["posts","cross-post"],t,r=>{let n=[];if(n.push(G(r.author,r.permlink,"",r.parentPermlink,r.title,r.body,r.jsonMetadata)),r.options){let{maxAcceptedPayout:i="1000000.000 HBD",percentHbd:o=1e4,allowVotes:s=true,allowCurationRewards:a=true}=r.options;n.push(W(r.author,r.permlink,i,o,s,a,[]));}return n},async(r,n)=>{if(e?.adapter?.invalidateQueries){let i=[u.accounts.full(t),{predicate:o=>{let s=o.queryKey;return Array.isArray(s)&&s[0]==="posts"&&s[1]==="posts-ranked"&&s[3]===n.parentPermlink}}];await e.adapter.invalidateQueries(i);}},e)}function Mh(t,e){return y(["posts","update-reply"],t,r=>{let n=[];if(n.push(G(r.author,r.permlink,r.parentAuthor,r.parentPermlink,r.title,r.body,r.jsonMetadata)),r.options){let{maxAcceptedPayout:i="1000000.000 HBD",percentHbd:o=1e4,allowVotes:s=true,allowCurationRewards:a=true,beneficiaries:l=[]}=r.options,p=[];if(l.length>0){let d=[...l].sort((f,g)=>f.account.localeCompare(g.account));p.push([0,{beneficiaries:d.map(f=>({account:f.account,weight:f.weight}))}]);}n.push(W(r.author,r.permlink,i,o,s,a,p));}return n},async(r,n)=>{if(e?.adapter?.recordActivity&&r?.block_num&&r?.id&&e.adapter.recordActivity(110,r.block_num,r.id).catch(i=>{console.error("[SDK][Posts][useUpdateReply] recordActivity failed",{activityType:110,blockNum:r.block_num,transactionId:r.id,error:i});}),e?.adapter?.invalidateQueries){let i=[u.resourceCredits.account(t)];i.push(u.posts.entry(`/@${n.parentAuthor}/${n.parentPermlink}`));let o=n.rootAuthor||n.parentAuthor,s=n.rootPermlink||n.parentPermlink;i.push({predicate:a=>{let l=a.queryKey;return Array.isArray(l)&&l[0]==="posts"&&l[1]==="discussions"&&l[2]===o&&l[3]===s}}),await e.adapter.invalidateQueries(i);}},e)}function Bh(t,e){return y(["ecency","promote"],t,({author:r,permlink:n,duration:i})=>[de(t,r,n,i)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([[...u.posts._promotedPrefix],[...u.points._prefix(t)],u.posts.entry(`/@${n.author}/${n.permlink}`)]);},e,"active")}var No=[3e3,3e3,3e3],Mo=t=>new Promise(e=>setTimeout(e,t));async function Ho(t,e){return c.hiveClient.call("condenser_api","get_content",[t,e])}async function jo(t,e,r=0,n){let i=n?.delays??No,o;try{o=await Ho(t,e);}catch{o=void 0;}if(o||r>=i.length)return;let s=i[r];return s>0&&await Mo(s),jo(t,e,r+1,n)}var nt={};It(nt,{useRecordActivity:()=>ge});function Bo(){return typeof window<"u"&&window.location?{url:window.location.href,domain:window.location.host}:{url:"",domain:""}}function ge(t,e,r){return reactQuery.useMutation({mutationKey:["analytics",e],mutationFn:async()=>{if(!e)throw new Error("[SDK][Analytics] \u2013 no activity type provided");let n=w(),i=Bo(),o=r?.url??i.url,s=r?.domain??i.domain;await n(c.plausibleHost+"/api/event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,url:o,domain:s,props:{username:t}})});}})}function Zh(t){return reactQuery.queryOptions({queryKey:["analytics","discover-leaderboard",t],queryFn:async({signal:e})=>{let r=await fetch(c.privateApiHost+`/private-api/leaderboard/${t}`,{signal:e});if(!r.ok)throw new Error(`Failed to fetch leaderboard: ${r.status}`);return r.json()}})}function nw(t){return reactQuery.queryOptions({queryKey:["analytics","discover-curation",t],queryFn:async({signal:e})=>{let r=await fetch(c.privateApiHost+`/private-api/curation/${t}`,{signal:e});if(!r.ok)throw new Error(`Failed to fetch curation data: ${r.status}`);let n=await r.json(),i=n.map(s=>s.account),o=await c.hiveClient.database.getAccounts(i);for(let s=0;s<o.length;s++){let a=o[s],l=n[s],p=typeof a.vesting_shares=="string"?a.vesting_shares:a.vesting_shares.toString(),d=typeof a.received_vesting_shares=="string"?a.received_vesting_shares:a.received_vesting_shares.toString(),f=typeof a.delegated_vesting_shares=="string"?a.delegated_vesting_shares:a.delegated_vesting_shares.toString(),g=typeof a.vesting_withdraw_rate=="string"?a.vesting_withdraw_rate:a.vesting_withdraw_rate.toString(),h=parseFloat(p)+parseFloat(d)-parseFloat(f)-parseFloat(g);l.efficiency=l.vests/h;}return n.sort((s,a)=>a.efficiency-s.efficiency),n}})}function aw(t,e=[],r=["visitors","pageviews","visit_duration"],n){let i=[...e].sort(),o=[...r].sort();return reactQuery.queryOptions({queryKey:["analytics","page-stats",t,i,o,n],queryFn:async({signal:s})=>{let a=await fetch(c.privateApiHost+"/api/stats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metrics:r,url:encodeURIComponent(t),dimensions:e,date_range:n}),signal:s});if(!a.ok)throw new Error(`Failed to fetch page stats: ${a.status}`);return a.json()},enabled:!!t,staleTime:0})}var we={};It(we,{getAccountTokenQueryOptions:()=>he,getAccountVideosQueryOptions:()=>Xo});var ye={};It(ye,{getDecodeMemoQueryOptions:()=>Jo});function Jo(t,e,r){return reactQuery.queryOptions({queryKey:["integrations","hivesigner","decode-memo",t],queryFn:async()=>{if(r)return new Pe__default.default.Client({accessToken:r}).decode(e)}})}var hr={queries:ye};function he(t,e){return reactQuery.queryOptions({queryKey:["integrations","3speak","authenticate",t],enabled:!!t&&!!e,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Integrations][3Speak] \u2013\xA0anon user");let n=await w()(`https://studio.3speak.tv/mobile/login?username=${t}&hivesigner=true`,{headers:{"Content-Type":"application/json"}}),i=hr.queries.getDecodeMemoQueryOptions(t,(await n.json()).memo,e);await m().prefetchQuery(i);let{memoDecoded:o}=m().getQueryData(i.queryKey);return o.replace("#","")}})}function Xo(t,e){return reactQuery.queryOptions({queryKey:["integrations","3speak","videos",t],enabled:!!t&&!!e,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Integrations][3Speak] \u2013\xA0anon user");let r=he(t,e);await m().prefetchQuery(r);let n=m().getQueryData(r.queryKey);if(!n)throw new Error("[SDK][Integrations][3Speak] \u2013 missing account token");return await(await w()("https://studio.3speak.tv/mobile/api/my-videos",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).json()}})}var Ew={queries:we};function Kw(t){return reactQuery.queryOptions({queryKey:["integrations","hiveposh","links",t],retry:false,queryFn:async()=>{try{let r=await w()(`https://hiveposh.com/api/v0/linked-accounts/${t}`,{headers:{"Content-Type":"application/json"}});if(r.status===400&&(await r.json().catch(()=>({})))?.message==="User Not Connected"||!r.ok)return null;let n=await r.json();return {twitter:{username:n.twitter_username,profile:n.twitter_profile},reddit:{username:n.reddit_username,profile:n.reddit_profile}}}catch{return null}}})}function Dw({url:t,dimensions:e=[],metrics:r=["visitors","pageviews","visit_duration"],enabled:n=true}){return reactQuery.queryOptions({queryKey:["integrations","plausible",t,e,r],queryFn:async()=>await(await w()(`${c.privateApiHost}/api/stats`,{method:"POST",body:JSON.stringify({metrics:r,url:encodeURIComponent(t),dimensions:e}),headers:{"Content-Type":"application/json"}})).json(),enabled:!!t&&n})}function jw(){return reactQuery.queryOptions({queryKey:["resource-credits","stats"],queryFn:async()=>(await c.hiveClient.call("rc_api","get_rc_stats",{})).rc_stats})}function $w(t){return reactQuery.queryOptions({queryKey:["resource-credits","account",t],queryFn:async()=>new dhive.RCAPI(c.hiveClient).findRCAccounts([t]),enabled:!!t})}function zw(t,e,r){return reactQuery.queryOptions({queryKey:["games","status-check",r,t],enabled:!!t&&!!e,queryFn:async()=>{if(!t||!e)throw new Error("[SDK][Games] \u2013 missing auth");return await(await w()(c.privateApiHost+"/private-api/get-game",{method:"POST",body:JSON.stringify({game_type:r,code:e}),headers:{"Content-Type":"application/json"}})).json()}})}function ev(t,e,r,n){let{mutateAsync:i}=ge(t,"spin-rolled");return reactQuery.useMutation({mutationKey:["games","post",r,t],mutationFn:async()=>{if(!t||!e)throw new Error("[SDK][Games] \u2013 missing auth");return await(await w()(c.privateApiHost+"/private-api/post-game",{method:"POST",body:JSON.stringify({game_type:r,code:e,key:n}),headers:{"Content-Type":"application/json"}})).json()},onSuccess(){i();}})}function ov(t,e){return y(["communities","subscribe"],t,({community:r})=>[Zt(t,r)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.subscriptions(t),[...u.communities.singlePrefix(n.community)],u.communities.context(t,n.community)]);},e)}function cv(t,e){return y(["communities","unsubscribe"],t,({community:r})=>[te(t,r)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.subscriptions(t),[...u.communities.singlePrefix(n.community)],u.communities.context(t,n.community)]);},e)}function fv(t,e){return y(["communities","mutePost"],t,({community:r,author:n,permlink:i,notes:o,mute:s})=>[ie(t,r,n,i,o,s)],async(r,n)=>{if(e?.adapter?.invalidateQueries){let i=[u.posts.entry(`/@${n.author}/${n.permlink}`),["community","single",n.community],{predicate:o=>{let s=o.queryKey;return Array.isArray(s)&&s[0]==="posts"&&s[1]==="posts-ranked"&&s[3]===n.community}}];await e.adapter.invalidateQueries(i);}},e)}function hv(t,e,r){return y(["communities","set-role",t],e,({account:n,role:i})=>[ee(e,t,n,i)],async(n,i)=>{m().setQueriesData({queryKey:u.communities.singlePrefix(t)},s=>{if(!s)return s;let a=[...s.team??[]],l=a.findIndex(([p])=>p===i.account);return l>=0?a[l]=[a[l][0],i.role,a[l][2]??""]:a.push([i.account,i.role,""]),{...s,team:a}}),r?.adapter?.invalidateQueries&&await r.adapter.invalidateQueries([[...u.communities.singlePrefix(t)],u.communities.context(i.account,t)]);},r)}function bv(t,e,r){return y(["communities","update",t],e,n=>[re(e,t,n)],async(n,i)=>{m().setQueriesData({queryKey:u.communities.singlePrefix(t)},s=>s&&{...s,...i}),r?.adapter?.invalidateQueries&&await r.adapter.invalidateQueries([[...u.communities.singlePrefix(t)]]);},r)}function kv(t,e){return y(["communities","registerRewards"],t,({name:r})=>[fe(r)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([[...u.communities.singlePrefix(n.name)],[...u.points._prefix(t)]]);},e,"active")}function Sv(t,e){return y(["communities","pin-post"],t,({community:r,account:n,permlink:i,pin:o})=>[ne(t,r,n,i,o)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.posts.entry(`/@${n.account}/${n.permlink}`),[...u.communities.singlePrefix(n.community)]]);},e)}function Kv(t,e,r=100,n=void 0,i=true){return reactQuery.queryOptions({queryKey:u.communities.list(t,e??"",r),enabled:i,queryFn:async()=>{let o=await c.hiveClient.call("bridge","list_communities",{last:"",limit:r,sort:t==="hot"?"rank":t,query:e||null,observer:n});return o?t==="hot"?o.sort(()=>Math.random()-.5):o:[]}})}function Dv(t,e){return reactQuery.queryOptions({queryKey:u.communities.context(t,e),enabled:!!t&&!!e,queryFn:async()=>{let r=await c.hiveClient.call("bridge","get_community_context",{account:t,name:e});return {role:r?.role??"guest",subscribed:r?.subscribed??false}}})}function Vv(t,e="",r=true){return reactQuery.queryOptions({queryKey:u.communities.single(t,e),enabled:r&&!!t,queryFn:async()=>Me(t??"",e)})}function Uv(t){return reactQuery.queryOptions({queryKey:u.communities.subscribers(t),queryFn:async()=>await c.hiveClient.call("bridge","list_subscribers",{community:t})??[],staleTime:6e4})}function Xv(t,e){return reactQuery.infiniteQueryOptions({queryKey:u.communities.accountNotifications(t,e),initialPageParam:null,queryFn:async({pageParam:r})=>{try{return await c.hiveClient.call("bridge","account_notifications",{account:t,limit:e,last_id:r??void 0})??[]}catch{return []}},getNextPageParam:r=>r?.length>0?r[r.length-1].id:null})}function r_(){return reactQuery.queryOptions({queryKey:u.communities.rewarded(),queryFn:async()=>{let t=await fetch(c.privateApiHost+"/private-api/rewarded-communities",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch rewarded communities: ${t.status}`);return t.json()}})}var ds=(s=>(s.OWNER="owner",s.ADMIN="admin",s.MOD="mod",s.MEMBER="member",s.GUEST="guest",s.MUTED="muted",s))(ds||{}),i_={owner:["admin","mod","member","guest","muted"],admin:["mod","member","guest","muted"],mod:["member","guest","muted"]};function s_(t,e){return t.startsWith("hive-3")||e===3?"Council":t.startsWith("hive-2")||e===2?"Journal":"Topic"}function a_({communityType:t,userRole:e,subscribed:r}){let n=e==="muted"?false:t==="Topic"?true:["owner","admin","mod","member"].includes(e),i=(()=>{if(e==="muted")return  false;switch(t){case "Topic":return  true;case "Journal":return e!=="guest"||r;case "Council":return n}})(),o=["owner","admin","mod"].includes(e);return {canPost:n,canComment:i,isModerator:o}}function l_(t,e){return reactQuery.queryOptions({queryKey:u.notifications.unreadCount(t),queryFn:async()=>e?(await(await fetch(`${c.privateApiHost}/private-api/notifications/unread`,{method:"POST",body:JSON.stringify({code:e}),headers:{"Content-Type":"application/json"}})).json()).count:0,enabled:!!t&&!!e,initialData:0,refetchInterval:6e4})}function g_(t,e,r=void 0){return reactQuery.infiniteQueryOptions({queryKey:u.notifications.list(t,r),queryFn:async({pageParam:n})=>{if(!e)return [];let i={code:e,filter:r,since:n,user:void 0},o=await fetch(c.privateApiHost+"/private-api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)return [];try{return await o.json()}catch{return []}},enabled:!!t&&!!e,initialData:{pages:[],pageParams:[]},initialPageParam:"",getNextPageParam:n=>n?.[n.length-1]?.id??"",refetchOnMount:true})}var gs=(p=>(p.VOTES="rvotes",p.MENTIONS="mentions",p.FAVORITES="nfavorites",p.BOOKMARKS="nbookmarks",p.FOLLOWS="follows",p.REPLIES="replies",p.REBLOGS="reblogs",p.TRANSFERS="transfers",p.DELEGATIONS="delegations",p))(gs||{});var ys=(p=>(p[p.VOTE=1]="VOTE",p[p.MENTION=2]="MENTION",p[p.FOLLOW=3]="FOLLOW",p[p.COMMENT=4]="COMMENT",p[p.RE_BLOG=5]="RE_BLOG",p[p.TRANSFERS=6]="TRANSFERS",p[p.FAVORITES=13]="FAVORITES",p[p.BOOKMARKS=15]="BOOKMARKS",p.ALLOW_NOTIFY="ALLOW_NOTIFY",p))(ys||{}),w_=[1,2,3,4,5,6,13,15],hs=(n=>(n.ALL="All",n.UNREAD="Unread",n.READ="Read",n))(hs||{});function O_(t,e,r){return reactQuery.queryOptions({queryKey:u.notifications.settings(t),queryFn:async()=>{let n=t+"-web";if(!e)throw new Error("Missing access token");let i=await fetch(c.privateApiHost+"/private-api/detail-device",{body:JSON.stringify({code:e,username:t,token:n}),method:"POST",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`Failed to fetch notification settings: ${i.status}`);return i.json()},enabled:!!t&&!!e,refetchOnMount:false,initialData:()=>({status:0,system:"web",allows_notify:0,notify_types:r?[]:[4,3,2,13,15,1,5,6]})})}function C_(){return reactQuery.queryOptions({queryKey:u.notifications.announcements(),queryFn:async()=>{let t=await fetch(c.privateApiHost+"/private-api/announcements",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch announcements: ${t.status}`);return await t.json()||[]},staleTime:36e5})}function bs(t,e){return {...t,read:!e||e===t.id?1:t.read}}function wr(t){return typeof t=="object"&&t!==null&&"pages"in t&&"pageParams"in t&&Array.isArray(t.pages)}function K_(t,e,r,n){let i=m();return reactQuery.useMutation({mutationKey:["notifications","mark-read",t],mutationFn:async({id:o})=>{if(!t||!e)throw new Error("[SDK][Notifications] \u2013 missing auth for markNotifications");return or(e,o)},onMutate:async({id:o})=>{await i.cancelQueries({queryKey:u.notifications._prefix});let s=[],a=i.getQueriesData({queryKey:u.notifications._prefix,predicate:d=>{let f=d.state.data;return wr(f)}});a.forEach(([d,f])=>{if(f&&wr(f)){s.push([d,f]);let g={...f,pages:f.pages.map(h=>h.map(v=>bs(v,o)))};i.setQueryData(d,g);}});let l=u.notifications.unreadCount(t),p=i.getQueryData(l);return typeof p=="number"&&p>0&&(s.push([l,p]),o?a.some(([,f])=>f?.pages.some(g=>g.some(h=>h.id===o&&h.read===0)))&&i.setQueryData(l,p-1):i.setQueryData(l,0)),{previousData:s}},onSuccess:o=>{let s=typeof o=="object"&&o!==null?o.unread:void 0;typeof s=="number"&&i.setQueryData(u.notifications.unreadCount(t),s),r?.(s);},onError:(o,s,a)=>{a?.previousData&&a.previousData.forEach(([l,p])=>{i.setQueryData(l,p);}),n?.(o);},onSettled:()=>{i.invalidateQueries({queryKey:u.notifications._prefix});}})}function D_(t,e){return y(["notifications","set-last-read"],t,({date:r})=>Lt(t,r),async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.notifications.unreadCount(t)]);},e)}function j_(t){return reactQuery.queryOptions({queryKey:["proposals","proposal",t],queryFn:async()=>{let r=(await c.hiveClient.call("condenser_api","find_proposals",[[t]]))[0];return new Date(r.start_date)<new Date&&new Date(r.end_date)>=new Date?r.status="active":new Date(r.end_date)<new Date?r.status="expired":r.status="inactive",r}})}function W_(){return reactQuery.queryOptions({queryKey:["proposals","list"],queryFn:async()=>{let e=(await c.hiveClient.call("database_api","list_proposals",{start:[-1],limit:500,order:"by_total_votes",order_direction:"descending",status:"all"})).proposals,r=e.filter(i=>i.status==="expired");return [...e.filter(i=>i.status!=="expired"),...r]}})}function z_(t,e,r){return reactQuery.infiniteQueryOptions({queryKey:["proposals","votes",t,e,r],initialPageParam:e,refetchOnMount:true,staleTime:0,queryFn:async({pageParam:n})=>{let i=n??e,s=(await c.hiveClient.call("condenser_api","list_proposal_votes",[[t,i],r,"by_proposal_voter"])).filter(d=>d.proposal?.proposal_id===t).map(d=>({id:d.id,voter:d.voter})),a=await c.hiveClient.database.getAccounts(s.map(d=>d.voter)),l=ht(a);return s.map(d=>({...d,voterAccount:l.find(f=>d.voter===f.name)}))},getNextPageParam:n=>n?.[n.length-1]?.voter??void 0})}function tb(t){return reactQuery.queryOptions({queryKey:["proposals","votes","by-user",t],enabled:!!t&&t!=="",staleTime:60*1e3,queryFn:async()=>!t||t===""?[]:((await c.hiveClient.call("database_api","list_proposal_votes",{start:[t],limit:1e3,order:"by_voter_proposal",order_direction:"ascending",status:"votable"})).proposal_votes||[]).filter(n=>n.voter===t)})}function ib(t,e){return y(["proposals","vote"],t,({proposalIds:r,approve:n})=>[Xt(t,r,n)],async r=>{try{e?.adapter?.recordActivity&&r?.block_num&&r?.id&&e.adapter.recordActivity(150,r.block_num,r.id).catch(n=>{console.debug("[SDK][Proposals][useProposalVote] recordActivity failed",{activityType:150,blockNum:r.block_num,transactionId:r.id,error:n});}),e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.proposals.list(),u.proposals.votesByUser(t)]);}catch(n){console.warn("[useProposalVote] Post-broadcast side-effect failed:",n);}},e,"active")}function ub(t,e){return y(["proposals","create"],t,r=>[Yt(t,r)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.proposals.list()]);},e,"active")}function db(t,e=50){return reactQuery.infiniteQueryOptions({queryKey:["wallet","vesting-delegations",t,e],initialPageParam:"",queryFn:async({pageParam:r})=>{let n=r?e+1:e,i=await c.hiveClient.database.call("get_vesting_delegations",[t,r||"",n]);return r&&i.length>0&&i[0]?.delegatee===r?i.slice(1,e+1):i},getNextPageParam:r=>!r||r.length<e?void 0:r[r.length-1]?.delegatee,enabled:!!t})}function yb(t){return reactQuery.queryOptions({queryKey:["wallet","conversion-requests",t],queryFn:()=>c.hiveClient.database.call("get_conversion_requests",[t]),select:e=>e.sort((r,n)=>r.requestid-n.requestid)})}function _b(t){return reactQuery.queryOptions({queryKey:["wallet","collateralized-conversion-requests",t],queryFn:()=>c.hiveClient.database.call("get_collateralized_conversion_requests",[t]),select:e=>e.sort((r,n)=>r.requestid-n.requestid)})}function Ab(t){return reactQuery.queryOptions({queryKey:["wallet","savings-withdraw",t],queryFn:()=>c.hiveClient.database.call("get_savings_withdraw_from",[t]),select:e=>e.sort((r,n)=>r.request_id-n.request_id)})}function Eb(t){return reactQuery.queryOptions({queryKey:["wallet","withdraw-routes",t],queryFn:()=>c.hiveClient.database.call("get_withdraw_routes",[t,"outgoing"])})}function Fb(t){return reactQuery.queryOptions({queryKey:["wallet","open-orders",t],queryFn:()=>c.hiveClient.call("condenser_api","get_open_orders",[t]),select:e=>e.sort((r,n)=>r.orderid-n.orderid),enabled:!!t})}function Ib(t,e=100){return reactQuery.infiniteQueryOptions({queryKey:["wallet","outgoing-rc-delegations",t,e],initialPageParam:null,queryFn:async({pageParam:r})=>{let i=(await c.hiveClient.call("rc_api","list_rc_direct_delegations",{start:[t,r??""],limit:e}).then(o=>o)).rc_direct_delegations||[];return r&&(i=i.filter(o=>o.to!==r)),i},getNextPageParam:r=>r.length===e?r[r.length-1].to:null})}function Hb(t){return reactQuery.queryOptions({queryKey:["wallet","incoming-rc",t],enabled:!!t,queryFn:async()=>{if(!t)throw new Error("[SDK][Wallet] - Missing username for incoming RC");let r=await w()(`${c.privateApiHost}/private-api/received-rc/${t}`);if(!r.ok)throw new Error(`Failed to fetch incoming RC: ${r.status}`);return r.json()}})}function Gb(t){return reactQuery.queryOptions({queryKey:["wallet","received-vesting-shares",t],queryFn:async()=>{let e=await fetch(c.privateApiHost+`/private-api/received-vesting/${t}`);if(!e.ok)throw new Error(`Failed to fetch received vesting shares: ${e.status}`);return (await e.json()).list}})}function Lb(t){return reactQuery.queryOptions({queryKey:["wallet","recurrent-transfers",t],queryFn:()=>c.hiveClient.call("condenser_api","find_recurrent_transfers",[t]),enabled:!!t})}function R(t){if(typeof t=="string"){let e=t.trim();return e.length>0?e:void 0}}function Q(t){if(typeof t=="number"&&Number.isFinite(t))return t;if(typeof t=="string"){let e=t.trim();if(!e)return;let r=Number.parseFloat(e);if(Number.isFinite(r))return r;let i=e.replace(/,/g,"").match(/[-+]?\d+(?:\.\d+)?/);if(i){let o=Number.parseFloat(i[0]);if(Number.isFinite(o))return o}}}function Ds(t){if(!t||typeof t!="object")return;let e=t;return {name:R(e.name)??"",symbol:R(e.symbol)??"",layer:R(e.layer)??"hive",balance:Q(e.balance)??0,fiatRate:Q(e.fiatRate)??0,currency:R(e.currency)??"usd",precision:Q(e.precision)??3,address:R(e.address),error:R(e.error),pendingRewards:Q(e.pendingRewards),pendingRewardsFiat:Q(e.pendingRewardsFiat),liquid:Q(e.liquid),liquidFiat:Q(e.liquidFiat),savings:Q(e.savings),savingsFiat:Q(e.savingsFiat),staked:Q(e.staked),stakedFiat:Q(e.stakedFiat),iconUrl:R(e.iconUrl),actions:e.actions??[],extraData:e.extraData??[],apr:Q(e.apr)}}function Ns(t){if(!t||typeof t!="object")return [];let e=[t],r=t;r.data&&typeof r.data=="object"&&e.push(r.data),r.result&&typeof r.result=="object"&&e.push(r.result),r.portfolio&&typeof r.portfolio=="object"&&e.push(r.portfolio);for(let n of e){if(Array.isArray(n))return n;if(n&&typeof n=="object")for(let i of ["wallets","tokens","assets","items","portfolio","balances"]){let o=n[i];if(Array.isArray(o))return o}}return []}function Ms(t){if(!t||typeof t!="object")return;let e=t;return R(e.username)??R(e.name)??R(e.account)}function vr(t,e="usd",r=true){return reactQuery.queryOptions({queryKey:["wallet","portfolio","v2",t,r?"only-enabled":"all",e],enabled:!!t,staleTime:6e4,refetchInterval:12e4,queryFn:async()=>{if(!t)throw new Error("[SDK][Wallet] \u2013 username is required");let n=`${exports.ConfigManager.getValidatedBaseUrl()}/wallet-api/portfolio-v2`,i=await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t,onlyEnabled:r,currency:e})});if(!i.ok)throw new Error(`[SDK][Wallet] \u2013 Portfolio request failed (${i.status})`);let o=await i.json(),s=Ns(o).map(a=>Ds(a)).filter(a=>!!a);if(!s.length)throw new Error("[SDK][Wallet] \u2013 Portfolio payload contained no tokens");return {username:Ms(o)??t,currency:R(o?.fiatCurrency??o?.currency)?.toUpperCase(),wallets:s}}})}function q(t){return reactQuery.queryOptions({queryKey:["assets","hive","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(I()),await m().prefetchQuery(P(t));let e=m().getQueryData(I().queryKey),r=m().getQueryData(P(t).queryKey),n=await c.hiveClient.call("condenser_api","get_ticker",[]).catch(()=>{}),i=Number.parseFloat(n?.latest??"");if(!r)return {name:"HIVE",title:"Hive",price:Number.isFinite(i)?i:e?e.base/e.quote:0,accountBalance:0};let o=_(r.balance).amount,s=_(r.savings_balance).amount;return {name:"HIVE",title:"Hive",price:Number.isFinite(i)?i:e?e.base/e.quote:0,accountBalance:o+s,parts:[{name:"current",balance:o},{name:"savings",balance:s}]}}})}function _r(t){return reactQuery.queryOptions({queryKey:["assets","hbd","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(I()),await m().prefetchQuery(P(t));let e=m().getQueryData(P(t).queryKey),r=m().getQueryData(I().queryKey),n=1;return e?{name:"HBD",title:"Hive Dollar",price:n,accountBalance:_(e.hbd_balance).amount+_(e?.savings_hbd_balance).amount,apr:((r?.hbdInterestRate??0)/100).toFixed(3),parts:[{name:"current",balance:_(e.hbd_balance).amount},{name:"savings",balance:_(e.savings_hbd_balance).amount}]}:{name:"HBD",title:"Hive Dollar",price:n,accountBalance:0}}})}function Bs(t){let l=9.5-(t.headBlock-7e6)/25e4*.01;l<.95&&(l=.95);let p=t.vestingRewardPercent/1e4,d=t.virtualSupply,f=t.totalVestingFund;return (d*l*p/f).toFixed(3)}function br(t){return reactQuery.queryOptions({queryKey:["assets","hive-power","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(I()),await m().prefetchQuery(P(t));let e=m().getQueryData(I().queryKey),r=m().getQueryData(P(t).queryKey);if(!e||!r)return {name:"HP",title:"Hive Power",price:0,accountBalance:0};let n=await c.hiveClient.call("condenser_api","get_ticker",[]).catch(()=>{}),i=Number.parseFloat(n?.latest??""),o=Number.isFinite(i)?i:e.base/e.quote,s=_(r.vesting_shares).amount,a=_(r.delegated_vesting_shares).amount,l=_(r.received_vesting_shares).amount,p=_(r.vesting_withdraw_rate).amount,d=Math.max((Number(r.to_withdraw)-Number(r.withdrawn))/1e6,0),f=Ee(r.next_vesting_withdrawal)?0:Math.min(p,d),g=+Y(s,e.hivePerMVests).toFixed(3),h=+Y(a,e.hivePerMVests).toFixed(3),v=+Y(l,e.hivePerMVests).toFixed(3),A=+Y(d,e.hivePerMVests).toFixed(3),k=+Y(f,e.hivePerMVests).toFixed(3),T=Math.max(g-A,0),C=Math.max(g-h,0);return {name:"HP",title:"Hive Power",price:o,accountBalance:+T.toFixed(3),apr:Bs(e),parts:[{name:"hp_balance",balance:g},{name:"available",balance:+C.toFixed(3)},{name:"outgoing_delegations",balance:h},{name:"incoming_delegations",balance:v},...A>0?[{name:"pending_power_down",balance:+A.toFixed(3)}]:[],...k>0&&k!==A?[{name:"next_power_down",balance:+k.toFixed(3)}]:[]]}}})}var O=dhive.utils.operationOrders,ve={transfers:[O.transfer,O.transfer_to_savings,O.transfer_from_savings,O.cancel_transfer_from_savings,O.recurrent_transfer,O.fill_recurrent_transfer,O.escrow_transfer,O.fill_recurrent_transfer],"market-orders":[O.fill_convert_request,O.fill_order,O.fill_collateralized_convert_request,O.limit_order_create2,O.limit_order_create,O.limit_order_cancel],interests:[O.interest],"stake-operations":[O.return_vesting_delegation,O.withdraw_vesting,O.transfer_to_vesting,O.set_withdraw_vesting_route,O.update_proposal_votes,O.fill_vesting_withdraw,O.account_witness_proxy,O.delegate_vesting_shares],rewards:[O.author_reward,O.curation_reward,O.producer_reward,O.claim_reward_balance,O.comment_benefactor_reward,O.liquidity_reward,O.proposal_pay],"":[]};var vO=Object.keys(dhive.utils.operationOrders);var Or=dhive.utils.operationOrders,OO=Or,PO=Object.entries(Or).reduce((t,[e,r])=>(t[r]=e,t),{});var Pr=dhive.utils.operationOrders;function Js(t){return Object.prototype.hasOwnProperty.call(Pr,t)}function mt(t){let e=Array.isArray(t)?t:[t],r=e.includes(""),n=Array.from(new Set(e.filter(a=>a!=null&&a!==""))),i=r||n.length===0?"all":n.map(a=>a.toString()).sort().join("|"),o=new Set;r||n.forEach(a=>{if(a in ve){ve[a].forEach(l=>o.add(l));return}Js(a)&&o.add(Pr[a]);});let s=zs(Array.from(o));return {filterKey:i,filterArgs:s}}function zs(t){let e=0n,r=0n;return t.forEach(n=>{n<64?e|=1n<<BigInt(n):r|=1n<<BigInt(n-64);}),[e!==0n?e.toString():null,r!==0n?r.toString():null]}function Ct(t,e=20,r=[]){let{filterArgs:n,filterKey:i}=mt(r);return reactQuery.infiniteQueryOptions({queryKey:["assets","hive","transactions",t,e,i],initialData:{pages:[],pageParams:[]},initialPageParam:-1,getNextPageParam:(o,s)=>o?+(o[o.length-1]?.num??0)-1:-1,queryFn:async({pageParam:o})=>(await c.hiveClient.call("condenser_api","get_account_history",[t,o,e,...n])).map(a=>({num:a[0],type:a[1].op[0],timestamp:a[1].timestamp,trx_id:a[1].trx_id,...a[1].op[1]})),select:({pages:o,pageParams:s})=>({pageParams:s,pages:o.map(a=>a.filter(l=>{switch(l.type){case "author_reward":case "comment_benefactor_reward":return _(l.hive_payout).amount>0;case "transfer":case "transfer_to_savings":case "transfer_to_vesting":case "recurrent_transfer":return _(l.amount).symbol==="HIVE";case "transfer_from_savings":return _(l.amount).symbol==="HIVE";case "fill_recurrent_transfer":let d=_(l.amount);return ["HIVE"].includes(d.symbol);case "claim_reward_balance":return _(l.reward_hive).amount>0;case "curation_reward":case "cancel_transfer_from_savings":case "fill_order":case "limit_order_create":case "limit_order_cancel":case "fill_convert_request":case "fill_collateralized_convert_request":return  true;case "limit_order_create2":return  true;default:return  false}}))})})}function QO(t,e=20,r=[]){let{filterKey:n}=mt(r);return reactQuery.infiniteQueryOptions({...Ct(t,e,r),queryKey:["assets","hbd","transactions",t,e,n],select:({pages:i,pageParams:o})=>({pageParams:o,pages:i.map(s=>s.filter(a=>{switch(a.type){case "author_reward":case "comment_benefactor_reward":return _(a.hbd_payout).amount>0;case "claim_reward_balance":return _(a.reward_hbd).amount>0;case "transfer":case "transfer_to_savings":case "transfer_to_vesting":case "recurrent_transfer":return _(a.amount).symbol==="HBD";case "transfer_from_savings":return _(a.amount).symbol==="HBD";case "fill_recurrent_transfer":let d=_(a.amount);return ["HBD"].includes(d.symbol);case "cancel_transfer_from_savings":case "fill_order":case "limit_order_create":case "limit_order_cancel":case "fill_convert_request":case "fill_collateralized_convert_request":case "proposal_pay":case "interest":return  true;case "limit_order_create2":return  true;default:return  false}}))})})}function MO(t,e=20,r=[]){let{filterKey:n}=mt(r),i=new Set(Array.isArray(r)?r:[r]),o=i.has("")||i.size===0;return reactQuery.infiniteQueryOptions({...Ct(t,e,r),queryKey:["assets","hive-power","transactions",t,e,n],select:({pages:s,pageParams:a})=>({pageParams:a,pages:s.map(l=>l.filter(p=>{switch(p.type){case "author_reward":case "comment_benefactor_reward":return _(p.vesting_payout).amount>0;case "claim_reward_balance":return _(p.reward_vests).amount>0;case "transfer_to_vesting":return  true;case "transfer":case "transfer_to_savings":case "recurrent_transfer":return ["VESTS","HP"].includes(_(p.amount).symbol);case "fill_recurrent_transfer":let g=_(p.amount);return ["VESTS","HP"].includes(g.symbol);case "curation_reward":case "withdraw_vesting":case "delegate_vesting_shares":case "fill_vesting_withdraw":case "return_vesting_delegation":case "producer_reward":case "set_withdraw_vesting_route":return  true;default:return o||i.has(p.type)}}))})})}function Ar(t){let e=r=>r.toString().padStart(2,"0");return `${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}T${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`}function _e(t,e){return new Date(t.getTime()-e*1e3)}function BO(t=86400){return reactQuery.infiniteQueryOptions({queryKey:["assets","hive","metrics",t],queryFn:async({pageParam:[e,r]})=>(await c.hiveClient.call("condenser_api","get_market_history",[t,Ar(e),Ar(r)])).map(({hive:i,non_hive:o,open:s})=>({close:o.close/i.close,open:o.open/i.open,low:o.low/i.low,high:o.high/i.high,volume:i.volume,time:new Date(s)})),initialPageParam:[_e(new Date,Math.max(100*t,28800)),new Date],getNextPageParam:(e,r,[n])=>[_e(n,Math.max(100*t,28800)),_e(n,t)]})}function UO(t){return reactQuery.queryOptions({queryKey:["assets","hive","withdrawal-routes",t],queryFn:()=>c.hiveClient.database.call("get_withdraw_routes",[t,"outgoing"]),enabled:!!t})}function YO(t,e=50){return reactQuery.queryOptions({queryKey:["assets","hive-power","delegates",t],enabled:!!t,queryFn:()=>c.hiveClient.database.call("get_vesting_delegations",[t,"",e])})}function rP(t){return reactQuery.queryOptions({queryKey:["assets","hive-power","delegatings",t],queryFn:async()=>(await(await fetch(c.privateApiHost+`/private-api/received-vesting/${t}`,{headers:{"Content-Type":"application/json"}})).json()).list,select:e=>e.sort((r,n)=>_(n.vesting_shares).amount-_(r.vesting_shares).amount)})}function sP(t=500){return reactQuery.queryOptions({queryKey:["market","order-book",t],queryFn:()=>c.hiveClient.call("condenser_api","get_order_book",[t])})}function pP(){return reactQuery.queryOptions({queryKey:["market","statistics"],queryFn:()=>c.hiveClient.call("condenser_api","get_ticker",[])})}function mP(t,e,r){let n=i=>i.toISOString().replace(/\.\d{3}Z$/,"");return reactQuery.queryOptions({queryKey:["market","history",t,e.getTime(),r.getTime()],queryFn:()=>c.hiveClient.call("condenser_api","get_market_history",[t,n(e),n(r)])})}function wP(){return reactQuery.queryOptions({queryKey:["market","hive-hbd-stats"],queryFn:async()=>{let t=await c.hiveClient.call("condenser_api","get_ticker",[]),e=new Date,r=new Date(e.getTime()-864e5),n=s=>s.toISOString().replace(/\.\d{3}Z$/,""),i=await c.hiveClient.call("condenser_api","get_market_history",[86400,n(r),n(e)]);return {price:+t.latest,close:i[0]?i[0].non_hive.open/i[0].hive.open:0,high:i[0]?i[0].non_hive.high/i[0].hive.high:0,low:i[0]?i[0].non_hive.low/i[0].hive.low:0,percent:i[0]?100-i[0].non_hive.open/i[0].hive.open*100/+t.latest:0,totalFromAsset:t.hive_volume.split(" ")[0],totalToAsset:t.hbd_volume.split(" ")[0]}}})}function OP(t,e,r,n){return reactQuery.queryOptions({queryKey:["market","data",t,e,r,n],queryFn:async({signal:i})=>{let o=w(),s=`https://api.coingecko.com/api/v3/coins/${t}/market_chart/range?vs_currency=${e}&from=${r}&to=${n}`,a=await o(s,{signal:i});if(!a.ok)throw new Error(`Failed to fetch market data: ${a.status}`);return a.json()}})}function kr(t){return t.toISOString().replace(/\.\d{3}Z$/,"")}function CP(t=1e3,e,r){let n=r??new Date,i=e??new Date(n.getTime()-600*60*1e3);return reactQuery.queryOptions({queryKey:["market","trade-history",t,i.getTime(),n.getTime()],queryFn:()=>c.hiveClient.call("condenser_api","get_trade_history",[kr(i),kr(n),t])})}function qP(){return reactQuery.queryOptions({queryKey:["market","feed-history"],queryFn:async()=>{try{return await c.hiveClient.database.call("get_feed_history")}catch(t){throw t}}})}function QP(){return reactQuery.queryOptions({queryKey:["market","current-median-history-price"],queryFn:async()=>{try{return await c.hiveClient.database.call("get_current_median_history_price")}catch(t){throw t}}})}function NP(t,e){return y(["market","limit-order-create"],t,r=>[Ot(t,r.amountToSell,r.minToReceive,r.fillOrKill,r.expiration,r.orderId)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.wallet.openOrders(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function VP(t,e){return y(["market","limit-order-cancel"],t,({orderId:r})=>[oe(t,r)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.wallet.openOrders(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}async function gt(t){let e=await t.json();if(!t.ok){let r=new Error(`Request failed with status ${t.status}`);throw r.status=t.status,r.data=e,r}return e}async function WP(t,e,r,n){let i=w(),o=`https://api.coingecko.com/api/v3/coins/${t}/market_chart/range?vs_currency=${e}&from=${r}&to=${n}`,s=await i(o);return gt(s)}async function Cr(t){if(t==="hbd")return 1;let e=w(),r=`https://api.coingecko.com/api/v3/simple/price?ids=hive_dollar&vs_currencies=${t}`,n=await e(r);return (await gt(n)).hive_dollar[t]}async function $P(t,e){let n=await w()(c.privateApiHost+`/private-api/market-data/${t==="hbd"?"usd":t}/${e}`);return gt(n)}async function UP(){let e=await w()(c.privateApiHost+"/private-api/market-data/latest");return gt(e)}async function LP(){let e=await w()("https://api.coingecko.com/api/v3/simple/price?ids=hive&vs_currencies=usd");return gt(e)}var la={"Content-type":"application/json"};async function da(t){let e=w(),r=exports.ConfigManager.getValidatedBaseUrl(),n=await e(`${r}/private-api/engine-api`,{method:"POST",body:JSON.stringify(t),headers:la});if(!n.ok)throw new Error(`[SDK][HiveEngine] \u2013 request failed with ${n.status}`);return (await n.json()).result}async function H(t,e){try{return await da(t)}catch{return e}}async function YP(t,e=50){let r={jsonrpc:"2.0",method:"find",params:{contract:"market",query:{symbol:t},limit:e,offset:0},id:1},[n,i]=await Promise.all([H({...r,params:{...r.params,table:"buyBook",indexes:[{index:"price",descending:true}]}},[]),H({...r,params:{...r.params,table:"sellBook",indexes:[{index:"price",descending:false}]}},[])]),o=a=>a.sort((l,p)=>{let d=Number(l.price??0);return Number(p.price??0)-d}),s=a=>a.sort((l,p)=>{let d=Number(l.price??0),f=Number(p.price??0);return d-f});return {buy:o(n),sell:s(i)}}async function XP(t,e=50){return H({jsonrpc:"2.0",method:"find",params:{contract:"market",table:"tradesHistory",query:{symbol:t},limit:e,offset:0,indexes:[{index:"timestamp",descending:true}]},id:1},[])}async function ZP(t,e,r=100){let n={jsonrpc:"2.0",method:"find",params:{contract:"market",query:{symbol:e,account:t},limit:r,offset:0},id:1},[i,o]=await Promise.all([H({...n,params:{...n.params,table:"buyBook",indexes:[{index:"timestamp",descending:true}]}},[]),H({...n,params:{...n.params,table:"sellBook",indexes:[{index:"timestamp",descending:true}]}},[])]),s=(p,d)=>(Number(p||0)*Number(d||0)).toFixed(8),a=i.map(p=>({id:p.txId,type:"buy",account:p.account,symbol:p.symbol,quantity:p.quantity,price:p.price,total:p.tokensLocked??s(p.quantity,p.price),timestamp:Number(p.timestamp??0)})),l=o.map(p=>({id:p.txId,type:"sell",account:p.account,symbol:p.symbol,quantity:p.quantity,price:p.price,total:s(p.quantity,p.price),timestamp:Number(p.timestamp??0)}));return [...a,...l].sort((p,d)=>d.timestamp-p.timestamp)}async function fa(t,e){return H({jsonrpc:"2.0",method:"find",params:{contract:"market",table:"metrics",query:{...t?{symbol:t}:{},...e?{account:e}:{}}},id:1},[])}async function xt(t,e){return fa(e,t)}async function Et(t){return H({jsonrpc:"2.0",method:"find",params:{contract:"tokens",table:"balances",query:{account:t}},id:1},[])}async function St(t){return H({jsonrpc:"2.0",method:"find",params:{contract:"tokens",table:"tokens",query:{symbol:{$in:t}}},id:2},[])}async function xr(t,e,r,n){let i=w(),o=exports.ConfigManager.getValidatedBaseUrl(),s=new URL("/private-api/engine-account-history",o);s.searchParams.set("account",t),s.searchParams.set("symbol",e),s.searchParams.set("limit",r.toString()),s.searchParams.set("offset",n.toString());let a=await i(s.toString(),{method:"GET",headers:{"Content-type":"application/json"}});if(!a.ok)throw new Error(`[SDK][HiveEngine] \u2013 account history failed with ${a.status}`);return await a.json()}async function Er(t,e="daily"){let r=w(),n=exports.ConfigManager.getValidatedBaseUrl(),i=new URL("/private-api/engine-chart-api",n);i.searchParams.set("symbol",t),i.searchParams.set("interval",e);let o=await r(i.toString(),{headers:{"Content-type":"application/json"}});if(!o.ok)throw new Error(`[SDK][HiveEngine] \u2013 chart failed with ${o.status}`);return await o.json()}async function Sr(t){let e=w(),r=exports.ConfigManager.getValidatedBaseUrl(),n=await e(`${r}/private-api/engine-reward-api/${t}?hive=1`);if(!n.ok)throw new Error(`[SDK][HiveEngine] \u2013 rewards failed with ${n.status}`);return await n.json()}function qt(t){return reactQuery.queryOptions({queryKey:["assets","hive-engine","balances",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>Et(t)})}function qr(){return reactQuery.queryOptions({queryKey:["assets","hive-engine","markets"],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>xt()})}function Tr(t){return reactQuery.queryOptions({queryKey:["assets","hive-engine","metadata-list",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>St(t)})}function dA(t,e,r=20){return reactQuery.infiniteQueryOptions({queryKey:["assets","hive-engine",e,"transactions",t],enabled:!!e&&!!t,initialPageParam:0,getNextPageParam:n=>(n?.length??0)+r,queryFn:async({pageParam:n})=>{if(!e||!t)throw new Error("[SDK][HiveEngine] \u2013 token or username missed");return xr(t,e,r,n)}})}function yA(t,e="daily"){return reactQuery.queryOptions({queryKey:["assets","hive-engine",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>Er(t,e)})}function _A(t){return reactQuery.queryOptions({queryKey:["assets","hive-engine","unclaimed",t],staleTime:6e4,refetchInterval:9e4,enabled:!!t,queryFn:async()=>{try{let e=await Sr(t);return Object.values(e).filter(({pending_token:r})=>r>0)}catch{return []}}})}function AA(t,e){return reactQuery.queryOptions({queryKey:["assets","hive-engine","all-tokens",t,e],queryFn:async()=>xt(t,e)})}function it(t,e=void 0){let r={fractionDigits:3,prefix:"",suffix:""};e&&(r={...r,...e});let{fractionDigits:n,prefix:i,suffix:o}=r,s="";i&&(s+=i+" ");let a=Math.abs(parseFloat(t.toString()))<1e-4?0:t,l=typeof a=="string"?parseFloat(a):a;return s+=l.toLocaleString("en-US",{minimumFractionDigits:n,maximumFractionDigits:n,useGrouping:true}),o&&(s+=" "+o),s}var Tt=class{symbol;name;icon;precision;stakingEnabled;delegationEnabled;balance;stake;stakedBalance;delegationsIn;delegationsOut;usdValue;constructor(e){this.symbol=e.symbol,this.name=e.name||"",this.icon=e.icon||"",this.precision=e.precision||0,this.stakingEnabled=e.stakingEnabled||false,this.delegationEnabled=e.delegationEnabled||false,this.balance=parseFloat(e.balance)||0,this.stake=parseFloat(e.stake)||0,this.delegationsIn=parseFloat(e.delegationsIn)||0,this.delegationsOut=parseFloat(e.delegationsOut)||0,this.stakedBalance=this.stake+this.delegationsIn-this.delegationsOut,this.usdValue=e.usdValue;}hasDelegations=()=>this.delegationEnabled?this.delegationsIn>0&&this.delegationsOut>0:false;delegations=()=>this.hasDelegations()?`(${it(this.stake,{fractionDigits:this.precision})} + ${it(this.delegationsIn,{fractionDigits:this.precision})} - ${it(this.delegationsOut,{fractionDigits:this.precision})})`:"";staked=()=>this.stakingEnabled?this.stakedBalance<1e-4?this.stakedBalance.toString():it(this.stakedBalance,{fractionDigits:this.precision}):"-";balanced=()=>this.balance<1e-4?this.balance.toString():it(this.balance,{fractionDigits:this.precision})};function FA(t,e,r){return reactQuery.queryOptions({queryKey:["assets","hive-engine","balances-with-usd",t,e,r],queryFn:async()=>{if(!t)throw new Error("[HiveEngine] No account in a balances query");let n=await Et(t),i=await St(n.map(a=>a.symbol)),o=e?e.base/e.quote:0,s=Array.isArray(r)?r:[];return n.map(a=>{let l=i.find(v=>v.symbol===a.symbol),p;if(l?.metadata)try{p=JSON.parse(l.metadata);}catch{p=void 0;}let d=s.find(v=>v.symbol===a.symbol),f=Number(d?.lastPrice??"0"),g=Number(a.balance),h=a.symbol==="SWAP.HIVE"?o*g:f===0?0:Number((f*o*g).toFixed(10));return new Tt({symbol:a.symbol,name:l?.name??a.symbol,icon:p?.icon??"",precision:l?.precision??0,stakingEnabled:l?.stakingEnabled??false,delegationEnabled:l?.delegationEnabled??false,balance:a.balance,stake:a.stake,delegationsIn:a.delegationsIn,delegationsOut:a.delegationsOut,usdValue:h})})},enabled:!!t})}function Fr(t,e){return reactQuery.queryOptions({queryKey:["assets","hive-engine",e,"general-info",t],enabled:!!e&&!!t,staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{if(!e||!t)throw new Error("[SDK][HiveEngine] \u2013 token or username missed");let r=m(),n=q(t);await r.prefetchQuery(n);let i=r.getQueryData(n.queryKey),o=await r.ensureQueryData(Tr([e])),s=await r.ensureQueryData(qt(t)),a=await r.ensureQueryData(qr()),l=o?.find(k=>k.symbol===e),p=s?.find(k=>k.symbol===e),f=+(a?.find(k=>k.symbol===e)?.lastPrice??"0"),g=parseFloat(p?.balance??"0"),h=parseFloat(p?.stake??"0"),v=parseFloat(p?.pendingUnstake??"0"),A=[{name:"liquid",balance:g},{name:"staked",balance:h}];return v>0&&A.push({name:"unstaking",balance:v}),{name:e,title:l?.name??"",price:f===0?0:Number(f*(i?.price??0)),accountBalance:g+h,layer:"ENGINE",parts:A}}})}async function Kr(t){let r=await w()(`${c.spkNode}/@${t}`);if(!r.ok)throw new Error(`[SDK][SPK] \u2013 wallet failed with ${r.status}`);return await r.json()}async function Qr(){let e=await w()(`${c.spkNode}/markets`);if(!e.ok)throw new Error(`[SDK][SPK] \u2013 markets failed with ${e.status}`);return await e.json()}function D(t){return reactQuery.queryOptions({queryKey:["assets","spk","wallet",t],queryFn:async()=>{if(!t)throw new Error("[SDK][SPK] \u2013 username wasn't provided");return Kr(t)},enabled:!!t,staleTime:6e4,refetchInterval:9e4})}function N(){return reactQuery.queryOptions({queryKey:["assets","spk","markets"],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{let t=await Qr();return {list:Object.entries(t.markets.node).map(([e,r])=>({name:e,status:r.lastGood>=t.head_block-1200?"\u{1F7E9}":r.lastGood>t.head_block-28800?"\u{1F7E8}":"\u{1F7E5}"})),raw:t}}})}function Rr(t,e){let r=0,n=0,i=0,o=0,s=t.head_block-t.spk_block;if(t.spk_block){if(s<28800)return 0;{o=s/28800,r=t.gov?a(t.gov,o,e.spk_rate_lgov):0,n=t.pow?a(t.pow,o,e.spk_rate_lpow):0,i=a((t.granted.t>0?t.granted.t:0)+(t.granting.t&&t.granting.t>0?t.granting.t:0),o,e.spk_rate_ldel);let l=r+n+i;return l||0}}else return 0;function a(l,p,d){return (l*(1+d/365)-l)*p}}function Ft(t){return t.toFixed(3)}function Ir(t){return reactQuery.queryOptions({queryKey:["assets","spk","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(D(t)),await m().prefetchQuery(N()),await m().prefetchQuery(q(t));let e=m().getQueryData(D(t).queryKey),r=m().getQueryData(N().queryKey),n=m().getQueryData(q(t).queryKey);if(!e||!r)return {name:"SPK",layer:"SPK",title:"SPK Network",price:1,accountBalance:0};let i=+Ft((e.gov+e.spk)/1e3*+e.tick*(n?.price??0)),o=+Ft((e.spk+Rr(e,r.raw.stats||{spk_rate_lgov:"0.001",spk_rate_lpow:Ft(parseFloat(r.raw.stats.spk_rate_lpow)*100),spk_rate_ldel:Ft(parseFloat(r.raw.stats.spk_rate_ldel)*100)}))/1e3);return {name:"SPK",layer:"SPK",title:"SPK Network",price:i/o,accountBalance:o}}})}function Dr(t){return t.toFixed(3)}function Nr(t){return reactQuery.queryOptions({queryKey:["assets","larynx","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(D(t)),await m().prefetchQuery(N()),await m().prefetchQuery(q(t));let e=m().getQueryData(D(t).queryKey),r=m().getQueryData(N().queryKey),n=m().getQueryData(q(t).queryKey);if(!e||!r)return {name:"LARYNX",title:"SPK Network / LARYNX",price:1,accountBalance:0};let i=+Dr(e.balance/1e3*+e.tick*(n?.price??0)),o=+Dr(e.balance/1e3);return {name:"LARYNX",layer:"SPK",title:"LARYNX",price:i/o,accountBalance:o}}})}function Kt(t){return t.toFixed(3)}function Mr(t){return reactQuery.queryOptions({queryKey:["assets","larynx-power","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>{await m().prefetchQuery(D(t)),await m().prefetchQuery(N()),await m().prefetchQuery(q(t));let e=m().getQueryData(D(t).queryKey),r=m().getQueryData(N().queryKey),n=m().getQueryData(q(t).queryKey);if(!e||!r)return {name:"LP",title:"SPK Network / LARYNX Power",price:1,accountBalance:0};let i=+Kt(e.poweredUp/1e3*+e.tick*(n?.price??0)),o=+Kt(e.poweredUp/1e3);return {name:"LP",title:"LARYNX Power",layer:"SPK",price:i/o,accountBalance:o,parts:[{name:"delegating",balance:e.granting?.t?+Kt(e.granting.t/1e3):0},{name:"recieved",balance:e.granted?.t?+Kt(e.granted.t/1e3):0}]}}})}function yt(t,e=0){return reactQuery.queryOptions({queryKey:["points",t,e],queryFn:async()=>{if(!t)throw new Error("Get points query \u2013 username wasn't provided");let r=t.replace("@",""),n=await fetch(c.privateApiHost+"/private-api/points",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r})});if(!n.ok)throw new Error(`Failed to fetch points: ${n.status}`);let i=await n.json(),o=await fetch(c.privateApiHost+"/private-api/point-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,type:e})});if(!o.ok)throw new Error(`Failed to fetch point transactions: ${o.status}`);let s=await o.json();return {points:i.points,uPoints:i.unclaimed_points,transactions:s}},staleTime:3e4,refetchOnMount:true,enabled:!!t})}function Hr(t){return reactQuery.queryOptions({queryKey:["assets","points","general-info",t],staleTime:6e4,refetchInterval:9e4,queryFn:async()=>(await m().prefetchQuery(yt(t)),{name:"POINTS",title:"Ecency Points",price:.002,accountBalance:+(m().getQueryData(yt(t).queryKey)?.points??0)})})}function Ak(t,e){return reactQuery.queryOptions({queryKey:["assets","points","transactions",t,e],queryFn:async()=>(await(await fetch(`${c.privateApiHost}/private-api/point-list`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,type:e??0})})).json()).map(({created:i,type:o,amount:s,id:a,sender:l,receiver:p,memo:d})=>({created:new Date(i),type:o,results:[{amount:parseFloat(s),asset:"POINTS"}],id:a,from:l??void 0,to:p??void 0,memo:d??void 0}))})}function Mk(t,e,r={refetch:false}){let n=m(),i=r.currency??"usd",o=async p=>(r.refetch?await n.fetchQuery(p):await n.prefetchQuery(p),n.getQueryData(p.queryKey)),s=async p=>{if(!p||i==="usd")return p;try{let d=await Cr(i);return {...p,price:p.price*d}}catch(d){return console.warn(`Failed to convert price from USD to ${i}:`,d),p}},a=vr(t,i,true),l=async()=>{try{let d=(await n.fetchQuery(a)).wallets.find(g=>g.symbol.toUpperCase()===e.toUpperCase());if(!d)return;let f=[];if(d.liquid!==void 0&&d.liquid!==null&&f.push({name:"liquid",balance:d.liquid}),d.staked!==void 0&&d.staked!==null&&d.staked>0&&f.push({name:"staked",balance:d.staked}),d.savings!==void 0&&d.savings!==null&&d.savings>0&&f.push({name:"savings",balance:d.savings}),d.extraData&&Array.isArray(d.extraData))for(let g of d.extraData){if(!g||typeof g!="object")continue;let h=g.dataKey,v=g.value;if(typeof v=="string"){let k=v.replace(/,/g,"").match(/[+-]?\s*(\d+(?:\.\d+)?)/);if(k){let T=Math.abs(Number.parseFloat(k[1]));h==="delegated_hive_power"?f.push({name:"outgoing_delegations",balance:T}):h==="received_hive_power"?f.push({name:"incoming_delegations",balance:T}):h==="powering_down_hive_power"&&f.push({name:"pending_power_down",balance:T});}}}return {name:d.symbol,title:d.name,price:d.fiatRate,accountBalance:d.balance,apr:d.apr?.toString(),layer:d.layer,pendingRewards:d.pendingRewards,parts:f}}catch{return}};return reactQuery.queryOptions({queryKey:["ecency-wallets","asset-info",t,e,i],queryFn:async()=>{let p=await l();if(p)return p;let d;if(e==="HIVE")d=await o(q(t));else if(e==="HP")d=await o(br(t));else if(e==="HBD")d=await o(_r(t));else if(e==="SPK")d=await o(Ir(t));else if(e==="LARYNX")d=await o(Nr(t));else if(e==="LP")d=await o(Mr(t));else if(e==="POINTS")d=await o(Hr(t));else if((await n.ensureQueryData(qt(t))).some(g=>g.symbol===e))d=await o(Fr(t,e));else throw new Error(`[SDK][Wallet] \u2013 unrecognized asset "${e}"`);return await s(d)}})}var Fa=(C=>(C.Transfer="transfer",C.TransferToSavings="transfer-saving",C.WithdrawFromSavings="withdraw-saving",C.Delegate="delegate",C.PowerUp="power-up",C.PowerDown="power-down",C.WithdrawRoutes="withdraw-routes",C.ClaimInterest="claim-interest",C.Swap="swap",C.Convert="convert",C.Gift="gift",C.Promote="promote",C.Claim="claim",C.Buy="buy",C.LockLiquidity="lock",C.Stake="stake",C.Unstake="unstake",C.Undelegate="undelegate",C))(Fa||{});function Wk(t,e){return y(["wallet","transfer"],t,r=>[$(t,r.to,r.amount,r.memo)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function zk(t,e){return y(["wallet","transfer-point"],t,r=>[rt(t,r.to,r.amount,r.memo)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function eC(t,e){return y(["wallet","delegate-vesting-shares"],t,r=>[pt(t,r.delegatee,r.vestingShares)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.delegatee),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function sC(t,e){return y(["wallet","set-withdraw-vesting-route"],t,r=>[lt(t,r.toAccount,r.percent,r.autoVest)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.wallet.withdrawRoutes(t),u.accounts.full(t),u.accounts.full(n.toAccount)]);},e,"active")}function pC(t,e){return y(["wallet","transfer-spk"],t,r=>{let n=JSON.stringify({to:r.to,amount:r.amount,...typeof r.memo=="string"?{memo:r.memo}:{}});return [["custom_json",{required_auths:[t],required_posting_auths:[],id:"spkcc_spk_send",json:n}]]},async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function mC(t,e){return y(["wallet","transfer-larynx"],t,r=>{let n=JSON.stringify({to:r.to,amount:r.amount,...typeof r.memo=="string"?{memo:r.memo}:{}});return [["custom_json",{required_auths:[t],required_posting_auths:[],id:"spkcc_send",json:n}]]},async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function wC(t,e){return y(["wallet","transfer-engine-token"],t,r=>{let n=JSON.stringify({contractName:"tokens",contractAction:"transfer",contractPayload:{symbol:r.symbol,to:r.to,quantity:r.quantity,memo:r.memo}});return [["custom_json",{required_auths:[t],required_posting_auths:[],id:"ssc-mainnet-hive",json:n}]]},async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function PC(t,e){return y(["wallet","transfer-to-savings"],t,r=>[et(t,r.to,r.amount,r.memo)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function EC(t,e){return y(["wallet","transfer-from-savings"],t,r=>[U(t,r.to,r.amount,r.memo,r.requestId)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function KC(t,e){return y(["wallet","transfer-to-vesting"],t,r=>[ut(t,r.to,r.amount)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function NC(t,e){return y(["wallet","withdraw-vesting"],t,r=>[ct(t,r.vestingShares)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function BC(t,e){return y(["wallet","convert"],t,r=>[r.collateralized?Gt(t,r.amount,r.requestId):dt(t,r.amount,r.requestId)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function LC(t,e){return y(["wallet","claim-interest"],t,r=>at(t,r.to,r.amount,r.memo,r.requestId),async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}var Ka=5e3,Qt=new Map;function ZC(t,e){return y(["wallet","claim-rewards"],t,r=>[se(t,r.rewardHive,r.rewardHbd,r.rewardVests)],()=>{let r=t??"__anonymous__",n=[u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t],u.assets.hiveGeneralInfo(t),u.assets.hbdGeneralInfo(t),u.assets.hivePowerGeneralInfo(t)],i=Qt.get(r);i&&(clearTimeout(i),Qt.delete(r));let o=setTimeout(async()=>{try{let s=m(),l=(await Promise.allSettled(n.map(p=>s.invalidateQueries({queryKey:p})))).filter(p=>p.status==="rejected");l.length>0&&console.error("[SDK][Wallet][useClaimRewards] delayed invalidation rejected",{username:t,rejectedCount:l.length,rejected:l});}catch(s){console.error("[SDK][Wallet][useClaimRewards] delayed invalidation failed",{username:t,error:s});}finally{Qt.delete(r);}},Ka);Qt.set(r,o);},e,"posting")}function n0(t,e){return y(["wallet","lock-larynx"],t,r=>{let n=JSON.stringify({amount:r.amount*1e3});return [["custom_json",{id:r.mode==="lock"?"spkcc_gov_up":"spkcc_gov_down",required_auths:[t],required_posting_auths:[],json:n}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function a0(t,e){return y(["wallet","power-larynx"],t,r=>{let n=JSON.stringify({amount:r.amount*1e3});return [["custom_json",{id:`spkcc_power_${r.mode}`,required_auths:[t],required_posting_auths:[],json:n}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function l0(t,e){return y(["wallet","delegate-engine-token"],t,r=>{let n=JSON.stringify({contractName:"tokens",contractAction:"delegate",contractPayload:{symbol:r.symbol,to:r.to,quantity:r.quantity}});return [["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:n}]]},async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function g0(t,e){return y(["wallet","undelegate-engine-token"],t,r=>{let n=JSON.stringify({contractName:"tokens",contractAction:"undelegate",contractPayload:{symbol:r.symbol,from:r.from,quantity:r.quantity}});return [["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:n}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function v0(t,e){return y(["wallet","stake-engine-token"],t,r=>{let n=JSON.stringify({contractName:"tokens",contractAction:"stake",contractPayload:{symbol:r.symbol,to:r.to,quantity:r.quantity}});return [["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:n}]]},async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function P0(t,e){return y(["wallet","unstake-engine-token"],t,r=>{let n=JSON.stringify({contractName:"tokens",contractAction:"unstake",contractPayload:{symbol:r.symbol,to:r.to,quantity:r.quantity}});return [["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:n}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function x0(t,e){return y(["wallet","claim-engine-rewards"],t,r=>{let n=JSON.stringify(r.tokens.map(i=>({symbol:i})));return [["custom_json",{id:"scot_claim_token",required_auths:[],required_posting_auths:[t],json:n}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"posting")}function T0(t,e){return y(["wallet","engine-market-order"],t,r=>{let n,i;r.action==="cancel"?(i="cancel",n={type:r.orderType,id:r.orderId}):(i=r.action,n={symbol:r.symbol,quantity:r.quantity,price:r.price});let o=JSON.stringify({contractName:"market",contractAction:i,contractPayload:n});return [["custom_json",{id:"ssc-mainnet-hive",required_auths:[t],required_posting_auths:[],json:o}]]},async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),["ecency-wallets","asset-info",t],["wallet","portfolio","v2",t]]);},e,"active")}function Qa(t,e,r){let{from:n,to:i="",amount:o="",memo:s=""}=r,a=r.request_id??Date.now()>>>0;switch(t){case "HIVE":switch(e){case "transfer":return [$(n,i,o,s)];case "transfer-saving":return [et(n,i,o,s)];case "withdraw-saving":return [U(n,i,o,s,a)];case "power-up":return [ut(n,i,o)]}break;case "HBD":switch(e){case "transfer":return [$(n,i,o,s)];case "transfer-saving":return [et(n,i,o,s)];case "withdraw-saving":return [U(n,i,o,s,a)];case "claim-interest":return at(n,i,o,s,a);case "convert":return [dt(n,o,Math.floor(Date.now()/1e3))]}break;case "HP":switch(e){case "power-down":return [ct(n,o)];case "delegate":return [pt(n,i,o)];case "withdraw-routes":return [lt(r.from_account??n,r.to_account??i,r.percent??0,r.auto_vest??false)]}break;case "POINTS":if(e==="transfer"||e==="gift")return [rt(n,i,o,s)];break;case "SPK":if(e==="transfer"){let l=typeof o=="number"?o:parseFloat(o)*1e3;return [["custom_json",{id:"spkcc_spk_send",required_auths:[n],required_posting_auths:[],json:JSON.stringify({to:i,amount:l,...typeof s=="string"&&s?{memo:s}:{}})}]]}break;case "LARYNX":switch(e){case "transfer":{let l=typeof o=="number"?o:parseFloat(o)*1e3;return [["custom_json",{id:"spkcc_send",required_auths:[n],required_posting_auths:[],json:JSON.stringify({to:i,amount:l,...typeof s=="string"&&s?{memo:s}:{}})}]]}case "lock":{let l=typeof r.amount=="string"?parseFloat(r.amount):Number(r.amount??0),p=r.mode==="lock"?"spkcc_gov_up":"spkcc_gov_down";return [vt(n,p,l)]}case "power-up":{let l=typeof r.amount=="string"?parseFloat(r.amount):Number(r.amount??0),p=`spkcc_power_${r.mode??"up"}`;return [vt(n,p,l)]}}break}return null}function Ra(t,e,r){let{from:n,to:i="",amount:o=""}=r,s=typeof o=="string"&&o.includes(" ")?o.split(" ")[0]:String(o);switch(e){case "transfer":return [L(n,"transfer",{symbol:t,to:i,quantity:s,memo:r.memo??""})];case "stake":return [L(n,"stake",{symbol:t,to:i,quantity:s})];case "unstake":return [L(n,"unstake",{symbol:t,to:i,quantity:s})];case "delegate":return [L(n,"delegate",{symbol:t,to:i,quantity:s})];case "undelegate":return [L(n,"undelegate",{symbol:t,from:i,quantity:s})];case "claim":return [Wt(n,[t])]}return null}function Ia(t){return t==="claim"?"posting":"active"}function D0(t,e,r,n){let{mutateAsync:i}=nt.useRecordActivity(t,r);return y(["ecency-wallets",e,r],t,o=>{let s=Qa(e,r,o);if(s)return s;let a=Ra(e,r,o);if(a)return a;throw new Error(`[SDK][Wallet] \u2013 no operation builder for asset="${e}" operation="${r}"`)},()=>{i();let o=[];o.push(["ecency-wallets","asset-info",t,e]),e==="HIVE"&&o.push(["ecency-wallets","asset-info",t,"HP"]),e==="LARYNX"&&r==="power-up"&&(o.push(["ecency-wallets","asset-info",t,"LP"]),o.push(["ecency-wallets","asset-info",t,"LARYNX"])),o.push(["wallet","portfolio","v2",t]),setTimeout(()=>{o.forEach(s=>{m().invalidateQueries({queryKey:s});});},5e3);},n,Ia(r))}function j0(t,e){return y(["wallet","delegate-rc"],t,({to:r,maxRc:n})=>[$t(t,r,n)],async(r,n)=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.accounts.full(n.to),u.resourceCredits.account(t),u.resourceCredits.account(n.to)]);},e,"active")}function W0(t,e){return y(["witnesses","vote"],t,({witness:r,approve:n})=>[Jt(t,r,n)],async()=>{try{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.witnesses.votes(t)]);}catch(r){console.warn("[useWitnessVote] Post-broadcast side-effect failed:",r);}},e,"active")}function J0(t,e){return y(["witnesses","proxy"],t,({proxy:r})=>[zt(t,r)],async()=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.witnesses.proxy()]);},e,"active")}function Z0(t){return reactQuery.infiniteQueryOptions({queryKey:["witnesses","list",t],initialPageParam:"",queryFn:async({pageParam:e})=>c.hiveClient.call("condenser_api","get_witnesses_by_vote",[e,t]),getNextPageParam:e=>{let r=e?.[e.length-1];return r?r.owner:void 0}})}var Na=(h=>(h[h.CHECKIN=10]="CHECKIN",h[h.LOGIN=20]="LOGIN",h[h.CHECKIN_EXTRA=30]="CHECKIN_EXTRA",h[h.POST=100]="POST",h[h.COMMENT=110]="COMMENT",h[h.VOTE=120]="VOTE",h[h.REBLOG=130]="REBLOG",h[h.DELEGATION=150]="DELEGATION",h[h.REFERRAL=160]="REFERRAL",h[h.COMMUNITY=170]="COMMUNITY",h[h.TRANSFER_SENT=998]="TRANSFER_SENT",h[h.TRANSFER_INCOMING=999]="TRANSFER_INCOMING",h[h.MINTED=991]="MINTED",h))(Na||{});function sx(t,e,r,n){let{mutateAsync:i}=nt.useRecordActivity(t,"points-claimed");return reactQuery.useMutation({mutationFn:async()=>{if(!t)throw new Error("[SDK][Points][Claim] \u2013 username wasn't provided");if(!e)throw new Error("[SDK][Points][Claim] \u2013 access token wasn't found");let s=await w()(c.privateApiHost+"/private-api/points-claim",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!s.ok){let a=await s.text();if(s.status===406)try{return JSON.parse(a)}catch{return {message:a,code:s.status}}throw new Error(`[SDK][Points][Claim] \u2013 failed with status ${s.status}${a?`: ${a}`:""}`)}return s.json()},onError:n,onSuccess:()=>{i(),m().setQueryData(yt(t).queryKey,o=>o&&{...o,points:(parseFloat(o.points)+parseFloat(o.uPoints)).toFixed(3),uPoints:"0"}),r?.();}})}function px(t,e,r,n,i,o){return reactQuery.queryOptions({queryKey:["search",t,e,r,n,i,o],queryFn:async()=>{let s={q:t,sort:e,hide_low:r};n&&(s.since=n),i&&(s.scroll_id=i),o&&(s.votes=o);let a=await fetch(c.privateApiHost+"/search-api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`Search failed: ${a.status}`);return a.json()}})}function lx(t,e,r=true){return reactQuery.infiniteQueryOptions({queryKey:["search","controversial-rising",t,e],initialPageParam:{sid:void 0,hasNextPage:true},queryFn:async({pageParam:n})=>{if(!n.hasNextPage)return {hits:0,took:0,results:[]};let i,o=new Date;switch(e){case "today":i=new Date(o.getTime()-1440*60*1e3);break;case "week":i=new Date(o.getTime()-10080*60*1e3);break;case "month":i=new Date(o.getTime()-720*60*60*1e3);break;case "year":i=new Date(o.getTime()-365*24*60*60*1e3);break;default:i=void 0;}let s="* type:post",a=t==="rising"?"children":t,l=i?i.toISOString().split(".")[0]:void 0,p="0",d=e==="today"?50:200,f={q:s,sort:a,hide_low:p};l&&(f.since=l),n.sid&&(f.scroll_id=n.sid),(f.votes=d);let g=await fetch(c.privateApiHost+"/search-api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw new Error(`Search failed: ${g.status}`);return g.json()},getNextPageParam:n=>({sid:n?.scroll_id,hasNextPage:n.results.length>0}),enabled:r})}function Ba(t,e=3){let{json_metadata:r,permlink:n}=t,i="*";i+=" -dporn type:post";let o;return r&&r.tags&&Array.isArray(r.tags)&&(o=r.tags.filter(s=>s&&s!==""&&typeof s=="string").filter(s=>!s.startsWith("hive-")).filter((s,a)=>a<+e).join(",")),o&&o.length>0?i+=` tag:${o}`:(o=n.split("-").filter(a=>a!=="").filter(a=>!/^-?\d+$/.test(a)).filter(a=>a.length>2).join(","),i+=` tag:${o}`),i}function gx(t){let e=Ba(t);return reactQuery.queryOptions({queryKey:["search","similar-entries",t.author,t.permlink,e],queryFn:async()=>{let r={q:e,sort:"newest",hide_low:"0"},n=await fetch(c.privateApiHost+"/search-api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error(`Search failed: ${n.status}`);let o=(await n.json()).results.filter(a=>a.permlink!==t.permlink&&a.tags.indexOf("nsfw")===-1),s=[];for(let a of o)s.find(l=>l.author===a.author)===void 0&&s.push(a);return s.slice(0,3)}})}function vx(t,e=5,r=false){return reactQuery.queryOptions({queryKey:["search","account",t,e],queryFn:async()=>{let n={q:t,limit:e,random:+r},i=await fetch(c.privateApiHost+"/search-api/search-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to search accounts: ${i.status}`);return i.json()},enabled:!!t})}function Px(t,e=20,r=false){return reactQuery.queryOptions({queryKey:["search","topics",t],queryFn:async()=>{let n={q:t,limit:e,random:+r},i=await fetch(c.privateApiHost+"/search-api/search-tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to search topics: ${i.status}`);return i.json()},enabled:!!t})}function xx(t,e,r,n,i){return reactQuery.infiniteQueryOptions({queryKey:["search","api",t,e,r,n,i],queryFn:async({pageParam:o})=>{let s={q:t,sort:e,hide_low:r};n&&(s.since=n),o&&(s.scroll_id=o),i!==void 0&&(s.votes=i);let a=await fetch(c.privateApiHost+"/search-api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`Search failed: ${a.status}`);return a.json()},initialPageParam:void 0,getNextPageParam:o=>o?.scroll_id,enabled:!!t})}function Tx(t){return reactQuery.queryOptions({queryKey:["search","path",t],queryFn:async()=>{let e=await fetch(c.privateApiHost+"/search-api/search-path",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:t})});if(!e.ok)throw new Error(`Search path failed: ${e.status}`);let r=await e.json();return r?.length>0?r:[t]}})}async function Rt(t){let r=await(async()=>{try{return await t.json()}catch{try{return await t.text()}catch{return}}})();if(!t.ok){let n=new Error(`Request failed with status ${t.status}`);throw n.status=t.status,n.data=r,n}if(r===void 0)throw new Error("Response body was empty or invalid JSON");return r}async function Qx(t,e,r,n,i,o){let s={q:t,sort:e,hide_low:r};n&&(s.since=n),i&&(s.scroll_id=i),o&&(s.votes=o);let l=await w()(c.privateApiHost+"/search-api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return Rt(l)}async function Rx(t="",e=20,r=1){let n={q:t,limit:e,random:r},o=await w()(c.privateApiHost+"/search-api/search-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Rt(o)}async function Ix(t="",e=20,r=0){let n={q:t,limit:e,random:r},o=await w()(c.privateApiHost+"/search-api/search-tag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return Rt(o)}async function Dx(t){let r=await w()(c.privateApiHost+"/search-api/search-path",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:t})}),n=await Rt(r);return n?.length>0?n:[t]}function jx(t){return reactQuery.queryOptions({queryKey:["promotions","boost-plus-prices"],queryFn:async()=>{if(!t)return [];let e=await fetch(c.privateApiHost+"/private-api/boost-plus-price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(!e.ok)throw new Error(`Failed to fetch boost plus prices: ${e.status}`);return await e.json()},staleTime:1/0,enabled:!!t})}function Wx(t){return reactQuery.queryOptions({queryKey:["promotions","promote-price"],queryFn:async()=>{let e=await fetch(c.privateApiHost+"/private-api/promote-price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(!e.ok)throw new Error(`Failed to fetch promote prices: ${e.status}`);return await e.json()},enabled:!!t})}function Jx(t,e){return reactQuery.queryOptions({queryKey:["promotions","boost-plus-accounts",t],queryFn:async()=>{if(!e||!t)return null;let r=await fetch(c.privateApiHost+"/private-api/boosted-plus-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,account:t})});if(!r.ok)throw new Error(`Failed to fetch boost plus account prices: ${r.status}`);let n=await r.json();return n?{account:n.account,expires:new Date(n.expires)}:null},enabled:!!t&&!!e})}function Zx(t,e){return y(["promotions","boost-plus"],t,({account:r,duration:n})=>[le(t,r,n)],async(r,{account:n})=>{e?.adapter?.invalidateQueries&&await e.adapter.invalidateQueries([u.accounts.full(t),u.promotions.boostPlusAccounts(n)]);},e,"active")}async function rE(t){let r=await w()(c.privateApiHost+"/auth-api/hs-token-refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(!r.ok){let i;try{i=await r.json();}catch{i=void 0;}let o=new Error(`Failed to refresh token: ${r.status}`);throw o.status=r.status,o.data=i,o}return await r.json()}
exports.ACCOUNT_OPERATION_GROUPS=Z;exports.ALL_ACCOUNT_OPERATIONS=Sn;exports.ALL_NOTIFY_TYPES=w_;exports.AssetOperation=Fa;exports.BuySellTransactionType=Xe;exports.CONFIG=c;exports.EcencyAnalytics=nt;exports.ErrorType=be;exports.HIVE_ACCOUNT_OPERATION_GROUPS=ve;exports.HIVE_OPERATION_LIST=vO;exports.HIVE_OPERATION_NAME_BY_ID=PO;exports.HIVE_OPERATION_ORDERS=OO;exports.HiveEngineToken=Tt;exports.HiveSignerIntegration=hr;exports.NaiMap=Ce;exports.NotificationFilter=gs;exports.NotificationViewType=hs;exports.NotifyTypes=ys;exports.OPERATION_AUTHORITY_MAP=mo;exports.OrderIdPrefix=Ze;exports.PointTransactionType=Na;exports.QueryKeys=u;exports.ROLES=ds;exports.SortOrder=Be;exports.Symbol=ke;exports.ThreeSpeakIntegration=Ew;exports.addDraft=cr;exports.addImage=sr;exports.addOptimisticDiscussionEntry=Ah;exports.addSchedule=dr;exports.bridgeApiCall=K;exports.broadcastJson=Ae;exports.buildAccountCreateOp=ae;exports.buildAccountUpdate2Op=Ni;exports.buildAccountUpdateOp=Di;exports.buildActiveCustomJsonOp=Wi;exports.buildBoostOp=tr;exports.buildBoostOpWithPoints=Bi;exports.buildBoostPlusOp=le;exports.buildCancelTransferFromSavingsOp=Ye;exports.buildChangeRecoveryAccountOp=Hi;exports.buildClaimAccountOp=ce;exports.buildClaimInterestOps=at;exports.buildClaimRewardBalanceOp=se;exports.buildCollateralizedConvertOp=Gt;exports.buildCommentOp=G;exports.buildCommentOptionsOp=W;exports.buildCommunityRegistrationOp=fe;exports.buildConvertOp=dt;exports.buildCreateClaimedAccountOp=ue;exports.buildDelegateRcOp=$t;exports.buildDelegateVestingSharesOp=pt;exports.buildDeleteCommentOp=Vt;exports.buildEngineClaimOp=Wt;exports.buildEngineOp=L;exports.buildFlagPostOp=Ri;exports.buildFollowOp=Ut;exports.buildGrantPostingPermissionOp=pe;exports.buildIgnoreOp=qi;exports.buildLimitOrderCancelOp=oe;exports.buildLimitOrderCreateOp=Ot;exports.buildLimitOrderCreateOpWithType=Ii;exports.buildMultiPointTransferOps=Gi;exports.buildMultiTransferOps=Ei;exports.buildMutePostOp=ie;exports.buildMuteUserOp=Qi;exports.buildPinPostOp=ne;exports.buildPointTransferOp=rt;exports.buildPostingCustomJsonOp=$i;exports.buildProfileMetadata=Mt;exports.buildPromoteOp=de;exports.buildProposalCreateOp=Yt;exports.buildProposalVoteOp=Xt;exports.buildReblogOp=Bt;exports.buildRecoverAccountOp=Vi;exports.buildRecurrentTransferOp=Si;exports.buildRemoveProposalOp=Fi;exports.buildRequestAccountRecoveryOp=ji;exports.buildRevokePostingPermissionOp=Mi;exports.buildSetLastReadOps=Lt;exports.buildSetRoleOp=ee;exports.buildSetWithdrawVestingRouteOp=lt;exports.buildSpkCustomJsonOp=vt;exports.buildSubscribeOp=Zt;exports.buildTransferFromSavingsOp=U;exports.buildTransferOp=$;exports.buildTransferToSavingsOp=et;exports.buildTransferToVestingOp=ut;exports.buildUnfollowOp=_t;exports.buildUnignoreOp=Ti;exports.buildUnsubscribeOp=te;exports.buildUpdateCommunityOp=re;exports.buildUpdateProposalOp=Ki;exports.buildVoteOp=jt;exports.buildWithdrawVestingOp=ct;exports.buildWitnessProxyOp=zt;exports.buildWitnessVoteOp=Jt;exports.checkFavoriteQueryOptions=np;exports.checkUsernameWalletsPendingQueryOptions=Ic;exports.decodeObj=ku;exports.dedupeAndSortKeyAuths=Zi;exports.deleteDraft=lr;exports.deleteImage=ur;exports.deleteSchedule=fr;exports.downVotingPower=vg;exports.encodeObj=Au;exports.extractAccountProfile=Nt;exports.formatError=Vr;exports.formattedNumber=it;exports.getAccountFullQueryOptions=P;exports.getAccountNotificationsInfiniteQueryOptions=Xv;exports.getAccountPendingRecoveryQueryOptions=lp;exports.getAccountPosts=De;exports.getAccountPostsInfiniteQueryOptions=td;exports.getAccountPostsQueryOptions=ed;exports.getAccountRcQueryOptions=$w;exports.getAccountRecoveriesQueryOptions=ap;exports.getAccountReputationsQueryOptions=yp;exports.getAccountSubscriptionsQueryOptions=Bc;exports.getAccountVoteHistoryInfiniteQueryOptions=Af;exports.getAccountWalletAssetInfoQueryOptions=Mk;exports.getAccountsQueryOptions=rc;exports.getAllHiveEngineTokensQueryOptions=AA;exports.getAnnouncementsQueryOptions=C_;exports.getBookmarksInfiniteQueryOptions=Lc;exports.getBookmarksQueryOptions=Uc;exports.getBoostPlusAccountPricesQueryOptions=Jx;exports.getBoostPlusPricesQueryOptions=jx;exports.getBotsQueryOptions=Cp;exports.getBoundFetch=w;exports.getChainPropertiesQueryOptions=Hg;exports.getCollateralizedConversionRequestsQueryOptions=_b;exports.getCommentHistoryQueryOptions=Id;exports.getCommunities=Ml;exports.getCommunitiesQueryOptions=Kv;exports.getCommunity=Me;exports.getCommunityContextQueryOptions=Dv;exports.getCommunityPermissions=a_;exports.getCommunityQueryOptions=Vv;exports.getCommunitySubscribersQueryOptions=Uv;exports.getCommunityType=s_;exports.getContentQueryOptions=_l;exports.getContentRepliesQueryOptions=Al;exports.getControversialRisingInfiniteQueryOptions=lx;exports.getConversionRequestsQueryOptions=yb;exports.getCurrencyRate=Cr;exports.getCurrencyRates=UP;exports.getCurrencyTokenRate=$P;exports.getCurrentMedianHistoryPriceQueryOptions=QP;exports.getCustomJsonAuthority=go;exports.getDeletedEntryQueryOptions=Hd;exports.getDiscoverCurationQueryOptions=nw;exports.getDiscoverLeaderboardQueryOptions=Zh;exports.getDiscussion=Ne;exports.getDiscussionQueryOptions=Ll;exports.getDiscussionsQueryOptions=Ge;exports.getDraftsInfiniteQueryOptions=Cd;exports.getDraftsQueryOptions=kd;exports.getDynamicPropsQueryOptions=I;exports.getEntryActiveVotesQueryOptions=ll;exports.getFavoritesInfiniteQueryOptions=Zc;exports.getFavoritesQueryOptions=Xc;exports.getFeedHistoryQueryOptions=qP;exports.getFollowCountQueryOptions=ac;exports.getFollowersQueryOptions=dc;exports.getFollowingQueryOptions=hc;exports.getFragmentsInfiniteQueryOptions=nl;exports.getFragmentsQueryOptions=tt;exports.getFriendsInfiniteQueryOptions=Mp;exports.getGalleryImagesQueryOptions=Td;exports.getGameStatusCheckQueryOptions=zw;exports.getHbdAssetGeneralInfoQueryOptions=_r;exports.getHbdAssetTransactionsQueryOptions=QO;exports.getHiveAssetGeneralInfoQueryOptions=q;exports.getHiveAssetMetricQueryOptions=BO;exports.getHiveAssetTransactionsQueryOptions=Ct;exports.getHiveAssetWithdrawalRoutesQueryOptions=UO;exports.getHiveEngineBalancesWithUsdQueryOptions=FA;exports.getHiveEngineMetrics=fa;exports.getHiveEngineOpenOrders=ZP;exports.getHiveEngineOrderBook=YP;exports.getHiveEngineTokenGeneralInfoQueryOptions=Fr;exports.getHiveEngineTokenMetrics=Er;exports.getHiveEngineTokenTransactions=xr;exports.getHiveEngineTokenTransactionsQueryOptions=dA;exports.getHiveEngineTokensBalances=Et;exports.getHiveEngineTokensBalancesQueryOptions=qt;exports.getHiveEngineTokensMarket=xt;exports.getHiveEngineTokensMarketQueryOptions=qr;exports.getHiveEngineTokensMetadata=St;exports.getHiveEngineTokensMetadataQueryOptions=Tr;exports.getHiveEngineTokensMetricsQueryOptions=yA;exports.getHiveEngineTradeHistory=XP;exports.getHiveEngineUnclaimedRewards=Sr;exports.getHiveEngineUnclaimedRewardsQueryOptions=_A;exports.getHiveHbdStatsQueryOptions=wP;exports.getHivePoshLinksQueryOptions=Kw;exports.getHivePowerAssetGeneralInfoQueryOptions=br;exports.getHivePowerAssetTransactionsQueryOptions=MO;exports.getHivePowerDelegatesInfiniteQueryOptions=YO;exports.getHivePowerDelegatingsQueryOptions=rP;exports.getHivePrice=LP;exports.getImagesInfiniteQueryOptions=Fd;exports.getImagesQueryOptions=qd;exports.getIncomingRcQueryOptions=Hb;exports.getLarynxAssetGeneralInfoQueryOptions=Nr;exports.getLarynxPowerAssetGeneralInfoQueryOptions=Mr;exports.getMarketData=WP;exports.getMarketDataQueryOptions=OP;exports.getMarketHistoryQueryOptions=mP;exports.getMarketStatisticsQueryOptions=pP;exports.getMutedUsersQueryOptions=Oc;exports.getNormalizePostQueryOptions=wf;exports.getNotificationSetting=dy;exports.getNotifications=py;exports.getNotificationsInfiniteQueryOptions=g_;exports.getNotificationsSettingsQueryOptions=O_;exports.getNotificationsUnreadCountQueryOptions=l_;exports.getOpenOrdersQueryOptions=Fb;exports.getOperationAuthority=ho;exports.getOrderBookQueryOptions=sP;exports.getOutgoingRcDelegationsInfiniteQueryOptions=Ib;exports.getPageStatsQueryOptions=aw;exports.getPointsAssetGeneralInfoQueryOptions=Hr;exports.getPointsAssetTransactionsQueryOptions=Ak;exports.getPointsQueryOptions=yt;exports.getPortfolioQueryOptions=vr;exports.getPost=Un;exports.getPostHeader=Nl;exports.getPostHeaderQueryOptions=El;exports.getPostQueryOptions=Ke;exports.getPostTipsQueryOptions=Gd;exports.getPostsRanked=Ie;exports.getPostsRankedInfiniteQueryOptions=ad;exports.getPostsRankedQueryOptions=ud;exports.getProfiles=je;exports.getProfilesQueryOptions=Sf;exports.getPromotePriceQueryOptions=Wx;exports.getPromotedPost=fy;exports.getPromotedPostsQuery=al;exports.getProposalAuthority=yo;exports.getProposalQueryOptions=j_;exports.getProposalVotesInfiniteQueryOptions=z_;exports.getProposalsQueryOptions=W_;exports.getQueryClient=m;exports.getRcStatsQueryOptions=jw;exports.getRebloggedByQueryOptions=yd;exports.getReblogsQueryOptions=dd;exports.getReceivedVestingSharesQueryOptions=Gb;exports.getRecurrentTransfersQueryOptions=Lb;exports.getReferralsInfiniteQueryOptions=qp;exports.getReferralsStatsQueryOptions=Qp;exports.getRelationshipBetweenAccounts=Vl;exports.getRelationshipBetweenAccountsQueryOptions=Te;exports.getRequiredAuthority=Pg;exports.getRewardFundQueryOptions=ju;exports.getRewardedCommunitiesQueryOptions=r_;exports.getSavingsWithdrawFromQueryOptions=Ab;exports.getSchedulesInfiniteQueryOptions=bd;exports.getSchedulesQueryOptions=_d;exports.getSearchAccountQueryOptions=vx;exports.getSearchAccountsByUsernameQueryOptions=Fc;exports.getSearchApiInfiniteQueryOptions=xx;exports.getSearchFriendsQueryOptions=Gp;exports.getSearchPathQueryOptions=Tx;exports.getSearchTopicsQueryOptions=Px;exports.getSimilarEntriesQueryOptions=gx;exports.getSpkAssetGeneralInfoQueryOptions=Ir;exports.getSpkMarkets=Qr;exports.getSpkMarketsQueryOptions=N;exports.getSpkWallet=Kr;exports.getSpkWalletQueryOptions=D;exports.getStatsQueryOptions=Dw;exports.getSubscribers=jl;exports.getSubscriptions=Hl;exports.getTradeHistoryQueryOptions=CP;exports.getTransactionsInfiniteQueryOptions=Op;exports.getTrendingTagsQueryOptions=Lp;exports.getTrendingTagsWithStatsQueryOptions=Zp;exports.getUserPostVoteQueryOptions=yl;exports.getUserProposalVotesQueryOptions=tb;exports.getVestingDelegationsQueryOptions=db;exports.getVisibleFirstLevelThreadItems=Ue;exports.getWavesByHostQueryOptions=Xd;exports.getWavesByTagQueryOptions=nf;exports.getWavesFollowingQueryOptions=cf;exports.getWavesTrendingTagsQueryOptions=ff;exports.getWithdrawRoutesQueryOptions=Eb;exports.getWitnessesInfiniteQueryOptions=Z0;exports.hsTokenRenew=rE;exports.isCommunity=xe;exports.isEmptyDate=Ee;exports.isInfoError=Gr;exports.isNetworkError=Wr;exports.isResourceCreditsError=Br;exports.isWrappedResponse=nn;exports.lookupAccountsQueryOptions=xc;exports.makeQueryClient=Ou;exports.mapThreadItemsToWaveEntries=Le;exports.markNotifications=or;exports.moveSchedule=mr;exports.normalizePost=He;exports.normalizeToWrappedResponse=F;exports.normalizeWaveEntryFromApi=wt;exports.onboardEmail=my;exports.parseAccounts=ht;exports.parseAsset=_;exports.parseChainError=z;exports.parseProfileMetadata=ot;exports.powerRechargeTime=wg;exports.rcPower=_g;exports.removeOptimisticDiscussionEntry=gr;exports.resolveHiveOperationFilters=mt;exports.resolvePost=Qe;exports.restoreDiscussionSnapshots=yr;exports.restoreEntryInCache=Ch;exports.rewardSpk=Rr;exports.roleMap=i_;exports.saveNotificationSetting=ly;exports.search=Qx;exports.searchAccount=Rx;exports.searchPath=Dx;exports.searchQueryOptions=px;exports.searchTag=Ix;exports.shouldTriggerAuthFallback=j;exports.signUp=ay;exports.sortDiscussions=Ln;exports.subscribeEmail=uy;exports.toEntryArray=di;exports.updateDraft=pr;exports.updateEntryInCache=kh;exports.uploadImage=ar;exports.useAccountFavoriteAdd=Pm;exports.useAccountFavoriteDelete=Em;exports.useAccountRelationsUpdate=Hf;exports.useAccountRevokeKey=eg;exports.useAccountRevokePosting=Gm;exports.useAccountUpdate=Rf;exports.useAccountUpdateKeyAuths=rr;exports.useAccountUpdatePassword=Nm;exports.useAccountUpdateRecovery=zm;exports.useAddDraft=vy;exports.useAddFragment=$g;exports.useAddImage=zy;exports.useAddSchedule=Ry;exports.useBookmarkAdd=gm;exports.useBookmarkDelete=vm;exports.useBoostPlus=Zx;exports.useBroadcastMutation=y;exports.useClaimAccount=og;exports.useClaimEngineRewards=x0;exports.useClaimInterest=LC;exports.useClaimPoints=sx;exports.useClaimRewards=ZC;exports.useComment=bh;exports.useConvert=BC;exports.useCreateAccount=fg;exports.useCrossPost=Rh;exports.useDelegateEngineToken=l0;exports.useDelegateRc=j0;exports.useDelegateVestingShares=eC;exports.useDeleteComment=Th;exports.useDeleteDraft=qy;exports.useDeleteImage=eh;exports.useDeleteSchedule=Hy;exports.useEditFragment=Xg;exports.useEngineMarketOrder=T0;exports.useFollow=am;exports.useGameClaim=ev;exports.useGrantPostingPermission=cg;exports.useLimitOrderCancel=VP;exports.useLimitOrderCreate=NP;exports.useLockLarynx=n0;exports.useMarkNotificationsRead=K_;exports.useMoveSchedule=Wy;exports.useMutePost=fv;exports.usePinPost=Sv;exports.usePowerLarynx=a0;exports.usePromote=Bh;exports.useProposalCreate=ub;exports.useProposalVote=ib;exports.useReblog=hh;exports.useRecordActivity=ge;exports.useRegisterCommunityRewards=kv;exports.useRemoveFragment=iy;exports.useSetCommunityRole=hv;exports.useSetLastRead=D_;exports.useSetWithdrawVestingRoute=sC;exports.useSignOperationByHivesigner=Ig;exports.useSignOperationByKey=Sg;exports.useSignOperationByKeychain=Fg;exports.useStakeEngineToken=v0;exports.useSubscribeCommunity=ov;exports.useTransfer=Wk;exports.useTransferEngineToken=wC;exports.useTransferFromSavings=EC;exports.useTransferLarynx=mC;exports.useTransferPoint=zk;exports.useTransferSpk=pC;exports.useTransferToSavings=PC;exports.useTransferToVesting=KC;exports.useUndelegateEngineToken=g0;exports.useUnfollow=lm;exports.useUnstakeEngineToken=P0;exports.useUnsubscribeCommunity=cv;exports.useUpdateCommunity=bv;exports.useUpdateDraft=Ay;exports.useUpdateReply=Mh;exports.useUploadImage=oh;exports.useVote=dh;exports.useWalletOperation=D0;exports.useWithdrawVesting=NC;exports.useWitnessProxy=J0;exports.useWitnessVote=W0;exports.usrActivity=cy;exports.validatePostCreating=jo;exports.vestsToHp=Y;exports.votingPower=hg;exports.votingValue=bg;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map