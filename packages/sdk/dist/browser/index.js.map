{"version":3,"sources":["../../src/modules/core/mutations/use-broadcast-mutation.ts","../../src/modules/core/config.ts","../../src/modules/core/mutations/broadcast-json.ts","../../src/modules/core/queries-manager.ts","../../src/modules/core/utils/decoder-encoder.ts","../../src/modules/core/utils/parse-asset.ts","../../src/modules/core/utils/get-bound-fetch.ts","../../src/modules/core/utils/is-community.ts","../../src/modules/core/utils/pagination-helpers.ts","../../src/modules/core/queries/get-dynamic-props-query-options.ts","../../src/modules/core/queries/get-reward-fund-query-options.ts","../../src/modules/accounts/queries/get-account-full-query-options.ts","../../src/modules/accounts/utils/profile-metadata.ts","../../src/modules/accounts/utils/parse-accounts.ts","../../src/modules/accounts/queries/get-accounts-query-options.ts","../../src/modules/accounts/queries/get-follow-count-query-options.ts","../../src/modules/accounts/queries/get-followers-query-options.ts","../../src/modules/accounts/queries/get-following-query-options.ts","../../src/modules/accounts/queries/get-muted-users-query-options.ts","../../src/modules/accounts/queries/lookup-accounts-query-options.ts","../../src/modules/accounts/queries/search-accounts-by-username-query-options.ts","../../src/modules/accounts/queries/check-username-wallets-pending-query-options.ts","../../src/modules/accounts/queries/get-relationship-between-accounts-query-options.ts","../../src/modules/accounts/queries/get-account-subscriptions-query-options.ts","../../src/modules/accounts/queries/get-bookmarks-query-options.ts","../../src/modules/accounts/queries/get-favourites-query-options.ts","../../src/modules/accounts/queries/check-favourite-query-options.ts","../../src/modules/accounts/queries/get-account-recoveries-query-options.ts","../../src/modules/accounts/queries/get-account-pending-recovery-query-options.ts","../../src/modules/accounts/queries/get-account-reputations-query-options.ts","../../src/modules/accounts/queries/get-transactions-infinite-query-options.ts","../../src/modules/accounts/queries/get-bots-query-options.ts","../../src/modules/accounts/queries/get-referrals-infinite-query-options.ts","../../src/modules/accounts/queries/get-referrals-stats-query-options.ts","../../src/modules/accounts/queries/get-friends-infinite-query-options.ts","../../src/modules/accounts/queries/get-search-friends-query-options.ts","../../src/modules/posts/queries/get-trending-tags-query-options.ts","../../src/modules/posts/queries/get-trending-tags-with-stats-query-options.ts","../../src/modules/posts/queries/get-fragments-query-options.ts","../../src/modules/posts/queries/get-promoted-posts-query-options.ts","../../src/modules/posts/queries/get-entry-active-votes-query-options.ts","../../src/modules/posts/queries/get-user-post-vote-query-options.ts","../../src/modules/posts/queries/get-content-query-options.ts","../../src/modules/posts/queries/get-content-replies-query-options.ts","../../src/modules/posts/queries/get-post-header-query-options.ts","../../src/modules/posts/utils/filter-dmca-entries.ts","../../src/modules/posts/queries/get-post-query-options.ts","../../src/modules/bridge/requests.ts","../../src/modules/posts/queries/get-discussions-query-options.ts","../../src/modules/posts/queries/get-account-posts-query-options.ts","../../src/modules/posts/queries/get-posts-ranked-query-options.ts","../../src/modules/posts/queries/get-reblogs-query-options.ts","../../src/modules/posts/queries/get-reblogged-by-query-options.ts","../../src/modules/posts/queries/get-schedules-query-options.ts","../../src/modules/posts/queries/get-drafts-query-options.ts","../../src/modules/posts/queries/get-images-query-options.ts","../../src/modules/posts/queries/get-comment-history-query-options.ts","../../src/modules/posts/queries/get-deleted-entry-query-options.ts","../../src/modules/posts/queries/get-post-tips-query-options.ts","../../src/modules/posts/utils/waves-helpers.ts","../../src/modules/posts/queries/get-waves-by-host-query-options.ts","../../src/modules/posts/queries/get-waves-by-tag-query-options.ts","../../src/modules/posts/queries/get-waves-following-query-options.ts","../../src/modules/posts/queries/get-waves-trending-tags-query-options.ts","../../src/modules/posts/queries/get-normalize-post-query-options.ts","../../src/modules/accounts/queries/get-account-vote-history-infinite-query-options.ts","../../src/modules/accounts/queries/get-profiles-query-options.ts","../../src/modules/accounts/mutations/use-account-update.ts","../../src/modules/accounts/mutations/use-account-relations-update.ts","../../src/modules/accounts/mutations/bookmarks/use-account-bookmark-add.ts","../../src/modules/accounts/mutations/bookmarks/use-account-bookmark-delete.ts","../../src/modules/accounts/mutations/favourites/use-account-favourite-add.ts","../../src/modules/accounts/mutations/favourites/use-account-favourite-delete.ts","../../src/modules/accounts/mutations/use-account-update-key-auths.ts","../../src/modules/accounts/mutations/use-account-update-password.ts","../../src/modules/accounts/mutations/use-account-revoke-posting.ts","../../src/modules/accounts/mutations/use-account-update-recovery.ts","../../src/modules/accounts/mutations/use-account-revoke-key.ts","../../src/modules/accounts/utils/account-power.ts","../../src/modules/operations/mutations/sign-operation-by-key.ts","../../src/modules/operations/mutations/sign-operation-by-keychain.ts","../../src/modules/operations/mutations/sign-operation-by-hivesigner.ts","../../src/modules/operations/queries/get-chain-properties-query-options.ts","../../src/modules/posts/mutations/add-fragment.ts","../../src/modules/posts/mutations/edit-fragment.ts","../../src/modules/posts/mutations/remove-fragment.ts","../../src/modules/private-api/requests.ts","../../src/modules/posts/mutations/use-add-draft.ts","../../src/modules/posts/mutations/use-update-draft.ts","../../src/modules/posts/mutations/use-delete-draft.ts","../../src/modules/posts/mutations/use-add-schedule.ts","../../src/modules/posts/mutations/use-delete-schedule.ts","../../src/modules/posts/mutations/use-move-schedule.ts","../../src/modules/posts/mutations/use-add-image.ts","../../src/modules/posts/mutations/use-delete-image.ts","../../src/modules/posts/mutations/use-upload-image.ts","../../src/modules/posts/utils/validate-post-creating.ts","../../src/modules/analytics/mutations/index.ts","../../src/modules/analytics/mutations/use-record-activity.ts","../../src/modules/analytics/queries/get-discover-leaderboard-query-options.ts","../../src/modules/analytics/queries/get-discover-curation-query-options.ts","../../src/modules/analytics/queries/get-page-stats-query-options.ts","../../src/modules/integrations/3speak/queries/index.ts","../../src/modules/integrations/hivesigner/queries/index.ts","../../src/modules/integrations/hivesigner/queries/get-decode-memo-query-options.ts","../../src/modules/integrations/hivesigner/index.ts","../../src/modules/integrations/3speak/queries/get-account-token-query-options.ts","../../src/modules/integrations/3speak/queries/get-account-videos-query-options.ts","../../src/modules/integrations/3speak/index.ts","../../src/modules/integrations/hiveposh/queries/get-hiveposh-links-query-options.ts","../../src/modules/integrations/plausible/queries/get-stats-query-options.ts","../../src/modules/resource-credits/queries/get-rc-stats-query-options.ts","../../src/modules/resource-credits/queries/get-account-rc-query-options.ts","../../src/modules/games/queries/game-status-check-query-options.ts","../../src/modules/games/mutations/game-claim.ts","../../src/modules/communities/queries/get-communities-query-options.ts","../../src/modules/communities/queries/get-community-context-query-options.ts","../../src/modules/communities/queries/get-community-query-options.ts","../../src/modules/communities/queries/get-community-subscribers-query-options.ts","../../src/modules/communities/queries/get-account-notifications-infinite-query-options.ts","../../src/modules/communities/queries/get-rewarded-communities-query-options.ts","../../src/modules/communities/types/community.ts","../../src/modules/communities/utils/index.ts","../../src/modules/notifications/queries/get-notifications-unread-count-query-options.ts","../../src/modules/notifications/queries/get-notifications-infinite-query-options.ts","../../src/modules/notifications/enums/notification-filter.ts","../../src/modules/notifications/enums/notify-types.ts","../../src/modules/notifications/queries/get-notifications-settings-query-options.ts","../../src/modules/notifications/queries/get-announcements-query-options.ts","../../src/modules/notifications/mutations/use-mark-notifications-read.ts","../../src/modules/proposals/queries/get-proposal-query-options.ts","../../src/modules/proposals/queries/get-proposals-query-options.ts","../../src/modules/proposals/queries/get-proposal-votes-query-options.ts","../../src/modules/proposals/queries/get-user-proposal-votes-query-options.ts","../../src/modules/wallet/queries/get-vesting-delegations-query-options.ts","../../src/modules/wallet/queries/get-conversion-requests-query-options.ts","../../src/modules/wallet/queries/get-collateralized-conversion-requests-query-options.ts","../../src/modules/wallet/queries/get-savings-withdraw-from-query-options.ts","../../src/modules/wallet/queries/get-withdraw-routes-query-options.ts","../../src/modules/wallet/queries/get-open-orders-query-options.ts","../../src/modules/wallet/queries/get-outgoing-rc-delegations-infinite-query-options.ts","../../src/modules/wallet/queries/get-incoming-rc-query-options.ts","../../src/modules/wallet/queries/get-received-vesting-shares-query-options.ts","../../src/modules/wallet/queries/get-recurrent-transfers-query-options.ts","../../src/modules/wallet/queries/get-portfolio-query-options.ts","../../src/modules/witnesses/queries/get-witnesses-query-options.ts","../../src/modules/market/queries/get-order-book-query-options.ts","../../src/modules/market/queries/get-market-statistics-query-options.ts","../../src/modules/market/queries/get-market-history-query-options.ts","../../src/modules/market/queries/get-hive-hbd-stats-query-options.ts","../../src/modules/market/queries/get-market-data-query-options.ts","../../src/modules/market/queries/get-trade-history-query-options.ts","../../src/modules/market/queries/get-feed-history-query-options.ts","../../src/modules/market/queries/get-current-median-history-price-query-options.ts","../../src/modules/market/requests.ts","../../src/modules/points/queries/get-points-query-options.ts","../../src/modules/search/queries/get-search-query-options.ts","../../src/modules/search/queries/get-similar-entries-query-options.ts","../../src/modules/search/queries/get-search-account-query-options.ts","../../src/modules/search/queries/get-search-topics-query-options.ts","../../src/modules/search/queries/get-search-api-infinite-query-options.ts","../../src/modules/search/queries/get-search-path-query-options.ts","../../src/modules/search/requests.ts","../../src/modules/promotions/queries/get-boost-plus-prices-query-options.ts","../../src/modules/promotions/queries/get-promote-price-query-options.ts","../../src/modules/promotions/queries/get-boost-plus-account-prices-query-options.ts","../../src/modules/auth/requests.ts","../../src/modules/hive-engine/requests.ts","../../src/modules/spk/requests.ts"],"names":["ops","ConfigManager","PrivateKey","hs","QueryClient","EcencyQueriesManager","Symbol","NaiMap","queryOptions","R","infiniteQueryOptions","SortOrder","parseAsset","makeEntryPath","useQuery","data","R2","useMutation","R3","useQueryClient","R5","queries_exports","ROLES","NotificationFilter","NotifyTypes","NotificationViewType","formatDate","parseJsonResponse"],"mappings":"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","file":"index.js","sourcesContent":["import {\n  useMutation,\n  type MutationKey,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport { Operation, PrivateKey } from \"@hiveio/dhive\";\nimport { CONFIG } from \"@/modules/core\";\nimport type { AuthContext } from \"@/modules/core/types\";\nimport hs from \"hivesigner\";\n\nexport function useBroadcastMutation<T>(\n  mutationKey: MutationKey = [],\n  username: string | undefined,\n  operations: (payload: T) => Operation[],\n  onSuccess: UseMutationOptions<unknown, Error, T>[\"onSuccess\"] = () => {},\n  auth?: AuthContext\n) {\n  return useMutation({\n    onSuccess,\n    mutationKey: [...mutationKey, username],\n    mutationFn: async (payload: T) => {\n      if (!username) {\n        throw new Error(\n          \"[Core][Broadcast] Attempted to call broadcast API with anon user\"\n        );\n      }\n\n      if (auth?.broadcast) {\n        return auth.broadcast(operations(payload), \"posting\");\n      }\n\n      const postingKey = auth?.postingKey;\n      if (postingKey) {\n        const privateKey = PrivateKey.fromString(postingKey);\n\n        return CONFIG.hiveClient.broadcast.sendOperations(\n          operations(payload),\n          privateKey\n        );\n      }\n\n      const accessToken = auth?.accessToken;\n      if (accessToken) {\n        const ops = operations(payload);\n        const client = new hs.Client({ accessToken });\n        const response = await client.broadcast(ops);\n        return response.result;\n      }\n\n      throw new Error(\n        \"[SDK][Broadcast]  cannot broadcast w/o posting key or token\"\n      );\n    },\n  });\n}\n","import { Client } from \"@hiveio/dhive\";\nimport { QueryClient } from \"@tanstack/react-query\";\n\n// Safe environment variable access for browser builds\n// In browser builds, tsup will replace process.env.* with literal values at compile time\nconst isDevelopment = (() => {\n  try {\n    return process.env?.NODE_ENV === 'development';\n  } catch {\n    return false;\n  }\n})();\n\nconst getHeliusApiKey = () => {\n  try {\n    return process.env?.VITE_HELIUS_API_KEY;\n  } catch {\n    return undefined;\n  }\n};\n\nexport const CONFIG = {\n  privateApiHost: \"https://ecency.com\",\n  imageHost: \"https://images.ecency.com\",\n  hiveClient: new Client(\n    [\n      \"https://api.hive.blog\",\n      \"https://api.deathwing.me\",\n      \"https://rpc.mahdiyari.info\",\n      \"https://api.openhive.network\",\n      \"https://techcoderx.com\",\n      \"https://hive-api.arcange.eu\",\n      \"https://api.syncad.com\",\n      \"https://anyx.io\",\n      \"https://api.c0ff33a.uk\",\n      \"https://hiveapi.actifit.io\",\n      \"https://hive-api.3speak.tv\",\n    ],\n    {\n      timeout: 2000,\n      failoverThreshold: 2,\n      consoleOnFailover: true,\n    }\n  ),\n  heliusApiKey: getHeliusApiKey(),\n  queryClient: new QueryClient(),\n  plausibleHost: \"https://pl.ecency.com\",\n  spkNode: \"https://spk.good-karma.xyz\",\n  // DMCA filtering - can be configured by the app\n  dmcaAccounts: [] as string[],\n  dmcaTags: [] as string[],\n  dmcaPatterns: [] as string[],\n  // Pre-compiled regex patterns for performance and security\n  dmcaTagRegexes: [] as RegExp[],\n  dmcaPatternRegexes: [] as RegExp[],\n  // Track if DMCA has been initialized to avoid duplicate logs\n  _dmcaInitialized: false,\n};\n\ntype DmcaListsInput = {\n  accounts?: string[];\n  tags?: string[];\n  posts?: string[];\n};\n\nexport namespace ConfigManager {\n  export function setQueryClient(client: QueryClient) {\n    CONFIG.queryClient = client;\n  }\n\n  /**\n   * Set the private API host\n   * @param host - The private API host URL (e.g., \"https://ecency.com\" or \"\" for relative URLs)\n   */\n  export function setPrivateApiHost(host: string) {\n    CONFIG.privateApiHost = host;\n  }\n\n  /**\n   * Get a validated base URL for API requests\n   * Returns a valid base URL that can be used with new URL(path, baseUrl)\n   *\n   * Priority:\n   * 1. CONFIG.privateApiHost if set (dev/staging or explicit config)\n   * 2. window.location.origin if in browser (production with relative URLs)\n   * 3. 'https://ecency.com' as fallback for SSR (production default)\n   *\n   * @returns A valid base URL string\n   * @throws Never throws - always returns a valid URL\n   */\n  export function getValidatedBaseUrl(): string {\n    if (CONFIG.privateApiHost) {\n      return CONFIG.privateApiHost;\n    }\n\n    if (typeof window !== 'undefined' && window.location?.origin) {\n      return window.location.origin;\n    }\n\n    // Fallback for SSR when privateApiHost is empty (production case)\n    return 'https://ecency.com';\n  }\n\n  /**\n   * Set the image host\n   * @param host - The image host URL (e.g., \"https://images.ecency.com\")\n   */\n  export function setImageHost(host: string) {\n    CONFIG.imageHost = host;\n  }\n\n  /**\n   * Static analysis: Check for known ReDoS-vulnerable patterns\n   * @param pattern - Raw regex pattern string\n   * @returns Object with risk level and reason\n   */\n  function analyzeRedosRisk(pattern: string): { safe: boolean; reason?: string } {\n    // Check 1: Nested quantifiers (e.g., (a+)+, (a*)+, (a{1,})+)\n    if (/(\\([^)]*[*+{][^)]*\\))[*+{]/.test(pattern)) {\n      return { safe: false, reason: \"nested quantifiers detected\" };\n    }\n\n    // Check 2: Alternation with overlapping terms (e.g., (a|a)+, (ab|a)+)\n    if (/\\([^|)]*\\|[^)]*\\)[*+{]/.test(pattern)) {\n      return { safe: false, reason: \"alternation with quantifier (potential overlap)\" };\n    }\n\n    // Check 3: Catastrophic backtracking patterns (e.g., (a*)*b, (a+)+b)\n    if (/\\([^)]*[*+][^)]*\\)[*+]/.test(pattern)) {\n      return { safe: false, reason: \"repeated quantifiers (catastrophic backtracking risk)\" };\n    }\n\n    // Check 4: Greedy quantifiers followed by optional patterns (e.g., .*.*x, .+.+x)\n    if (/\\.\\*\\.\\*/.test(pattern) || /\\.\\+\\.\\+/.test(pattern)) {\n      return { safe: false, reason: \"multiple greedy quantifiers on wildcards\" };\n    }\n\n    // Check 5: Unbounded ranges with wildcards (e.g., .{1,999999})\n    const unboundedRange = /\\.?\\{(\\d+),(\\d+)\\}/g;\n    let match;\n    while ((match = unboundedRange.exec(pattern)) !== null) {\n      const [, min, max] = match;\n      const range = parseInt(max, 10) - parseInt(min, 10);\n      if (range > 1000) {\n        return { safe: false, reason: `excessive range: {${min},${max}}` };\n      }\n    }\n\n    return { safe: true };\n  }\n\n  /**\n   * Runtime test: Execute regex against adversarial inputs with timeout\n   * @param regex - Compiled regex\n   * @returns Object indicating if regex passed runtime test\n   */\n  function testRegexPerformance(regex: RegExp): { safe: boolean; reason?: string } {\n    // Test inputs designed to trigger ReDoS in vulnerable patterns\n    const adversarialInputs = [\n      // Nested quantifier attack\n      \"a\".repeat(50) + \"x\",\n      // Alternation attack\n      \"ab\".repeat(50) + \"x\",\n      // Wildcard attack\n      \"x\".repeat(100),\n      // Mixed attack\n      \"aaa\".repeat(30) + \"bbb\".repeat(30) + \"x\",\n    ];\n\n    const maxExecutionTime = 5; // 5ms hard limit per test\n\n    for (const input of adversarialInputs) {\n      const start = Date.now();\n      try {\n        regex.test(input);\n        const duration = Date.now() - start;\n\n        if (duration > maxExecutionTime) {\n          return {\n            safe: false,\n            reason: `runtime test exceeded ${maxExecutionTime}ms (took ${duration}ms on input length ${input.length})`\n          };\n        }\n      } catch (err) {\n        return { safe: false, reason: `runtime test threw error: ${err}` };\n      }\n    }\n\n    return { safe: true };\n  }\n\n  /**\n   * Safely compile a regex pattern with defense-in-depth validation\n   * @param pattern - Raw regex pattern string\n   * @param maxLength - Maximum allowed pattern length (default 200)\n   * @returns Compiled RegExp or null if invalid/unsafe\n   */\n  function safeCompileRegex(pattern: string, maxLength = 200): RegExp | null {\n    // Use the module-level isDevelopment constant\n\n    try {\n      // Layer 1: Basic validation\n      if (!pattern) {\n        if (isDevelopment) {\n          console.warn(`[SDK] DMCA pattern rejected: empty pattern`);\n        }\n        return null;\n      }\n\n      if (pattern.length > maxLength) {\n        if (isDevelopment) {\n          console.warn(`[SDK] DMCA pattern rejected: length ${pattern.length} exceeds max ${maxLength} - pattern: ${pattern.substring(0, 50)}...`);\n        }\n        return null;\n      }\n\n      // Layer 2: Static ReDoS analysis\n      const staticAnalysis = analyzeRedosRisk(pattern);\n      if (!staticAnalysis.safe) {\n        if (isDevelopment) {\n          console.warn(`[SDK] DMCA pattern rejected: static analysis failed (${staticAnalysis.reason}) - pattern: ${pattern.substring(0, 50)}...`);\n        }\n        return null;\n      }\n\n      // Layer 3: Compilation attempt\n      let regex: RegExp;\n      try {\n        regex = new RegExp(pattern);\n      } catch (compileErr) {\n        if (isDevelopment) {\n          console.warn(`[SDK] DMCA pattern rejected: compilation failed - pattern: ${pattern.substring(0, 50)}...`, compileErr);\n        }\n        return null;\n      }\n\n      // Layer 4: Runtime performance testing\n      const runtimeTest = testRegexPerformance(regex);\n      if (!runtimeTest.safe) {\n        if (isDevelopment) {\n          console.warn(`[SDK] DMCA pattern rejected: runtime test failed (${runtimeTest.reason}) - pattern: ${pattern.substring(0, 50)}...`);\n        }\n        return null;\n      }\n\n      return regex;\n    } catch (err) {\n      if (isDevelopment) {\n        console.warn(`[SDK] DMCA pattern rejected: unexpected error - pattern: ${pattern.substring(0, 50)}...`, err);\n      }\n      return null;\n    }\n  }\n\n  /**\n   * Set DMCA filtering lists\n   * @param lists - DMCA lists object containing accounts/tags/posts arrays\n   */\n  export function setDmcaLists(\n    lists: DmcaListsInput = {}\n  ) {\n    const coerceList = (value: unknown): string[] =>\n      Array.isArray(value) ? value.filter((item): item is string => typeof item === \"string\") : [];\n\n    // Ensure we have a valid object to work with\n    const input = lists || {};\n\n    const resolved = {\n      accounts: coerceList(input.accounts),\n      tags: coerceList(input.tags),\n      patterns: coerceList(input.posts),\n    };\n\n    CONFIG.dmcaAccounts = resolved.accounts;\n    CONFIG.dmcaTags = resolved.tags;\n    CONFIG.dmcaPatterns = resolved.patterns;\n\n    // Pre-compile tag regex patterns (tags can be regex)\n    CONFIG.dmcaTagRegexes = resolved.tags\n      .map((pattern) => safeCompileRegex(pattern))\n      .filter((r): r is RegExp => r !== null);\n\n    // Post patterns are plain strings for exact matching, not regex\n    // No compilation needed - they will be used with simple string comparison\n    CONFIG.dmcaPatternRegexes = [];\n\n    const rejectedTagCount = resolved.tags.length - CONFIG.dmcaTagRegexes.length;\n\n    // Only log once to avoid noise during builds/hot reloads\n    // Only show in development mode to avoid cluttering production console\n    // Use the module-level isDevelopment constant\n\n    if (!CONFIG._dmcaInitialized && isDevelopment) {\n      console.log(`[SDK] DMCA configuration loaded:`);\n      console.log(`  - Accounts: ${resolved.accounts.length}`);\n      console.log(`  - Tag patterns: ${CONFIG.dmcaTagRegexes.length}/${resolved.tags.length} compiled (${rejectedTagCount} rejected)`);\n      console.log(`  - Post patterns: ${resolved.patterns.length} (using exact string matching)`);\n\n      if (rejectedTagCount > 0) {\n        console.warn(`[SDK] ${rejectedTagCount} DMCA tag patterns were rejected due to security validation. Check warnings above for details.`);\n      }\n    }\n\n    CONFIG._dmcaInitialized = true;\n  }\n}\n","import { CONFIG } from \"@/modules/core/config\";\nimport { PrivateKey } from \"@hiveio/dhive\";\nimport hs from \"hivesigner\";\nimport type { AuthContext } from \"@/modules/core/types\";\n\nexport async function broadcastJson<T>(\n  username: string | undefined,\n  id: string,\n  payload: T,\n  auth?: AuthContext\n) {\n  if (!username) {\n    throw new Error(\n      \"[Core][Broadcast] Attempted to call broadcast API with anon user\"\n    );\n  }\n  const jjson = {\n    id,\n    required_auths: [],\n    required_posting_auths: [username],\n    json: JSON.stringify(payload),\n  };\n\n  if (auth?.broadcast) {\n    return auth.broadcast([[\"custom_json\", jjson]], \"posting\");\n  }\n\n  const postingKey = auth?.postingKey;\n  if (postingKey) {\n    const privateKey = PrivateKey.fromString(postingKey);\n\n    return CONFIG.hiveClient.broadcast.json(\n      jjson,\n      privateKey\n    );\n  }\n\n  // With hivesigner access token\n  const accessToken = auth?.accessToken;\n  if (accessToken) {\n    const response = await new hs.Client({\n      accessToken,\n    }).customJson([], [username], id, JSON.stringify(payload));\n    return response.result;\n  }\n\n  throw new Error(\n    \"[SDK][Broadcast]  cannot broadcast w/o posting key or token\"\n  );\n}\n","import {\n  InfiniteData,\n  QueryClient,\n  QueryKey,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport { CONFIG } from \"./config\";\n\nexport function makeQueryClient() {\n  // Cache creates one single instance per request in a server side\n  return new QueryClient({\n    defaultOptions: {\n      queries: {\n        // With SSR, we usually want to set some default staleTime\n        // above 0 to avoid refetching immediately on the client\n        // staleTime: 60 * 1000,\n        refetchOnWindowFocus: false,\n        refetchOnMount: false,\n      },\n    },\n  });\n}\nexport const getQueryClient = () => CONFIG.queryClient;\n\nexport namespace EcencyQueriesManager {\n  export function getQueryData<T>(queryKey: QueryKey) {\n    const queryClient = getQueryClient();\n    return queryClient.getQueryData<T>(queryKey);\n  }\n\n  export function getInfiniteQueryData<T>(queryKey: QueryKey) {\n    const queryClient = getQueryClient();\n    return queryClient.getQueryData<InfiniteData<T>>(queryKey);\n  }\n\n  export async function prefetchQuery<T>(options: UseQueryOptions<T>) {\n    const queryClient = getQueryClient();\n    await queryClient.prefetchQuery(options);\n    return getQueryData<T>(options.queryKey);\n  }\n\n  export async function prefetchInfiniteQuery<T, P>(\n    options: UseInfiniteQueryOptions<\n      T,\n      Error,\n      InfiniteData<T>,\n      QueryKey,\n      P\n    >\n  ) {\n    const queryClient = getQueryClient();\n    await queryClient.prefetchInfiniteQuery(options);\n    return getInfiniteQueryData<T>(options.queryKey);\n  }\n\n  export function generateClientServerQuery<T>(options: UseQueryOptions<T>) {\n    return {\n      prefetch: () => prefetchQuery(options),\n      getData: () => getQueryData<T>(options.queryKey),\n      useClientQuery: () => useQuery(options),\n      fetchAndGet: () => getQueryClient().fetchQuery(options),\n    };\n  }\n\n  export function generateClientServerInfiniteQuery<T, P>(\n    options: UseInfiniteQueryOptions<\n      T,\n      Error,\n      InfiniteData<T>,\n      QueryKey,\n      P\n    >\n  ) {\n    return {\n      prefetch: () => prefetchInfiniteQuery(options),\n      getData: () => getInfiniteQueryData<T>(options.queryKey),\n      useClientQuery: () => useInfiniteQuery(options),\n      fetchAndGet: () => getQueryClient().fetchInfiniteQuery(options),\n    };\n  }\n}\n","export function encodeObj(o: any): string {\n  return btoa(JSON.stringify(o));\n}\n\nexport function decodeObj(o: any): any {\n  let dataToParse = atob(o);\n  if (dataToParse[0] !== \"{\") {\n    return undefined;\n  }\n  return JSON.parse(dataToParse);\n}\n","import { SMTAsset } from \"@hiveio/dhive\";\n\nexport enum Symbol {\n  HIVE = \"HIVE\",\n  HBD = \"HBD\",\n  VESTS = \"VESTS\",\n  SPK = \"SPK\",\n}\n\nexport enum NaiMap {\n  \"@@000000021\" = \"HIVE\",\n  \"@@000000013\" = \"HBD\",\n  \"@@000000037\" = \"VESTS\",\n}\n\nexport interface Asset {\n  amount: number;\n  symbol: Symbol;\n}\n\nexport function parseAsset(sval: string | SMTAsset): Asset {\n  if (typeof sval === \"string\") {\n    const sp = sval.split(\" \");\n    return {\n      amount: parseFloat(sp[0]),\n      // @ts-ignore\n      symbol: Symbol[sp[1]],\n    };\n  } else {\n    return {\n      amount: parseFloat(sval.amount.toString()) / Math.pow(10, sval.precision),\n      // @ts-ignore\n      symbol: NaiMap[sval.nai],\n    };\n  }\n}\n","let cachedFetch: typeof globalThis.fetch | undefined;\n\nexport function getBoundFetch() {\n  if (!cachedFetch) {\n    if (typeof globalThis.fetch !== \"function\") {\n      throw new Error(\"[Ecency][SDK] - global fetch is not available\");\n    }\n\n    cachedFetch = globalThis.fetch.bind(globalThis);\n  }\n\n  return cachedFetch;\n}\n","export function isCommunity(value: unknown) {\n  return typeof value === \"string\" ? /^hive-\\d+$/.test(value) : false;\n}\n","import { WrappedResponse } from \"../types/pagination\";\n\n/**\n * Type guard to check if response is wrapped with pagination metadata\n */\nexport function isWrappedResponse<T>(response: any): response is WrappedResponse<T> {\n  return (\n    response &&\n    typeof response === \"object\" &&\n    \"data\" in response &&\n    \"pagination\" in response &&\n    Array.isArray(response.data)\n  );\n}\n\n/**\n * Normalize response to wrapped format for backwards compatibility\n * If the backend returns old format (array), convert it to wrapped format\n */\nexport function normalizeToWrappedResponse<T>(\n  response: T[] | WrappedResponse<T>,\n  limit: number\n): WrappedResponse<T> {\n  if (isWrappedResponse<T>(response)) {\n    return response;\n  }\n\n  // Old format - just an array\n  // Since we don't have pagination metadata, assume no more pages\n  return {\n    data: Array.isArray(response) ? response : [],\n    pagination: {\n      total: Array.isArray(response) ? response.length : 0,\n      limit,\n      offset: 0,\n      has_next: false,\n    },\n  };\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { DynamicProps } from \"../types\";\nimport { CONFIG } from \"../config\";\nimport { parseAsset } from \"../utils\";\n\nexport function getDynamicPropsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"core\", \"dynamic-props\"],\n    refetchInterval: 60000,\n    staleTime: 60000,\n    refetchOnMount: true,\n    queryFn: async (): Promise<DynamicProps> => {\n      // Get raw blockchain data without transformation\n      const rawGlobalDynamic: any = await CONFIG.hiveClient.database.getDynamicGlobalProperties();\n      const rawFeedHistory: any = await CONFIG.hiveClient.database.call(\"get_feed_history\");\n      const rawChainProps: any = await CONFIG.hiveClient.database.call(\"get_chain_properties\");\n      const rawRewardFund: any = await CONFIG.hiveClient.database.call(\"get_reward_fund\", [\"post\"]);\n\n      // Calculate derived values for backward compatibility\n      // parseAsset handles both string format (\"200905388484 HIVE\") and NAI format ({ amount, nai, precision })\n      const totalVestingSharesAmount = parseAsset(rawGlobalDynamic.total_vesting_shares).amount;\n      const totalVestingFundAmount = parseAsset(rawGlobalDynamic.total_vesting_fund_hive).amount;\n\n      // Guard against division by zero/NaN/Infinity\n      let hivePerMVests = 0;\n      if (\n        Number.isFinite(totalVestingSharesAmount) &&\n        totalVestingSharesAmount !== 0 &&\n        Number.isFinite(totalVestingFundAmount)\n      ) {\n        hivePerMVests = (totalVestingFundAmount / totalVestingSharesAmount) * 1e6;\n      }\n      const base = parseAsset(rawFeedHistory.current_median_history.base).amount;\n      const quote = parseAsset(rawFeedHistory.current_median_history.quote).amount;\n      const fundRecentClaims = parseFloat(rawRewardFund.recent_claims);\n      const fundRewardBalance = parseAsset(rawRewardFund.reward_balance).amount;\n      const hbdPrintRate = rawGlobalDynamic.hbd_print_rate;\n      const hbdInterestRate = rawGlobalDynamic.hbd_interest_rate;\n      const headBlock = rawGlobalDynamic.head_block_number;\n      const totalVestingFund = totalVestingFundAmount;\n      const totalVestingShares = totalVestingSharesAmount;\n      const virtualSupply = parseAsset(rawGlobalDynamic.virtual_supply).amount;\n      const vestingRewardPercent = rawGlobalDynamic.vesting_reward_percent || 0;\n      const accountCreationFee = rawChainProps.account_creation_fee;\n\n      return {\n        // Backward compatible transformed fields (camelCase, parsed)\n        hivePerMVests,\n        base,\n        quote,\n        fundRecentClaims,\n        fundRewardBalance,\n        hbdPrintRate,\n        hbdInterestRate,\n        headBlock,\n        totalVestingFund,\n        totalVestingShares,\n        virtualSupply,\n        vestingRewardPercent,\n        accountCreationFee,\n\n        // Raw blockchain data (snake_case, unparsed) for direct use\n        // Includes ALL fields from the blockchain responses\n        raw: {\n          globalDynamic: rawGlobalDynamic,\n          feedHistory: rawFeedHistory,\n          chainProps: rawChainProps,\n          rewardFund: rawRewardFund,\n        },\n      } as DynamicProps;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"../config\";\n\nexport interface RewardFund {\n  id: number;\n  name: string;\n  reward_balance: string;\n  recent_claims: string;\n  last_update: string;\n  content_constant: string;\n  percent_curation_rewards: number;\n  percent_content_rewards: number;\n  author_reward_curve: string;\n  curation_reward_curve: string;\n}\n\n/**\n * Get reward fund information from the blockchain\n * @param fundName - Name of the reward fund (default: 'post')\n */\nexport function getRewardFundQueryOptions(fundName = \"post\") {\n  return queryOptions({\n    queryKey: [\"core\", \"reward-fund\", fundName],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_reward_fund\", [\n        fundName,\n      ]) as Promise<RewardFund>,\n  });\n}\n","import { CONFIG } from \"@/modules/core/config\";\nimport {\n  AccountFollowStats,\n  AccountReputation,\n  FullAccount,\n} from \"../types\";\nimport { parseProfileMetadata } from \"@/modules/accounts\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getAccountFullQueryOptions(username: string | undefined) {\n  return queryOptions({\n    queryKey: [\"get-account-full\", username],\n    queryFn: async () => {\n      if (!username) {\n        throw new Error(\"[SDK] Username is empty\");\n      }\n\n      const response = (await CONFIG.hiveClient.database.getAccounts([\n        username,\n      ])) as any[];\n      if (!response[0]) {\n        throw new Error(\"[SDK] No account with given username\");\n      }\n\n      const profile = parseProfileMetadata(response[0].posting_json_metadata);\n\n      let follow_stats: AccountFollowStats | undefined;\n      try {\n        follow_stats = await CONFIG.hiveClient.database.call(\n          \"get_follow_count\",\n          [username]\n        );\n      } catch (e) {}\n\n      let reputationValue = 0;\n      try {\n        const reputation = (await CONFIG.hiveClient.call(\n          \"condenser_api\",\n          \"get_account_reputations\",\n          [username, 1]\n        )) as AccountReputation[];\n        reputationValue = reputation[0]?.reputation ?? 0;\n      } catch (e) {}\n\n      return {\n        name: response[0].name,\n        owner: response[0].owner,\n        active: response[0].active,\n        posting: response[0].posting,\n        memo_key: response[0].memo_key,\n        post_count: response[0].post_count,\n        created: response[0].created,\n        posting_json_metadata: response[0].posting_json_metadata,\n        last_vote_time: response[0].last_vote_time,\n        last_post: response[0].last_post,\n        json_metadata: response[0].json_metadata,\n        reward_hive_balance: response[0].reward_hive_balance,\n        reward_hbd_balance: response[0].reward_hbd_balance,\n        reward_vesting_hive: response[0].reward_vesting_hive,\n        reward_vesting_balance: response[0].reward_vesting_balance,\n        balance: response[0].balance,\n        hbd_balance: response[0].hbd_balance,\n        savings_balance: response[0].savings_balance,\n        savings_hbd_balance: response[0].savings_hbd_balance,\n        savings_hbd_last_interest_payment:\n          response[0].savings_hbd_last_interest_payment,\n        savings_hbd_seconds_last_update:\n          response[0].savings_hbd_seconds_last_update,\n        savings_hbd_seconds: response[0].savings_hbd_seconds,\n        next_vesting_withdrawal: response[0].next_vesting_withdrawal,\n        pending_claimed_accounts: response[0].pending_claimed_accounts,\n        vesting_shares: response[0].vesting_shares,\n        delegated_vesting_shares: response[0].delegated_vesting_shares,\n        received_vesting_shares: response[0].received_vesting_shares,\n        vesting_withdraw_rate: response[0].vesting_withdraw_rate,\n        to_withdraw: response[0].to_withdraw,\n        withdrawn: response[0].withdrawn,\n        witness_votes: response[0].witness_votes,\n        proxy: response[0].proxy,\n        recovery_account: response[0].recovery_account,\n        proxied_vsf_votes: response[0].proxied_vsf_votes,\n        voting_manabar: response[0].voting_manabar,\n        voting_power: response[0].voting_power,\n        downvote_manabar: response[0].downvote_manabar,\n        follow_stats,\n        reputation: reputationValue,\n        profile,\n      } satisfies FullAccount;\n    },\n    enabled: !!username,\n    staleTime: 60000,\n  });\n}\n","import * as R from \"remeda\";\n\nimport { AccountProfile, FullAccount } from \"../types\";\n\nexport type ProfileTokens = AccountProfile[\"tokens\"];\n\nexport interface BuildProfileMetadataArgs {\n  existingProfile?: AccountProfile;\n  profile?: Partial<AccountProfile> | null;\n  tokens?: ProfileTokens | null;\n}\n\nfunction sanitizeTokens(\n  tokens?: ProfileTokens | null\n): ProfileTokens | undefined {\n  return tokens?.map(({ meta, ...rest }) => {\n    if (!meta || typeof meta !== \"object\") {\n      return { ...rest, meta };\n    }\n\n    const { privateKey, username, ...safeMeta } = meta;\n    return { ...rest, meta: safeMeta };\n  });\n}\n\nexport function parseProfileMetadata(\n  postingJsonMetadata?: string | null\n): AccountProfile {\n  if (!postingJsonMetadata) {\n    return {} as AccountProfile;\n  }\n\n  try {\n    const parsed = JSON.parse(postingJsonMetadata);\n    if (\n      parsed &&\n      typeof parsed === \"object\" &&\n      parsed.profile &&\n      typeof parsed.profile === \"object\"\n    ) {\n      return parsed.profile as AccountProfile;\n    }\n  } catch (err) {}\n\n  return {} as AccountProfile;\n}\n\nexport function extractAccountProfile(\n  data?: Pick<FullAccount, \"posting_json_metadata\"> | null\n): AccountProfile {\n  return parseProfileMetadata(data?.posting_json_metadata);\n}\n\nexport function buildProfileMetadata({\n  existingProfile,\n  profile,\n  tokens,\n}: BuildProfileMetadataArgs): AccountProfile {\n  const { tokens: profileTokens, version: _ignoredVersion, ...profileRest } =\n    profile ?? {};\n\n  const metadata = R.mergeDeep(\n    existingProfile ?? ({} as AccountProfile),\n    profileRest\n  );\n\n  const nextTokens = tokens ?? profileTokens;\n\n  if (nextTokens && nextTokens.length > 0) {\n    metadata.tokens = nextTokens;\n  }\n\n  metadata.tokens = sanitizeTokens(metadata.tokens);\n  metadata.version = 2;\n\n  return metadata;\n}\n","import { FullAccount, AccountProfile } from \"../types\";\nimport { parseProfileMetadata } from \"./profile-metadata\";\n\n/**\n * Parses raw account data from Hive API into FullAccount type\n * Handles profile metadata extraction from posting_json_metadata or json_metadata\n */\nexport function parseAccounts(rawAccounts: any[]): FullAccount[] {\n  return rawAccounts.map((x) => {\n    const account: FullAccount = {\n      name: x.name,\n      owner: x.owner,\n      active: x.active,\n      posting: x.posting,\n      memo_key: x.memo_key,\n      post_count: x.post_count,\n      created: x.created,\n      reputation: x.reputation,\n      posting_json_metadata: x.posting_json_metadata,\n      last_vote_time: x.last_vote_time,\n      last_post: x.last_post,\n      json_metadata: x.json_metadata,\n      reward_hive_balance: x.reward_hive_balance,\n      reward_hbd_balance: x.reward_hbd_balance,\n      reward_vesting_hive: x.reward_vesting_hive,\n      reward_vesting_balance: x.reward_vesting_balance,\n      balance: x.balance,\n      hbd_balance: x.hbd_balance,\n      savings_balance: x.savings_balance,\n      savings_hbd_balance: x.savings_hbd_balance,\n      savings_hbd_last_interest_payment: x.savings_hbd_last_interest_payment,\n      savings_hbd_seconds_last_update: x.savings_hbd_seconds_last_update,\n      savings_hbd_seconds: x.savings_hbd_seconds,\n      next_vesting_withdrawal: x.next_vesting_withdrawal,\n      pending_claimed_accounts: x.pending_claimed_accounts,\n      vesting_shares: x.vesting_shares,\n      delegated_vesting_shares: x.delegated_vesting_shares,\n      received_vesting_shares: x.received_vesting_shares,\n      vesting_withdraw_rate: x.vesting_withdraw_rate,\n      to_withdraw: x.to_withdraw,\n      withdrawn: x.withdrawn,\n      witness_votes: x.witness_votes,\n      proxy: x.proxy,\n      recovery_account: x.recovery_account,\n      proxied_vsf_votes: x.proxied_vsf_votes,\n      voting_manabar: x.voting_manabar,\n      voting_power: x.voting_power,\n      downvote_manabar: x.downvote_manabar,\n    };\n\n    // Try to parse profile from posting_json_metadata first\n    let profile: AccountProfile | undefined = parseProfileMetadata(\n      x.posting_json_metadata\n    );\n\n    // Fallback to json_metadata if posting_json_metadata didn't have a profile\n    if (!profile || Object.keys(profile).length === 0) {\n      try {\n        const jsonMetadata = JSON.parse(x.json_metadata || \"{}\");\n        if (jsonMetadata.profile) {\n          profile = jsonMetadata.profile;\n        }\n      } catch (e) {\n        // Ignore parsing errors\n      }\n    }\n\n    // Ensure we always have a profile object\n    if (!profile || Object.keys(profile).length === 0) {\n      profile = {\n        about: \"\",\n        cover_image: \"\",\n        location: \"\",\n        name: \"\",\n        profile_image: \"\",\n        website: \"\",\n      };\n    }\n\n    return { ...account, profile };\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { parseAccounts } from \"../utils/parse-accounts\";\nimport { FullAccount } from \"../types\";\n\nexport function getAccountsQueryOptions(usernames: string[]) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"list\", ...usernames],\n    enabled: usernames.length > 0,\n    queryFn: async (): Promise<FullAccount[]> => {\n      const response = (await CONFIG.hiveClient.database.getAccounts(\n        usernames\n      )) as any[];\n      return parseAccounts(response);\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { AccountFollowStats } from \"../types\";\n\n/**\n * Get follow count (followers and following) for an account\n */\nexport function getFollowCountQueryOptions(username: string) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"follow-count\", username],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_follow_count\", [\n        username,\n      ]) as Promise<AccountFollowStats>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Follow } from \"../types\";\n\n/**\n * Get list of accounts following a user\n *\n * @param following - The account being followed\n * @param startFollower - Pagination start point (account name)\n * @param followType - Type of follow relationship (default: \"blog\")\n * @param limit - Maximum number of results (default: 100)\n */\nexport function getFollowersQueryOptions(\n  following: string | undefined,\n  startFollower: string,\n  followType = \"blog\",\n  limit = 100\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"followers\", following, startFollower, followType, limit],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_followers\", [\n        following,\n        startFollower,\n        followType,\n        limit,\n      ]) as Promise<Follow[]>,\n    enabled: !!following,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Follow } from \"../types\";\n\n/**\n * Get list of accounts that a user is following\n *\n * @param follower - The account doing the following\n * @param startFollowing - Pagination start point (account name)\n * @param followType - Type of follow relationship (default: \"blog\")\n * @param limit - Maximum number of results (default: 100)\n */\nexport function getFollowingQueryOptions(\n  follower: string | undefined,\n  startFollowing: string,\n  followType = \"blog\",\n  limit = 100\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"following\", follower, startFollowing, followType, limit],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_following\", [\n        follower,\n        startFollowing,\n        followType,\n        limit,\n      ]) as Promise<Follow[]>,\n    enabled: !!follower,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Follow } from \"../types\";\n\n/**\n * Get list of users that an account has muted\n *\n * @param username - The account username\n * @param limit - Maximum number of results (default: 100)\n */\nexport function getMutedUsersQueryOptions(username: string | undefined, limit = 100) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"muted-users\", username],\n    queryFn: async () => {\n      const response = (await CONFIG.hiveClient.database.call(\"get_following\", [\n        username,\n        \"\",\n        \"ignore\",\n        limit,\n      ])) as Follow[];\n\n      return response.map((user) => user.following);\n    },\n    enabled: !!username,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\n\n/**\n * Lookup accounts by username prefix\n *\n * @param query - Username prefix to search for\n * @param limit - Maximum number of results (default: 50)\n */\nexport function lookupAccountsQueryOptions(query: string, limit = 50) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"lookup\", query, limit],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"lookup_accounts\", [\n        query,\n        limit,\n      ]) as Promise<string[]>,\n    enabled: !!query,\n    staleTime: Infinity,\n  });\n}\n","import { CONFIG } from \"@/modules/core/config\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getSearchAccountsByUsernameQueryOptions(\n  query: string,\n  limit = 5,\n  excludeList: string[] = []\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"search\", query, excludeList],\n    enabled: !!query,\n    queryFn: async () => {\n      const response = (await CONFIG.hiveClient.database.call(\n        \"lookup_accounts\",\n        [query, limit]\n      )) as string[];\n      return response.filter((item) =>\n        excludeList.length > 0 ? !excludeList.includes(item) : true\n      );\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { AccountProfile } from \"../types\";\n\ntype AccountProfileToken = NonNullable<AccountProfile[\"tokens\"]>[number];\n\nexport type WalletMetadataCandidate = Partial<AccountProfileToken> & {\n  currency?: string;\n  show?: boolean;\n  address?: string;\n  publicKey?: string;\n  privateKey?: string;\n  username?: string;\n};\n\nexport interface CheckUsernameWalletsPendingResponse {\n  exist: boolean;\n  tokens?: WalletMetadataCandidate[];\n  wallets?: WalletMetadataCandidate[];\n}\n\nconst RESERVED_META_KEYS = new Set([\n  \"ownerPublicKey\",\n  \"activePublicKey\",\n  \"postingPublicKey\",\n  \"memoPublicKey\",\n]);\n\ninterface WalletsEndpointResponseItem {\n  token?: unknown;\n  address?: unknown;\n  status?: unknown;\n  meta?: unknown;\n  username?: unknown;\n}\n\nexport function checkUsernameWalletsPendingQueryOptions(\n  username: string,\n  code: string | undefined\n) {\n  return queryOptions<CheckUsernameWalletsPendingResponse>({\n    queryKey: [\n      \"accounts\",\n      \"check-wallet-pending\",\n      username,\n      code ?? null,\n    ],\n    queryFn: async () => {\n      if (!username || !code) {\n        return { exist: false } satisfies CheckUsernameWalletsPendingResponse;\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/wallets\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            username,\n            code,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        return { exist: false } satisfies CheckUsernameWalletsPendingResponse;\n      }\n\n      const payload = (await response.json()) as unknown;\n\n      const wallets: WalletMetadataCandidate[] = Array.isArray(payload)\n        ? payload.flatMap((item) => {\n            if (!item || typeof item !== \"object\") {\n              return [];\n            }\n\n            const walletItem = item as WalletsEndpointResponseItem;\n\n            const symbol =\n              typeof walletItem.token === \"string\"\n                ? walletItem.token\n                : undefined;\n\n            if (!symbol) {\n              return [];\n            }\n\n            const meta: Record<string, unknown> =\n              walletItem.meta && typeof walletItem.meta === \"object\"\n                ? { ...(walletItem.meta as Record<string, unknown>) }\n                : {};\n\n            const sanitizedMeta: Record<string, unknown> = {};\n\n            const address =\n              typeof walletItem.address === \"string\" && walletItem.address\n                ? walletItem.address\n                : undefined;\n\n            const statusShow =\n              typeof walletItem.status === \"number\"\n                ? walletItem.status === 3\n                : undefined;\n\n            const showFlag = statusShow ?? false;\n\n            if (address) {\n              sanitizedMeta.address = address;\n            }\n\n            sanitizedMeta.show = showFlag;\n\n            const baseCandidate = {\n              symbol,\n              currency: symbol,\n              address,\n              show: showFlag,\n              type: \"CHAIN\",\n              meta: sanitizedMeta,\n            } satisfies WalletMetadataCandidate;\n\n            const metaTokenCandidates: WalletMetadataCandidate[] = [];\n\n            for (const [metaSymbol, metaValue] of Object.entries(meta)) {\n              if (typeof metaSymbol !== \"string\") {\n                continue;\n              }\n\n              if (RESERVED_META_KEYS.has(metaSymbol)) {\n                continue;\n              }\n\n              if (typeof metaValue !== \"string\" || !metaValue) {\n                continue;\n              }\n\n              if (!/^[A-Z0-9]{2,10}$/.test(metaSymbol)) {\n                continue;\n              }\n\n              metaTokenCandidates.push({\n                symbol: metaSymbol,\n                currency: metaSymbol,\n                address: metaValue,\n                show: showFlag,\n                type: \"CHAIN\",\n                meta: { address: metaValue, show: showFlag },\n              });\n            }\n\n            return [baseCandidate, ...metaTokenCandidates];\n          })\n        : [];\n\n      return {\n        exist: wallets.length > 0,\n        tokens: wallets.length ? wallets : undefined,\n        wallets: wallets.length ? wallets : undefined,\n      } satisfies CheckUsernameWalletsPendingResponse;\n    },\n    refetchOnMount: true,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { AccountRelationship } from \"../types\";\n\nexport function getRelationshipBetweenAccountsQueryOptions(\n  reference: string | undefined,\n  target: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"relations\", reference, target],\n    enabled: !!reference && !!target,\n    refetchOnMount: false,\n    refetchInterval: 3_600_000,\n    queryFn: async () => {\n      return (await CONFIG.hiveClient.call(\n        \"bridge\",\n        \"get_relationship_between_accounts\",\n        [reference, target]\n      )) as AccountRelationship;\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\ntype Subscriptions = string[];\n\nexport function getAccountSubscriptionsQueryOptions(\n  username: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"subscriptions\", username],\n    enabled: !!username,\n    queryFn: async () => {\n      const response = await CONFIG.hiveClient.call(\n        \"bridge\",\n        \"list_all_subscriptions\",\n        {\n          account: username,\n        }\n      );\n      return (response ?? []) as Subscriptions;\n    },\n  });\n}\n","import { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { AccountBookmark } from \"../types\";\n\nexport function getBookmarksQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"bookmarks\", activeUsername],\n    enabled: !!activeUsername && !!code,\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        throw new Error(\"[SDK][Accounts][Bookmarks]  missing auth\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/bookmarks\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ code }),\n        }\n      );\n      return (await response.json()) as AccountBookmark[];\n    },\n  });\n}\n\nexport function getBookmarksInfiniteQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"accounts\", \"bookmarks\", \"infinite\", activeUsername, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!activeUsername || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/bookmarks?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ code }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch bookmarks: ${response.status}`);\n      }\n\n      const json = await response.json();\n      return normalizeToWrappedResponse<AccountBookmark>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n","import { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { AccountFavorite } from \"../types\";\n\nexport function getFavouritesQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"favourites\", activeUsername],\n    enabled: !!activeUsername && !!code,\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        throw new Error(\"[SDK][Accounts][Favourites]  missing auth\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/favorites\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ code }),\n        }\n      );\n      return (await response.json()) as AccountFavorite[];\n    },\n  });\n}\n\nexport function getFavouritesInfiniteQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"accounts\", \"favourites\", \"infinite\", activeUsername, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!activeUsername || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/favorites?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ code }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch favorites: ${response.status}`);\n      }\n\n      const json = await response.json();\n      return normalizeToWrappedResponse<AccountFavorite>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\n/**\n * Query options to check if a specific account is in the active user's favourites\n * @param activeUsername - The logged-in user's username\n * @param code - Access token for authentication\n * @param targetUsername - The username to check if favorited\n * @returns Query options for checking if target is favorited\n */\nexport function checkFavouriteQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined,\n  targetUsername: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"favourites\", \"check\", activeUsername, targetUsername],\n    enabled: !!activeUsername && !!code && !!targetUsername,\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        throw new Error(\"[SDK][Accounts][Favourites]  missing auth\");\n      }\n      if (!targetUsername) {\n        throw new Error(\"[SDK][Accounts][Favourites]  no target username\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/favorites-check\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            code,\n            account: targetUsername,\n          }),\n        }\n      );\n\n      // Validate HTTP response\n      if (!response.ok) {\n        throw new Error(\n          `[SDK][Accounts][Favourites]  favorites-check failed with status ${response.status}: ${response.statusText}`\n        );\n      }\n\n      // Parse and validate JSON payload\n      const result = await response.json();\n      if (typeof result !== \"boolean\") {\n        throw new Error(\n          `[SDK][Accounts][Favourites]  favorites-check returned invalid type: expected boolean, got ${typeof result}`\n        );\n      }\n\n      return result;\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { GetRecoveriesEmailResponse } from \"../types\";\n\nexport function getAccountRecoveriesQueryOptions(\n  username: string | undefined,\n  code: string | undefined\n) {\n  return queryOptions({\n    enabled: !!username && !!code,\n    queryKey: [\"accounts\", \"recoveries\", username],\n    queryFn: async () => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Accounts] Missing username or access token\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/recoveries\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ code }),\n        }\n      );\n\n      return response.json() as Promise<GetRecoveriesEmailResponse[]>;\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getAccountPendingRecoveryQueryOptions(\n  username: string | undefined\n) {\n  return queryOptions({\n    enabled: !!username,\n    queryKey: [\"accounts\", \"recoveries\", username, \"pending-request\"],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\n        \"database_api\",\n        \"find_change_recovery_account_requests\",\n        { accounts: [username] }\n      ),\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { AccountReputation } from \"../types\";\n\nexport function getAccountReputationsQueryOptions(query: string, limit = 50) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"reputations\", query, limit],\n    enabled: !!query,\n    queryFn: async (): Promise<AccountReputation[]> => {\n      if (!query) {\n        return [];\n      }\n\n      return CONFIG.hiveClient.call(\n        \"condenser_api\",\n        \"get_account_reputations\",\n        [query, limit]\n      ) as Promise<AccountReputation[]>;\n    },\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { utils } from \"@hiveio/dhive\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Transaction, OperationGroup } from \"../types/transaction\";\n\nconst ops = utils.operationOrders;\n\nexport const ACCOUNT_OPERATION_GROUPS: Record<OperationGroup, number[]> = {\n  transfers: [\n    ops.transfer,\n    ops.transfer_to_savings,\n    ops.transfer_from_savings,\n    ops.cancel_transfer_from_savings,\n    ops.recurrent_transfer,\n    ops.fill_recurrent_transfer,\n    ops.escrow_transfer,\n    ops.fill_recurrent_transfer,\n  ],\n  \"market-orders\": [\n    ops.fill_convert_request,\n    ops.fill_order,\n    ops.fill_collateralized_convert_request,\n    ops.limit_order_create2,\n    ops.limit_order_create,\n    ops.limit_order_cancel,\n  ],\n  interests: [ops.interest],\n  \"stake-operations\": [\n    ops.return_vesting_delegation,\n    ops.withdraw_vesting,\n    ops.transfer_to_vesting,\n    ops.set_withdraw_vesting_route,\n    ops.update_proposal_votes,\n    ops.fill_vesting_withdraw,\n    ops.account_witness_proxy,\n    ops.delegate_vesting_shares,\n  ],\n  rewards: [\n    ops.author_reward,\n    ops.curation_reward,\n    ops.producer_reward,\n    ops.claim_reward_balance,\n    ops.comment_benefactor_reward,\n    ops.liquidity_reward,\n    ops.proposal_pay,\n  ],\n};\n\nexport const ALL_ACCOUNT_OPERATIONS = [...Object.values(ACCOUNT_OPERATION_GROUPS)].reduce(\n  (acc, val) => acc.concat(val),\n  []\n);\n\ntype TxPage = Transaction[];\ntype TxCursor = number;\n\ninterface AccountHistoryOperation {\n  timestamp: string;\n  trx_id: string;\n  op: [Transaction[\"type\"], any];\n}\n\ntype AccountHistoryRecord = [number, AccountHistoryOperation];\n\n/**\n * Get account transaction history with pagination and filtering\n *\n * @param username - Account name to get transactions for\n * @param limit - Number of transactions per page\n * @param group - Filter by operation group (transfers, market-orders, etc.)\n */\nexport function getTransactionsInfiniteQueryOptions(\n  username?: string,\n  limit = 20,\n  group: OperationGroup | \"\" = \"\"\n) {\n  return infiniteQueryOptions<TxPage, Error, TxPage, (string | number)[], TxCursor>({\n    queryKey: [\"accounts\", \"transactions\", username ?? \"\", group, limit],\n    initialPageParam: -1 as TxCursor,\n\n    queryFn: async ({ pageParam }: { pageParam: TxCursor }) => {\n      if (!username) {\n        return [];\n      }\n\n      let filters: number[] | undefined;\n      try {\n        // Create bitmask filters (requires BigInt support in browser)\n        switch (group) {\n          case \"transfers\":\n            filters = utils.makeBitMaskFilter(ACCOUNT_OPERATION_GROUPS[\"transfers\"]);\n            break;\n          case \"market-orders\":\n            filters = utils.makeBitMaskFilter(ACCOUNT_OPERATION_GROUPS[\"market-orders\"]);\n            break;\n          case \"interests\":\n            filters = utils.makeBitMaskFilter(ACCOUNT_OPERATION_GROUPS[\"interests\"]);\n            break;\n          case \"stake-operations\":\n            filters = utils.makeBitMaskFilter(ACCOUNT_OPERATION_GROUPS[\"stake-operations\"]);\n            break;\n          case \"rewards\":\n            filters = utils.makeBitMaskFilter(ACCOUNT_OPERATION_GROUPS[\"rewards\"]);\n            break;\n          default:\n            filters = utils.makeBitMaskFilter(ALL_ACCOUNT_OPERATIONS);\n        }\n      } catch (error) {\n        // Fallback for browsers without BigInt support (Safari < 14)\n        // Using undefined means no server-side filtering - will get all operations\n        // and filter on client side (less efficient but still works)\n        console.warn(\"BigInt not supported, using client-side filtering\", error);\n        filters = undefined;\n      }\n\n      const response = (await (filters\n        ? CONFIG.hiveClient.call(\"condenser_api\", \"get_account_history\", [\n            username,\n            pageParam,\n            limit,\n            ...filters,\n          ])\n        : CONFIG.hiveClient.call(\"condenser_api\", \"get_account_history\", [\n            username,\n            pageParam,\n            limit,\n          ]))) as AccountHistoryRecord[];\n\n      const mapped: Transaction[] = response\n        .map(([num, operation]) => {\n          const base = {\n            num,\n            type: operation.op[0],\n            timestamp: operation.timestamp,\n            trx_id: operation.trx_id,\n          } as const;\n\n          const payload = operation.op[1] as Record<string, unknown>;\n          return { ...base, ...payload } as Transaction;\n        })\n        .filter(Boolean)\n        .sort((a, b) => b.num - a.num);\n\n      return mapped;\n    },\n\n    getNextPageParam: (lastPage: TxPage | undefined): TxCursor =>\n      lastPage?.length ? (lastPage[lastPage.length - 1]?.num ?? 0) - 1 : -1,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\n\nexport function getBotsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"accounts\", \"bots\"],\n    queryFn: async () => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/public/bots\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch bots: ${response.status}`);\n      }\n\n      return response.json() as Promise<string[]>;\n    },\n    refetchOnMount: true,\n    staleTime: Infinity,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { ConfigManager } from \"@/modules/core\";\nimport { ReferralItem } from \"../types/referral\";\n\ntype PageParam = { maxId?: number };\n\nexport function getReferralsInfiniteQueryOptions(username: string) {\n  return infiniteQueryOptions({\n    queryKey: [\"accounts\", \"referrals\", username],\n    initialPageParam: { maxId: undefined } as PageParam,\n    queryFn: async ({ pageParam }: { pageParam: PageParam }) => {\n      const { maxId } = pageParam ?? {};\n      const baseUrl = ConfigManager.getValidatedBaseUrl();\n      const url = new URL(`/private-api/referrals/${username}`, baseUrl);\n\n      if (maxId !== undefined) {\n        url.searchParams.set(\"max_id\", maxId.toString());\n      }\n\n      const response = await fetch(url.toString(), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch referrals: ${response.status}`);\n      }\n\n      return response.json() as Promise<ReferralItem[]>;\n    },\n    getNextPageParam: (lastPage: ReferralItem[]) => {\n      const nextMaxId = lastPage?.[lastPage.length - 1]?.id;\n      return typeof nextMaxId === \"number\" ? ({ maxId: nextMaxId } as PageParam) : undefined;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { ReferralStat } from \"../types/referral\";\n\ninterface ReferralStatsResponse {\n  total?: number;\n  rewarded?: number;\n}\n\nexport function getReferralsStatsQueryOptions(username: string) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"referrals-stats\", username],\n    queryFn: async () => {\n      const response = await fetch(\n        CONFIG.privateApiHost + `/private-api/referrals/${username}/stats`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch referral stats: ${response.status}`);\n      }\n\n      const data = await response.json() as ReferralStatsResponse;\n\n      if (!data) {\n        throw new Error(\"No Referrals for this user!\");\n      }\n\n      return {\n        total: data.total ?? 0,\n        rewarded: data.rewarded ?? 0,\n      } as ReferralStat;\n    },\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Follow, Profile, FriendsRow } from \"../types\";\n\nexport interface FriendsPageParam {\n  startFollowing: string;\n}\n\ntype FriendsPage = FriendsRow[];\n\n/**\n * Get list of friends (following/followers) with profile information\n *\n * @param following - The account whose friends to get\n * @param mode - \"following\" or \"followers\"\n * @param followType - Type of follow relationship (default: \"blog\")\n * @param limit - Number of results per page (default: 100)\n * @param enabled - Whether query is enabled (default: true)\n */\nexport function getFriendsInfiniteQueryOptions(\n  following: string,\n  mode: \"following\" | \"followers\",\n  options?: {\n    followType?: string;\n    limit?: number;\n    enabled?: boolean;\n  }\n) {\n  const { followType = \"blog\", limit = 100, enabled = true } = options ?? {};\n\n  return infiniteQueryOptions<FriendsPage, Error, FriendsPage, (string | number)[], FriendsPageParam>({\n    queryKey: [\"accounts\", \"friends\", following, mode, followType, limit],\n    initialPageParam: { startFollowing: \"\" } as FriendsPageParam,\n    enabled,\n    refetchOnMount: true,\n\n    queryFn: async ({ pageParam }: { pageParam: FriendsPageParam }) => {\n      const { startFollowing } = pageParam;\n\n      const response = (await CONFIG.hiveClient.database.call(\n        mode === \"following\" ? \"get_following\" : \"get_followers\",\n        [following, startFollowing === \"\" ? null : startFollowing, followType, limit]\n      )) as Follow[];\n\n      const accountNames = response.map((e) =>\n        mode === \"following\" ? e.following : e.follower\n      );\n\n      // Get profiles via bridge API\n      const accounts = (await CONFIG.hiveClient.call(\"bridge\", \"get_profiles\", {\n        accounts: accountNames,\n        observer: undefined,\n      })) as Profile[];\n\n      const rows: FriendsPage = (accounts ?? []).map((a) => ({\n        name: a.name,\n        reputation: a.reputation,\n        active: a.active, // Return raw timestamp\n      }));\n\n      return rows;\n    },\n\n    getNextPageParam: (lastPage: FriendsPage): FriendsPageParam | undefined =>\n      lastPage && lastPage.length === limit\n        ? { startFollowing: lastPage[lastPage.length - 1].name }\n        : undefined,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Follow, Profile, FriendSearchResult } from \"../types\";\n\nconst SEARCH_LIMIT = 30;\n\n/**\n * Search friends (following/followers) by query string\n *\n * @param username - The account whose friends to search\n * @param mode - \"following\" or \"followers\"\n * @param query - Search query string\n */\nexport function getSearchFriendsQueryOptions(\n  username: string,\n  mode: \"following\" | \"followers\",\n  query: string\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"friends\", \"search\", username, mode, query],\n    refetchOnMount: false,\n    enabled: false, // Manual query via refetch\n    queryFn: async (): Promise<FriendSearchResult[]> => {\n      if (!query) return [];\n\n      const start = query.slice(0, -1);\n      const response = (await CONFIG.hiveClient.database.call(\n        mode === \"following\" ? \"get_following\" : \"get_followers\",\n        [username, start, \"blog\", 1000]\n      )) as Follow[];\n\n      const accountNames = response\n        .map((e) => (mode === \"following\" ? e.following : e.follower))\n        .filter((name) => name.toLowerCase().includes(query.toLowerCase()))\n        .slice(0, SEARCH_LIMIT);\n\n      // Get profiles via bridge API\n      const accounts = (await CONFIG.hiveClient.call(\"bridge\", \"get_profiles\", {\n        accounts: accountNames,\n        observer: undefined,\n      })) as Profile[];\n\n      return (\n        accounts?.map((a) => ({\n          name: a.name,\n          full_name: a.metadata.profile?.name || \"\",\n          reputation: a.reputation,\n          active: a.active, // Return raw timestamp\n        })) ?? []\n      );\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { TrendingTag } from \"../types\";\n\nexport function getTrendingTagsQueryOptions(limit = 20) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"trending-tags\"],\n    queryFn: async ({ pageParam: { afterTag } }) =>\n      CONFIG.hiveClient.database\n        .call(\"get_trending_tags\", [afterTag, limit])\n        .then((tags: TrendingTag[]) =>\n          tags\n            .filter((x) => x.name !== \"\")\n            .filter((x) => !x.name.startsWith(\"hive-\"))\n            .map((x) => x.name)\n        ),\n    initialPageParam: { afterTag: \"\" },\n    getNextPageParam: (lastPage) => ({\n      afterTag: lastPage?.[lastPage?.length - 1],\n    }),\n    staleTime: Infinity,\n    refetchOnMount: true,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { isCommunity } from \"@/modules/core/utils\";\nimport { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { TrendingTag } from \"../types\";\n\nexport function getTrendingTagsWithStatsQueryOptions(limit = 250) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"trending-tags\", \"stats\", limit],\n    queryFn: async ({ pageParam: { afterTag } }) =>\n      CONFIG.hiveClient.database\n        .call(\"get_trending_tags\", [afterTag, limit])\n        .then((tags: TrendingTag[]) =>\n          tags.filter((tag) => tag.name !== \"\").filter((tag) => !isCommunity(tag.name))\n        ),\n    initialPageParam: { afterTag: \"\" },\n    getNextPageParam: (lastPage) =>\n      lastPage?.length ? { afterTag: lastPage[lastPage.length - 1].name } : undefined,\n    staleTime: Infinity,\n    refetchOnMount: true\n  });\n}\n","import { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { Fragment } from \"../types\";\n\nexport function getFragmentsQueryOptions(username: string, code?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"fragments\", username],\n    queryFn: async () => {\n      if (!code) {\n        return [];\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/fragments\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            code,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      return response.json() as Promise<Fragment[]>;\n    },\n    enabled: !!username && !!code,\n  });\n}\n\nexport function getFragmentsInfiniteQueryOptions(\n  username: string | undefined,\n  code?: string,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"fragments\", \"infinite\", username, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!username || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/fragments?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            code,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch fragments: ${response.status}`);\n      }\n\n      const json = await response.json();\n      return normalizeToWrappedResponse<Fragment>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!username && !!code,\n  });\n}\n","import { ConfigManager, getBoundFetch } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\n// TODO: replace any with Entry\nexport function getPromotedPostsQuery<T extends any>(\n  type: \"feed\" | \"waves\" = \"feed\"\n) {\n  return queryOptions({\n    queryKey: [\"posts\", \"promoted\", type],\n    queryFn: async () => {\n      const baseUrl = ConfigManager.getValidatedBaseUrl();\n      const url = new URL(\"/private-api/promoted-entries\", baseUrl);\n      if (type === \"waves\") {\n        url.searchParams.append(\"short_content\", \"1\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(url.toString(), {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      const data = await response.json();\n      return data as T[];\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry, Vote } from \"../types\";\n\nexport function getEntryActiveVotesQueryOptions(entry?: Entry) {\n  return queryOptions({\n    queryKey: [\"posts\", \"entry-active-votes\", entry?.author, entry?.permlink],\n    queryFn: async () => {\n      return CONFIG.hiveClient.database.call(\"get_active_votes\", [\n        entry?.author,\n        entry?.permlink,\n      ]) as Promise<Vote[]>;\n    },\n    enabled: !!entry,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport type { Vote } from \"../types\";\n\n/**\n * Get a specific user's vote on a post\n * Useful when post has >1000 votes to efficiently get one user's vote\n *\n * @param username - The voter's username\n * @param author - The post author\n * @param permlink - The post permlink\n */\nexport function getUserPostVoteQueryOptions(\n  username: string | undefined,\n  author: string | undefined,\n  permlink: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"posts\", \"user-vote\", username, author, permlink],\n    queryFn: async () => {\n      const result = await CONFIG.hiveClient.call(\"database_api\", \"list_votes\", {\n        start: [username, author, permlink],\n        limit: 1,\n        order: \"by_voter_comment\"\n      });\n\n      // Return first vote if found, otherwise null\n      return (result?.votes?.[0] || null) as Vote | null;\n    },\n    enabled: !!username && !!author && !!permlink,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\n\nexport function getContentQueryOptions(author: string, permlink: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"content\", author, permlink],\n    enabled: !!author && !!permlink,\n    queryFn: async (): Promise<Entry> =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_content\", [\n        author,\n        permlink,\n      ]) as Promise<Entry>,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\n\nexport function getContentRepliesQueryOptions(author: string, permlink: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"content-replies\", author, permlink],\n    enabled: !!author && !!permlink,\n    queryFn: async (): Promise<Entry[]> =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_content_replies\", {\n        author,\n        permlink,\n      }) as Promise<Entry[]>,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\n\nexport function getPostHeaderQueryOptions(author: string, permlink: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"post-header\", author, permlink],\n    queryFn: async () => {\n      return CONFIG.hiveClient.call(\"bridge\", \"get_post_header\", {\n        author,\n        permlink,\n      }) as Promise<Entry | null>;\n    },\n    initialData: null,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { Entry } from \"../types\";\n\n/**\n * Filters and censors entries that match DMCA patterns\n * @param entry - Single entry or array of entries to filter\n * @returns Filtered entry/entries with DMCA content censored.\n *          Note: Can return null/undefined if input is falsy - callers should guard against this.\n */\nexport function filterDmcaEntry(entry: Entry): Entry | null | undefined;\nexport function filterDmcaEntry(entries: Entry[]): Entry[];\nexport function filterDmcaEntry(entryOrEntries: Entry | Entry[] | null | undefined): Entry | Entry[] | null | undefined {\n  if (Array.isArray(entryOrEntries)) {\n    return entryOrEntries.map((entry) => applyFilter(entry));\n  }\n  return applyFilter(entryOrEntries);\n}\n\nfunction applyFilter(entry: Entry | null | undefined): Entry | null | undefined {\n  if (!entry) return entry;\n\n  const entryPath = `@${entry.author}/${entry.permlink}`;\n  const isDmca =\n    CONFIG.dmcaPatterns.includes(entryPath) ||\n    CONFIG.dmcaPatternRegexes.some((regex) => regex.test(entryPath));\n\n  if (isDmca) {\n    return {\n      ...entry,\n      body: \"This post is not available due to a copyright/fraudulent claim.\",\n      title: \"\",\n    };\n  }\n\n  return entry;\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\nimport { filterDmcaEntry } from \"../utils/filter-dmca-entries\";\n\nfunction makeEntryPath(category: string, author: string, permlink: string) {\n  return `${category}/@${author}/${permlink}`;\n}\n\nexport function getPostQueryOptions(\n  author: string,\n  permlink?: string,\n  observer = \"\",\n  num?: number\n) {\n  const cleanPermlink = permlink?.trim();\n  const entryPath = makeEntryPath(\"\", author, cleanPermlink ?? \"\");\n\n  return queryOptions({\n    queryKey: [\"posts\", \"entry\", entryPath],\n    queryFn: async () => {\n      if (!cleanPermlink || cleanPermlink === \"undefined\") {\n        return null;\n      }\n\n      const response = await CONFIG.hiveClient.call(\"bridge\", \"get_post\", {\n        author,\n        permlink: cleanPermlink,\n        observer,\n      });\n\n      if (!response) {\n        return null;\n      }\n\n      const entry = num !== undefined ? { ...response, num } as Entry : response as Entry;\n      return filterDmcaEntry(entry);\n    },\n    enabled:\n      !!author &&\n      !!permlink &&\n      permlink.trim() !== \"\" &&\n      permlink.trim() !== \"undefined\",\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { AccountRelationship, Profile } from \"@/modules/accounts/types\";\nimport { Community } from \"@/modules/communities/types/community\";\nimport { Subscription } from \"@/modules/communities/types/subscription\";\nimport { Entry } from \"@/modules/posts/types\";\nimport { filterDmcaEntry } from \"@/modules/posts/utils/filter-dmca-entries\";\n\ntype BridgeParams = Record<string, unknown> | unknown[];\n\nexport function bridgeApiCall<T>(endpoint: string, params: BridgeParams): Promise<T> {\n  return CONFIG.hiveClient.call(\"bridge\", endpoint, params) as Promise<T>;\n}\n\nexport async function resolvePost(\n  post: Entry,\n  observer: string,\n  num?: number\n): Promise<Entry> {\n  const { json_metadata: json } = post;\n\n  if (json?.original_author && json?.original_permlink && json.tags?.[0] === \"cross-post\") {\n    try {\n      const resp = await getPost(\n        json.original_author,\n        json.original_permlink,\n        observer,\n        num\n      );\n      if (resp) {\n        return {\n          ...post,\n          original_entry: resp,\n          num,\n        };\n      }\n      return post;\n    } catch {\n      return post;\n    }\n  }\n\n  return { ...post, num };\n}\n\nasync function resolvePosts(posts: Entry[], observer: string): Promise<Entry[]> {\n  const validatedPosts = posts.map(validateEntry);\n  const resolved = await Promise.all(validatedPosts.map((p) => resolvePost(p, observer)));\n  return filterDmcaEntry(resolved) as Entry[];\n}\n\nexport async function getPostsRanked(\n  sort: string,\n  start_author: string = \"\",\n  start_permlink: string = \"\",\n  limit: number = 20,\n  tag: string = \"\",\n  observer: string = \"\"\n): Promise<Entry[] | null> {\n  const resp = await bridgeApiCall<Entry[] | null>(\"get_ranked_posts\", {\n    sort,\n    start_author,\n    start_permlink,\n    limit,\n    tag,\n    observer,\n  });\n\n  if (resp) {\n    return resolvePosts(resp, observer);\n  }\n\n  return resp;\n}\n\nexport async function getAccountPosts(\n  sort: string,\n  account: string,\n  start_author: string = \"\",\n  start_permlink: string = \"\",\n  limit: number = 20,\n  observer: string = \"\"\n): Promise<Entry[] | null> {\n  if (CONFIG.dmcaAccounts.includes(account)) {\n    return [];\n  }\n\n  const resp = await bridgeApiCall<Entry[] | null>(\"get_account_posts\", {\n    sort,\n    account,\n    start_author,\n    start_permlink,\n    limit,\n    observer,\n  });\n\n  if (resp) {\n    return resolvePosts(resp, observer);\n  }\n\n  return resp;\n}\n\n/**\n * Validates that an Entry object has required properties with non-null values.\n */\nfunction validateEntry(entry: Entry): Entry {\n  const newEntry: Entry = {\n    ...entry,\n    active_votes: Array.isArray(entry.active_votes) ? [...entry.active_votes] : [],\n    beneficiaries: Array.isArray(entry.beneficiaries) ? [...entry.beneficiaries] : [],\n    blacklists: Array.isArray(entry.blacklists) ? [...entry.blacklists] : [],\n    replies: Array.isArray(entry.replies) ? [...entry.replies] : [],\n    stats: entry.stats ? { ...entry.stats } : null,\n  };\n\n  const requiredStringProps: (keyof Entry)[] = [\n    \"author\",\n    \"title\",\n    \"body\",\n    \"created\",\n    \"category\",\n    \"permlink\",\n    \"url\",\n    \"updated\",\n  ];\n\n  for (const prop of requiredStringProps) {\n    if (newEntry[prop] == null) {\n      (newEntry as any)[prop] = \"\";\n    }\n  }\n\n  if (newEntry.author_reputation == null) {\n    newEntry.author_reputation = 0;\n  }\n  if (newEntry.children == null) {\n    newEntry.children = 0;\n  }\n  if (newEntry.depth == null) {\n    newEntry.depth = 0;\n  }\n  if (newEntry.net_rshares == null) {\n    newEntry.net_rshares = 0;\n  }\n  if (newEntry.payout == null) {\n    newEntry.payout = 0;\n  }\n  if (newEntry.percent_hbd == null) {\n    newEntry.percent_hbd = 0;\n  }\n\n  if (!newEntry.stats) {\n    newEntry.stats = {\n      flag_weight: 0,\n      gray: false,\n      hide: false,\n      total_votes: 0,\n    };\n  }\n\n  if (newEntry.author_payout_value == null) {\n    newEntry.author_payout_value = \"0.000 HBD\";\n  }\n  if (newEntry.curator_payout_value == null) {\n    newEntry.curator_payout_value = \"0.000 HBD\";\n  }\n  if (newEntry.max_accepted_payout == null) {\n    newEntry.max_accepted_payout = \"1000000.000 HBD\";\n  }\n  if (newEntry.payout_at == null) {\n    newEntry.payout_at = \"\";\n  }\n  if (newEntry.pending_payout_value == null) {\n    newEntry.pending_payout_value = \"0.000 HBD\";\n  }\n  if (newEntry.promoted == null) {\n    newEntry.promoted = \"0.000 HBD\";\n  }\n\n  if (newEntry.is_paidout == null) {\n    newEntry.is_paidout = false;\n  }\n\n  return newEntry;\n}\n\nexport async function getPost(\n  author: string = \"\",\n  permlink: string = \"\",\n  observer: string = \"\",\n  num?: number\n): Promise<Entry | undefined> {\n  const resp = await bridgeApiCall<Entry | null>(\"get_post\", {\n    author,\n    permlink,\n    observer,\n  });\n\n  if (resp) {\n    const validatedEntry = validateEntry(resp);\n    const post = await resolvePost(validatedEntry, observer, num);\n    return filterDmcaEntry(post) as Entry;\n  }\n\n  return undefined;\n}\n\nexport async function getPostHeader(\n  author: string = \"\",\n  permlink: string = \"\"\n): Promise<Entry | null> {\n  const resp = await bridgeApiCall<Entry | null>(\"get_post_header\", {\n    author,\n    permlink,\n  });\n  return resp ? validateEntry(resp) : resp;\n}\n\nexport async function getDiscussion(\n  author: string,\n  permlink: string,\n  observer?: string\n): Promise<Record<string, Entry> | null> {\n  const resp = await bridgeApiCall<Record<string, Entry> | null>(\"get_discussion\", {\n    author,\n    permlink,\n    observer: observer || author,\n  });\n\n  if (resp) {\n    const validatedResp: Record<string, Entry> = {};\n    for (const [key, entry] of Object.entries(resp)) {\n      validatedResp[key] = validateEntry(entry);\n    }\n    return validatedResp;\n  }\n  return resp;\n}\n\nexport async function getCommunity(\n  name: string,\n  observer: string | undefined = \"\"\n): Promise<Community | null> {\n  return bridgeApiCall<Community | null>(\"get_community\", { name, observer });\n}\n\nexport async function getCommunities(\n  last: string = \"\",\n  limit: number = 100,\n  query?: string | null,\n  sort: string = \"rank\",\n  observer: string = \"\"\n): Promise<Community[] | null> {\n  return bridgeApiCall<Community[] | null>(\"list_communities\", {\n    last,\n    limit,\n    query,\n    sort,\n    observer,\n  });\n}\n\nexport async function normalizePost(post: unknown): Promise<Entry | null> {\n  const resp = await bridgeApiCall<Entry | null>(\"normalize_post\", { post });\n  return resp ? validateEntry(resp) : resp;\n}\n\nexport async function getSubscriptions(account: string): Promise<Subscription[] | null> {\n  return bridgeApiCall<Subscription[] | null>(\"list_all_subscriptions\", { account });\n}\n\nexport async function getSubscribers(community: string): Promise<Subscription[] | null> {\n  return bridgeApiCall<Subscription[] | null>(\"list_subscribers\", { community });\n}\n\nexport async function getRelationshipBetweenAccounts(\n  follower: string,\n  following: string\n): Promise<AccountRelationship | null> {\n  return bridgeApiCall<AccountRelationship | null>(\"get_relationship_between_accounts\", [\n    follower,\n    following,\n  ]);\n}\n\nexport async function getProfiles(\n  accounts: string[],\n  observer?: string\n): Promise<Profile[]> {\n  return bridgeApiCall<Profile[]>(\"get_profiles\", { accounts, observer });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\nimport { filterDmcaEntry } from \"../utils/filter-dmca-entries\";\nimport { getDiscussion } from \"@/modules/bridge\";\n\nexport enum SortOrder {\n  trending = \"trending\",\n  author_reputation = \"author_reputation\",\n  votes = \"votes\",\n  created = \"created\",\n}\n\nfunction parseAsset(value: string): { amount: number; symbol: string } {\n  const match = value.match(/^(\\d+\\.?\\d*)\\s*([A-Z]+)$/);\n  if (!match) return { amount: 0, symbol: \"\" };\n  return {\n    amount: parseFloat(match[1]),\n    symbol: match[2],\n  };\n}\n\nexport function sortDiscussions(\n  entry: Entry,\n  discussion: Entry[],\n  order: SortOrder\n) {\n  const allPayout = (c: Entry) =>\n    parseAsset(c.pending_payout_value).amount +\n    parseAsset(c.author_payout_value).amount +\n    parseAsset(c.curator_payout_value).amount;\n\n  const absNegative = (a: Entry) => a.net_rshares < 0;\n  const isPinned = (a: Entry) =>\n    entry.json_metadata?.pinned_reply === `${a.author}/${a.permlink}`;\n\n  const sortOrders = {\n    trending: (a: Entry, b: Entry) => {\n      if (absNegative(a)) {\n        return 1;\n      }\n\n      if (absNegative(b)) {\n        return -1;\n      }\n\n      const _a = allPayout(a);\n      const _b = allPayout(b);\n      if (_a !== _b) {\n        return _b - _a;\n      }\n\n      return 0;\n    },\n    author_reputation: (a: Entry, b: Entry) => {\n      const keyA = a.author_reputation;\n      const keyB = b.author_reputation;\n\n      if (keyA > keyB) return -1;\n      if (keyA < keyB) return 1;\n\n      return 0;\n    },\n    votes: (a: Entry, b: Entry) => {\n      const keyA = a.children;\n      const keyB = b.children;\n\n      if (keyA > keyB) return -1;\n      if (keyA < keyB) return 1;\n\n      return 0;\n    },\n    created: (a: Entry, b: Entry) => {\n      if (absNegative(a)) {\n        return 1;\n      }\n\n      if (absNegative(b)) {\n        return -1;\n      }\n\n      const keyA = Date.parse(a.created);\n      const keyB = Date.parse(b.created);\n\n      if (keyA > keyB) return -1;\n      if (keyA < keyB) return 1;\n\n      return 0;\n    },\n  };\n\n  const sorted = discussion.sort(sortOrders[order]);\n  const pinnedIndex = sorted.findIndex((i) => isPinned(i));\n  const pinned = sorted[pinnedIndex];\n  if (pinnedIndex >= 0) {\n    sorted.splice(pinnedIndex, 1);\n    sorted.unshift(pinned);\n  }\n  return sorted;\n}\n\nexport function getDiscussionsQueryOptions(\n  entry: Entry,\n  order: SortOrder = SortOrder.created,\n  enabled: boolean = true,\n  observer?: string\n) {\n  return queryOptions({\n    queryKey: [\n      \"posts\",\n      \"discussions\",\n      entry?.author,\n      entry?.permlink,\n      order,\n      observer || entry?.author,\n    ],\n    queryFn: async () => {\n      if (!entry) {\n        return [];\n      }\n\n      const response = await CONFIG.hiveClient.call(\"bridge\", \"get_discussion\", {\n        author: entry.author,\n        permlink: entry.permlink,\n        observer: observer || entry.author,\n      });\n\n      const results = response\n        ? Array.from(Object.values(response as Record<string, Entry>))\n        : [];\n      return filterDmcaEntry(results);\n    },\n    enabled: enabled && !!entry,\n    select: (data) => sortDiscussions(entry, data, order),\n  });\n}\n\nexport function getDiscussionQueryOptions(\n  author: string,\n  permlink: string,\n  observer?: string,\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\"posts\", \"discussion\", author, permlink, observer || author],\n    enabled: enabled && !!author && !!permlink,\n    queryFn: async () =>\n      getDiscussion(author, permlink, observer) as Promise<Record<string, Entry> | null>,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\nimport { filterDmcaEntry } from \"../utils/filter-dmca-entries\";\nimport { getAccountPosts } from \"@/modules/bridge\";\n\ntype PageParam = {\n  author: string | undefined;\n  permlink: string | undefined;\n  hasNextPage: boolean;\n};\ntype Page = Entry[];\n\nexport function getAccountPostsInfiniteQueryOptions(\n  username: string | undefined,\n  filter = \"posts\",\n  limit = 20,\n  observer = \"\",\n  enabled = true\n) {\n  return infiniteQueryOptions<Page, Error, Page, (string | number)[], PageParam>({\n    queryKey: [\"posts\", \"account-posts\", username ?? \"\", filter, limit, observer],\n    enabled: !!username && enabled,\n    initialPageParam: {\n      author: undefined,\n      permlink: undefined,\n      hasNextPage: true,\n    } as PageParam,\n\n    queryFn: async ({ pageParam }) => {\n      if (!pageParam?.hasNextPage || !username) return [];\n\n      interface AccountPostsParams {\n        sort: string;\n        account: string;\n        limit: number;\n        observer?: string;\n        start_author?: string;\n        start_permlink?: string;\n      }\n\n      const rpcParams: AccountPostsParams = {\n        sort: filter,\n        account: username,\n        limit,\n        ...(observer && observer.length > 0 ? { observer } : {}),\n        ...(pageParam.author ? { start_author: pageParam.author } : {}),\n        ...(pageParam.permlink ? { start_permlink: pageParam.permlink } : {}),\n      };\n\n      try {\n        if (CONFIG.dmcaAccounts && CONFIG.dmcaAccounts.includes(username)) return [];\n\n        const resp = await CONFIG.hiveClient.call(\n          \"bridge\",\n          \"get_account_posts\",\n          rpcParams\n        );\n\n        if (resp && Array.isArray(resp)) {\n          return filterDmcaEntry(resp as Entry[]);\n        }\n        return [];\n      } catch (err) {\n        console.error(\"[SDK] get_account_posts error:\", err);\n        return [];\n      }\n    },\n\n    getNextPageParam: (lastPage: Page): PageParam | undefined => {\n      const last = lastPage?.[lastPage.length - 1];\n      // Only consider there's a next page if we got a full page of results\n      // A partial page means we've reached the end\n      const hasNextPage = (lastPage?.length ?? 0) === limit;\n\n      if (!hasNextPage) {\n        return undefined;\n      }\n\n      return {\n        author: last?.author,\n        permlink: last?.permlink,\n        hasNextPage,\n      };\n    },\n  });\n}\n\nexport function getAccountPostsQueryOptions(\n  username: string | undefined,\n  filter = \"posts\",\n  start_author: string = \"\",\n  start_permlink: string = \"\",\n  limit = 20,\n  observer = \"\",\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\n      \"posts\",\n      \"account-posts-page\",\n      username ?? \"\",\n      filter,\n      start_author,\n      start_permlink,\n      limit,\n      observer,\n    ],\n    enabled: !!username && enabled,\n    queryFn: async () => {\n      if (!username) {\n        return [];\n      }\n\n      const response = await getAccountPosts(\n        filter,\n        username,\n        start_author,\n        start_permlink,\n        limit,\n        observer\n      );\n\n      return filterDmcaEntry(response ?? []) as Entry[];\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\nimport { filterDmcaEntry } from \"../utils/filter-dmca-entries\";\nimport { getPostsRanked } from \"@/modules/bridge\";\n\ntype PageParam = {\n  author: string | undefined;\n  permlink: string | undefined;\n  hasNextPage: boolean;\n};\n\ninterface GetPostsRankedOptions {\n  resolvePosts?: boolean;\n}\n\nexport function getPostsRankedInfiniteQueryOptions(\n  sort: string,\n  tag: string,\n  limit = 20,\n  observer = \"\",\n  enabled = true,\n  _options: GetPostsRankedOptions = {}\n) {\n  return infiniteQueryOptions<Entry[], Error, Entry[], (string | number)[], PageParam>({\n    queryKey: [\"posts\", \"posts-ranked\", sort, tag, limit, observer],\n    queryFn: async ({ pageParam }: { pageParam: PageParam }) => {\n      if (!pageParam.hasNextPage) {\n        return [];\n      }\n\n      let sanitizedTag = tag;\n      if (CONFIG.dmcaTagRegexes.some((regex) => regex.test(tag))) {\n        sanitizedTag = \"\";\n      }\n\n      const response = await CONFIG.hiveClient.call(\"bridge\", \"get_ranked_posts\", {\n        sort,\n        start_author: pageParam.author,\n        start_permlink: pageParam.permlink,\n        limit,\n        tag: sanitizedTag,\n        observer,\n      });\n\n      if (response && Array.isArray(response)) {\n        const data = response as Entry[];\n\n        // Sort by created date unless it's \"hot\"\n        const sorted =\n          sort === \"hot\"\n            ? data\n            : data.sort(\n                (a, b) =>\n                  new Date(b.created).getTime() - new Date(a.created).getTime()\n              );\n\n        // Handle pinned entries\n        const pinnedEntry = sorted.find((s) => s.stats?.is_pinned);\n        const nonPinnedEntries = sorted.filter((s) => !s.stats?.is_pinned);\n\n        const combined = [pinnedEntry, ...nonPinnedEntries].filter((s) => !!s) as Entry[];\n        return filterDmcaEntry(combined);\n      }\n\n      return [];\n    },\n    enabled,\n    initialPageParam: {\n      author: undefined,\n      permlink: undefined,\n      hasNextPage: true,\n    } as PageParam,\n    getNextPageParam: (lastPage: Entry[]) => {\n      const last = lastPage?.[lastPage.length - 1];\n      return {\n        author: last?.author,\n        permlink: last?.permlink,\n        hasNextPage: (lastPage?.length ?? 0) > 0,\n      };\n    },\n  });\n}\n\nexport function getPostsRankedQueryOptions(\n  sort: string,\n  start_author: string = \"\",\n  start_permlink: string = \"\",\n  limit: number = 20,\n  tag: string = \"\",\n  observer: string = \"\",\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\n      \"posts\",\n      \"posts-ranked-page\",\n      sort,\n      start_author,\n      start_permlink,\n      limit,\n      tag,\n      observer,\n    ],\n    enabled,\n    queryFn: async () => {\n      let sanitizedTag = tag;\n      if (CONFIG.dmcaTagRegexes.some((regex) => regex.test(tag))) {\n        sanitizedTag = \"\";\n      }\n\n      const response = await getPostsRanked(\n        sort,\n        start_author,\n        start_permlink,\n        limit,\n        sanitizedTag,\n        observer\n      );\n\n      return filterDmcaEntry(response ?? []) as Entry[];\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport interface BlogEntry {\n  author: string;\n  permlink: string;\n  blog: string;\n  reblog_on: string;\n  reblogged_on: string;\n  entry_id: number;\n}\n\nexport interface Reblog {\n  author: string;\n  permlink: string;\n}\n\nexport function getReblogsQueryOptions(\n  username?: string,\n  activeUsername?: string,\n  limit = 200\n) {\n  return queryOptions({\n    queryKey: [\"posts\", \"reblogs\", username ?? \"\", limit],\n    queryFn: async () => {\n      const response = (await CONFIG.hiveClient.call(\"condenser_api\", \"get_blog_entries\", [\n        username ?? activeUsername,\n        0,\n        limit,\n      ])) as BlogEntry[];\n\n      return response\n        .filter(\n          (i) =>\n            i.author !== activeUsername &&\n            !i.reblogged_on.startsWith(\"1970-\")\n        )\n        .map((i) => ({ author: i.author, permlink: i.permlink })) as Reblog[];\n    },\n    enabled: !!username,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\n\n/**\n * Get list of usernames who reblogged a specific post\n */\nexport function getRebloggedByQueryOptions(author?: string, permlink?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"reblogged-by\", author ?? \"\", permlink ?? \"\"],\n    queryFn: async () => {\n      if (!author || !permlink) {\n        return [];\n      }\n\n      const response = (await CONFIG.hiveClient.call(\n        \"condenser_api\",\n        \"get_reblogged_by\",\n        [author, permlink]\n      )) as string[];\n\n      return Array.isArray(response) ? response : [];\n    },\n    enabled: !!author && !!permlink,\n  });\n}\n","import { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { Schedule } from \"../types/schedule\";\n\nexport function getSchedulesQueryOptions(activeUsername: string | undefined, code?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"schedules\", activeUsername],\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        return [];\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/schedules\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          code,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch schedules: ${response.status}`);\n      }\n\n      return response.json() as Promise<Schedule[]>;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n\nexport function getSchedulesInfiniteQueryOptions(\n  activeUsername: string | undefined,\n  code?: string,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"schedules\", \"infinite\", activeUsername, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!activeUsername || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/schedules?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            code,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch schedules: ${response.status}`);\n      }\n\n      const json = await response.json();\n      return normalizeToWrappedResponse<Schedule>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n","import { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { Draft } from \"../types/draft\";\n\nexport function getDraftsQueryOptions(activeUsername: string | undefined, code?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"drafts\", activeUsername],\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        return [];\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/drafts\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          code,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch drafts: ${response.status}`);\n      }\n\n      return response.json() as Promise<Draft[]>;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n\nexport function getDraftsInfiniteQueryOptions(\n  activeUsername: string | undefined,\n  code?: string,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"drafts\", \"infinite\", activeUsername, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!activeUsername || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/drafts?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            code,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch drafts: ${response.status}`);\n      }\n\n      const json = await response.json();\n      // Normalize response for backwards compatibility\n      // If backend doesn't support wrapped format yet, it returns Draft[]\n      return normalizeToWrappedResponse<Draft>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n","import { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG, getBoundFetch, normalizeToWrappedResponse } from \"@/modules/core\";\nimport { UserImage } from \"../types/user-image\";\n\nasync function fetchUserImages(code: string | undefined): Promise<UserImage[]> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/images\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      code,\n    }),\n  });\n\n  if (!response.ok) {\n    throw new Error(`Failed to fetch images: ${response.status}`);\n  }\n\n  return response.json() as Promise<UserImage[]>;\n}\n\nexport function getImagesQueryOptions(username?: string, code?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"images\", username],\n    queryFn: async () => {\n      if (!username || !code) {\n        return [];\n      }\n      return fetchUserImages(code);\n    },\n    enabled: !!username && !!code,\n  });\n}\n\nexport function getGalleryImagesQueryOptions(activeUsername: string | undefined, code?: string) {\n  return queryOptions({\n    queryKey: [\"posts\", \"gallery-images\", activeUsername],\n    queryFn: async () => {\n      if (!activeUsername || !code) {\n        return [];\n      }\n      return fetchUserImages(code);\n    },\n    enabled: !!activeUsername && !!code,\n  });\n}\n\nexport function getImagesInfiniteQueryOptions(\n  username: string | undefined,\n  code?: string,\n  limit: number = 10\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"images\", \"infinite\", username, limit],\n    queryFn: async ({ pageParam = 0 }) => {\n      if (!username || !code) {\n        return {\n          data: [],\n          pagination: {\n            total: 0,\n            limit,\n            offset: 0,\n            has_next: false,\n          },\n        };\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/images?format=wrapped&offset=${pageParam}&limit=${limit}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            code,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch images: ${response.status}`);\n      }\n\n      const json = await response.json();\n      return normalizeToWrappedResponse<UserImage>(json, limit);\n    },\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage.pagination.has_next) {\n        return lastPage.pagination.offset + lastPage.pagination.limit;\n      }\n      return undefined;\n    },\n    enabled: !!username && !!code,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { CommentHistory } from \"../types/comment-history\";\n\nexport function getCommentHistoryQueryOptions(author: string, permlink: string, onlyMeta = false) {\n  return queryOptions({\n    queryKey: [\"posts\", \"comment-history\", author, permlink, onlyMeta],\n    queryFn: async ({ signal }) => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/comment-history\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          author,\n          permlink,\n          onlyMeta: onlyMeta ? \"1\" : \"\",\n        }),\n        signal,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch comment history: ${response.status}`);\n      }\n\n      return response.json() as Promise<CommentHistory>;\n    },\n    enabled: !!author && !!permlink,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { CommentHistory } from \"../types/comment-history\";\n\nfunction makeEntryPath(author: string, permlink: string): string {\n  const cleanAuthor = author?.trim();\n  const cleanPermlink = permlink?.trim();\n\n  if (!cleanAuthor || !cleanPermlink) {\n    throw new Error(\"Invalid entry path: author and permlink are required\");\n  }\n\n  // Normalize by removing any leading @ or / characters\n  const normalizedAuthor = cleanAuthor.replace(/^@+/, \"\");\n  const normalizedPermlink = cleanPermlink.replace(/^\\/+/, \"\");\n\n  if (!normalizedAuthor || !normalizedPermlink) {\n    throw new Error(\"Invalid entry path: author and permlink cannot be empty after normalization\");\n  }\n\n  return `@${normalizedAuthor}/${normalizedPermlink}`;\n}\n\nexport interface DeletedEntry {\n  body: string;\n  title: string;\n  tags: string[];\n}\n\nexport function getDeletedEntryQueryOptions(author: string, permlink: string) {\n  const cleanPermlink = permlink?.trim();\n  const cleanAuthor = author?.trim();\n  const isValid =\n    !!cleanAuthor && !!cleanPermlink && cleanPermlink !== \"undefined\";\n\n  const entryPath = isValid ? makeEntryPath(cleanAuthor, cleanPermlink) : \"\";\n\n  return queryOptions({\n    queryKey: [\"posts\", \"deleted-entry\", entryPath],\n    queryFn: async ({ signal }) => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/comment-history\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          author,\n          permlink: cleanPermlink || \"\",\n        }),\n        signal,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch comment history: ${response.status}`);\n      }\n\n      return response.json() as Promise<CommentHistory>;\n    },\n    select: (history): DeletedEntry | null => {\n      if (!history?.list?.[0]) {\n        return null;\n      }\n      const { body, title, tags } = history.list[0];\n      return {\n        body,\n        title,\n        tags,\n      };\n    },\n    enabled: isValid,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { PostTipsResponse } from \"../types/post-tip\";\n\nexport function getPostTipsQueryOptions(author: string, permlink: string, isEnabled = true) {\n  return queryOptions({\n    queryKey: [\"posts\", \"tips\", author, permlink],\n    queryFn: async () => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/post-tips\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          author,\n          permlink,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch post tips: ${response.status}`);\n      }\n\n      return response.json() as Promise<PostTipsResponse>;\n    },\n    enabled: !!author && !!permlink && isEnabled,\n  });\n}\n","import { Entry, WaveEntry } from \"../types\";\nimport { getDiscussionsQueryOptions, SortOrder } from \"../queries/get-discussions-query-options\";\nimport { CONFIG } from \"@/modules/core\";\n\ntype EntryWithPostId = Entry & { post_id: number };\n\nfunction normalizeContainer(entry: EntryWithPostId, host: string): WaveEntry {\n  return {\n    ...entry,\n    id: entry.id ?? entry.post_id,\n    host\n  } as WaveEntry;\n}\n\nfunction normalizeParent(entry: EntryWithPostId): Entry {\n  return {\n    ...entry,\n    id: entry.id ?? entry.post_id\n  } as Entry;\n}\n\nexport function normalizeWaveEntryFromApi(\n  entry:\n    | (Entry & { post_id: number; container?: EntryWithPostId | null; parent?: EntryWithPostId | null })\n    | null\n    | undefined,\n  host: string\n): WaveEntry | null {\n  if (!entry) {\n    return null;\n  }\n\n  const containerSource = entry.container ?? entry;\n  const container = normalizeContainer(containerSource, host);\n\n  const parent = entry.parent ? normalizeParent(entry.parent) : undefined;\n\n  return {\n    ...entry,\n    id: entry.id ?? entry.post_id,\n    host,\n    container,\n    parent\n  } as WaveEntry;\n}\n\nexport function toEntryArray(x: unknown): Entry[] {\n  return Array.isArray(x) ? (x as Entry[]) : [];\n}\n\nexport async function getVisibleFirstLevelThreadItems(\n  container: WaveEntry\n): Promise<Entry[]> {\n  const queryOptions = getDiscussionsQueryOptions(container, SortOrder.created, true);\n  const discussionItemsRaw = await CONFIG.queryClient.fetchQuery(queryOptions);\n  const discussionItems = toEntryArray(discussionItemsRaw);\n\n  if (discussionItems.length <= 1) {\n    return [];\n  }\n\n  const firstLevelItems = discussionItems.filter(\n    ({ parent_author, parent_permlink }) =>\n      parent_author === container.author && parent_permlink === container.permlink\n  );\n\n  if (firstLevelItems.length === 0) {\n    return [];\n  }\n\n  const visibleItems = firstLevelItems.filter((item) => !item.stats?.gray);\n\n  return visibleItems;\n}\n\nexport function mapThreadItemsToWaveEntries(\n  items: Entry[],\n  container: WaveEntry,\n  host: string\n): WaveEntry[] {\n  if (items.length === 0) {\n    return [];\n  }\n\n  return items\n    .map((item) => {\n      const parent = items.find(\n        (i) =>\n          i.author === item.parent_author &&\n          i.permlink === item.parent_permlink &&\n          i.author !== host\n      );\n\n      return {\n        ...item,\n        id: item.post_id,\n        host,\n        container,\n        parent\n      } as WaveEntry;\n    })\n    .filter((entry) => entry.container.post_id !== entry.post_id)\n    .sort(\n      (a, b) => new Date(b.created).getTime() - new Date(a.created).getTime()\n    );\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { WaveEntry } from \"../types\";\nimport {\n  getVisibleFirstLevelThreadItems,\n  mapThreadItemsToWaveEntries\n} from \"../utils/waves-helpers\";\n\nconst THREAD_CONTAINER_BATCH_SIZE = 5;\nconst MAX_CONTAINERS_TO_SCAN = 50;\n\ninterface ThreadsResult {\n  entries: WaveEntry[];\n}\n\nasync function getThreads(\n  host: string,\n  pageParam?: WaveEntry\n): Promise<ThreadsResult | null> {\n  let startAuthor = pageParam?.author;\n  let startPermlink = pageParam?.permlink;\n  let scannedContainers = 0;\n  let skipContainerId = pageParam?.post_id;\n\n  while (scannedContainers < MAX_CONTAINERS_TO_SCAN) {\n    interface AccountPostsParams {\n      sort: string;\n      account: string;\n      limit: number;\n      start_author?: string;\n      start_permlink?: string;\n    }\n\n    const rpcParams: AccountPostsParams = {\n      sort: \"posts\", // ProfileFilter.posts\n      account: host,\n      limit: THREAD_CONTAINER_BATCH_SIZE,\n      ...(startAuthor ? { start_author: startAuthor } : {}),\n      ...(startPermlink ? { start_permlink: startPermlink } : {})\n    };\n\n    const containers = (await CONFIG.hiveClient.call(\n      \"bridge\",\n      \"get_account_posts\",\n      rpcParams\n    )) as WaveEntry[]; // API shape is known\n\n    if (!containers || containers.length === 0) {\n      return null;\n    }\n\n    const normalizedContainers = containers.map((container) => {\n      container.id = container.post_id;\n      container.host = host;\n      return container;\n    });\n\n    for (const container of normalizedContainers) {\n      if (skipContainerId && container.post_id === skipContainerId) {\n        skipContainerId = undefined;\n        continue;\n      }\n\n      scannedContainers += 1;\n\n      if (container.stats?.gray) {\n        startAuthor = container.author;\n        startPermlink = container.permlink;\n        continue;\n      }\n\n      const visibleItems = await getVisibleFirstLevelThreadItems(container);\n\n      if (visibleItems.length === 0) {\n        startAuthor = container.author;\n        startPermlink = container.permlink;\n        continue;\n      }\n\n      return {\n        entries: mapThreadItemsToWaveEntries(visibleItems, container, host)\n      };\n    }\n\n    const lastContainer = normalizedContainers[normalizedContainers.length - 1];\n\n    if (!lastContainer) {\n      return null;\n    }\n\n    startAuthor = lastContainer.author;\n    startPermlink = lastContainer.permlink;\n  }\n\n  return null;\n}\n\n// Page = array of WaveEntry; Cursor = WaveEntry (container) or undefined\ntype WavesPage = WaveEntry[];\ntype WavesCursor = WaveEntry | undefined;\n\nexport function getWavesByHostQueryOptions(host: string) {\n  return infiniteQueryOptions<WavesPage, Error, WavesPage, string[], WavesCursor>({\n    queryKey: [\"posts\", \"waves\", \"by-host\", host],\n    initialPageParam: undefined as WavesCursor,\n\n    queryFn: async ({ pageParam }: { pageParam: WavesCursor }) => {\n      const result = await getThreads(host, pageParam);\n      if (!result) return []; // no items to show for this page\n\n      return result.entries;\n    },\n\n    getNextPageParam: (lastPage: WavesPage): WavesCursor => lastPage?.[0]?.container\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { ConfigManager } from \"@/modules/core\";\nimport { Entry, WaveEntry } from \"../types\";\nimport { normalizeWaveEntryFromApi } from \"../utils/waves-helpers\";\n\ntype WavesTagEntryResponse = Entry & {\n  post_id: number;\n  container?: (Entry & { post_id: number }) | null;\n  parent?: (Entry & { post_id: number }) | null;\n};\n\nconst DEFAULT_TAG_FEED_LIMIT = 40;\n\nexport function getWavesByTagQueryOptions(host: string, tag: string, limit = DEFAULT_TAG_FEED_LIMIT) {\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"waves\", \"by-tag\", host, tag],\n    initialPageParam: undefined,\n\n    queryFn: async ({ signal }) => {\n      try {\n        const baseUrl = ConfigManager.getValidatedBaseUrl();\n        const url = new URL(\"/private-api/waves/tags\", baseUrl);\n        url.searchParams.set(\"container\", host);\n        url.searchParams.set(\"tag\", tag);\n\n        const response = await fetch(url.toString(), {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          signal,\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch waves by tag: ${response.status}`);\n        }\n\n        const data = await response.json() as WavesTagEntryResponse[];\n\n        const result = data\n          .slice(0, limit)\n          .map((entry) => normalizeWaveEntryFromApi(entry, host))\n          .filter((entry): entry is WaveEntry => Boolean(entry));\n\n        return result.sort(\n          (a, b) => new Date(b.created).getTime() - new Date(a.created).getTime()\n        );\n      } catch (error) {\n        console.error(\"[SDK] Failed to fetch waves by tag\", error);\n        return [];\n      }\n    },\n\n    getNextPageParam: () => undefined\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { ConfigManager } from \"@/modules/core\";\nimport { Entry, WaveEntry } from \"../types\";\nimport { normalizeWaveEntryFromApi } from \"../utils/waves-helpers\";\n\ntype WavesFollowingEntry = Entry & {\n  post_id: number;\n  container?: (Entry & { post_id: number }) | null;\n  parent?: (Entry & { post_id: number }) | null;\n};\n\nexport function getWavesFollowingQueryOptions(host: string, username?: string) {\n  const normalizedUsername = username?.trim().toLowerCase();\n\n  return infiniteQueryOptions({\n    queryKey: [\"posts\", \"waves\", \"following\", host, normalizedUsername ?? \"\"],\n    enabled: Boolean(normalizedUsername),\n    initialPageParam: undefined,\n\n    queryFn: async ({ signal }) => {\n      if (!normalizedUsername) {\n        return [];\n      }\n\n      try {\n        const baseUrl = ConfigManager.getValidatedBaseUrl();\n        const url = new URL(\"/private-api/waves/following\", baseUrl);\n        url.searchParams.set(\"container\", host);\n        url.searchParams.set(\"username\", normalizedUsername);\n\n        const response = await fetch(url.toString(), {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          signal,\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch waves following feed: ${response.status}`);\n        }\n\n        const data = await response.json() as WavesFollowingEntry[];\n\n        if (!Array.isArray(data) || data.length === 0) {\n          return [];\n        }\n\n        const flattened = data\n          .map((entry) => normalizeWaveEntryFromApi(entry, host))\n          .filter((entry): entry is WaveEntry => Boolean(entry));\n\n        if (flattened.length === 0) {\n          return [];\n        }\n\n        return flattened.sort(\n          (a, b) => new Date(b.created).getTime() - new Date(a.created).getTime()\n        );\n      } catch (error) {\n        console.error(\"[SDK] Failed to fetch waves following feed\", error);\n        return [];\n      }\n    },\n\n    getNextPageParam: () => undefined\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { ConfigManager } from \"@/modules/core\";\nimport { WaveTrendingTag } from \"../types\";\n\ninterface WavesTrendingTagResponse {\n  tag: string;\n  posts: number;\n}\n\nexport function getWavesTrendingTagsQueryOptions(host: string, hours = 24) {\n  return queryOptions({\n    queryKey: [\"posts\", \"waves\", \"trending-tags\", host, hours],\n    queryFn: async ({ signal }): Promise<WaveTrendingTag[]> => {\n      try {\n        const baseUrl = ConfigManager.getValidatedBaseUrl();\n        const url = new URL(\"/private-api/waves/trending/tags\", baseUrl);\n        url.searchParams.set(\"container\", host);\n        url.searchParams.set(\"hours\", hours.toString());\n\n        const response = await fetch(url.toString(), {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          signal,\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch waves trending tags: ${response.status}`);\n        }\n\n        const data = await response.json() as WavesTrendingTagResponse[];\n\n        return data.map(({ tag, posts }) => ({ tag, posts }));\n      } catch (error) {\n        console.error(\"[SDK] Failed to fetch waves trending tags\", error);\n        return [];\n      }\n    }\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { Entry } from \"../types\";\nimport { normalizePost } from \"@/modules/bridge\";\n\nexport function getNormalizePostQueryOptions(\n  post: { author?: string; permlink?: string } | undefined,\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\n      \"posts\",\n      \"normalize\",\n      post?.author ?? \"\",\n      post?.permlink ?? \"\",\n    ],\n    enabled: enabled && !!post,\n    queryFn: async () => normalizePost(post) as Promise<Entry | null>,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Entry } from \"@/modules/posts/types\";\nimport { getPostQueryOptions } from \"@/modules/posts/queries\";\n\ninterface VoteOperationDetails {\n  voter: string;\n  author: string;\n  permlink: string;\n  weight: number;\n}\n\ninterface AccountVoteHistoryItem {\n  timestamp: string;\n  op: [string, VoteOperationDetails];\n}\n\ntype AccountVoteHistoryRecord = [number, AccountVoteHistoryItem];\n\ninterface VoteHistoryResult extends VoteOperationDetails {\n  num: number;\n  timestamp: string;\n}\n\nexport interface VoteHistoryPageParam {\n  start: number;\n}\n\nexport interface VoteHistoryPage {\n  lastDate: number;\n  lastItemFetched: number;\n  entries: Entry[];\n}\n\nfunction isEntry(x: unknown): x is Entry {\n  return (\n    !!x &&\n    typeof x === \"object\" &&\n    \"author\" in x &&\n    \"permlink\" in x &&\n    \"active_votes\" in x\n  );\n}\n\n/**\n * Calculate days since a date\n */\nfunction getDays(createdDate: string): number {\n  const past = new Date(createdDate);\n  const now = new Date();\n  const diffMs = now.getTime() - past.getTime();\n  return diffMs / (1000 * 60 * 60 * 24);\n}\n\n/**\n * Get account vote history with entries\n *\n * @param username - Account name to get vote history for\n * @param limit - Number of history items per page (default: 20)\n * @param filters - Additional filters to pass to get_account_history\n * @param dayLimit - Only include votes from last N days (default: 7)\n */\nexport function getAccountVoteHistoryInfiniteQueryOptions<F>(\n  username: string,\n  options?: {\n    limit?: number;\n    filters?: F[];\n    dayLimit?: number;\n  }\n) {\n  const { limit = 20, filters = [], dayLimit = 7.0 } = options ?? {};\n\n  return infiniteQueryOptions<\n    VoteHistoryPage,\n    Error,\n    VoteHistoryPage,\n    (string | number)[],\n    VoteHistoryPageParam\n  >({\n    queryKey: [\"accounts\", \"vote-history\", username, limit],\n    initialPageParam: { start: -1 },\n\n    queryFn: async ({ pageParam }: { pageParam: VoteHistoryPageParam }) => {\n      const { start } = pageParam;\n\n      const response = (await CONFIG.hiveClient.call(\n        \"condenser_api\",\n        \"get_account_history\",\n        [username, start, limit, ...filters]\n      )) as AccountVoteHistoryRecord[];\n\n      const mappedResults: VoteHistoryResult[] = response.map(([num, historyObj]) => ({\n        ...historyObj.op[1],\n        num,\n        timestamp: historyObj.timestamp,\n      }));\n\n      const result = mappedResults.filter(\n        (filtered) =>\n          filtered.voter === username &&\n          filtered.weight !== 0 &&\n          getDays(filtered.timestamp) <= dayLimit\n      );\n\n      const entries: Entry[] = [];\n      for (const obj of result) {\n        const post = await CONFIG.queryClient.fetchQuery(\n          getPostQueryOptions(obj.author, obj.permlink)\n        );\n        if (isEntry(post)) entries.push(post);\n      }\n\n      const [firstHistory] = response;\n\n      return {\n        lastDate: firstHistory ? getDays(firstHistory[1].timestamp) : 0,\n        lastItemFetched: firstHistory ? firstHistory[0] : start,\n        entries,\n      };\n    },\n\n    getNextPageParam: (lastPage: VoteHistoryPage): VoteHistoryPageParam => ({\n      start: lastPage.lastItemFetched,\n    }),\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { Profile } from \"../types\";\nimport { getProfiles } from \"@/modules/bridge\";\n\nexport function getProfilesQueryOptions(\n  accounts: string[],\n  observer?: string,\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\"accounts\", \"profiles\", accounts, observer ?? \"\"],\n    enabled: enabled && accounts.length > 0,\n    queryFn: async () => getProfiles(accounts, observer) as Promise<Profile[]>,\n  });\n}\n","import { useBroadcastMutation } from \"@/modules/core\";\nimport type { AuthContext } from \"@/modules/core/types\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport * as R from \"remeda\";\nimport { getAccountFullQueryOptions } from \"../queries\";\nimport { AccountProfile, FullAccount } from \"../types\";\nimport {\n  buildProfileMetadata,\n  extractAccountProfile,\n} from \"../utils/profile-metadata\";\n\ninterface Payload {\n  profile: Partial<AccountProfile>;\n  tokens: AccountProfile[\"tokens\"];\n}\n\nexport function useAccountUpdate(\n  username: string,\n  auth?: AuthContext\n) {\n  const queryClient = useQueryClient();\n\n  const { data } = useQuery(getAccountFullQueryOptions(username));\n\n  return useBroadcastMutation(\n    [\"accounts\", \"update\"],\n    username,\n    (payload: Partial<Payload>) => {\n      if (!data) {\n        throw new Error(\"[SDK][Accounts]  cannot update not existing account\");\n      }\n\n      const profile = buildProfileMetadata({\n        existingProfile: extractAccountProfile(data),\n        profile: payload.profile,\n        tokens: payload.tokens,\n      });\n\n      return [\n        [\n          \"account_update2\",\n          {\n            account: username,\n            json_metadata: \"\",\n            extensions: [],\n            posting_json_metadata: JSON.stringify({\n              profile,\n            }),\n          },\n        ],\n      ];\n    },\n    (_data: unknown, variables: Partial<Payload>) =>\n      queryClient.setQueryData<FullAccount>(\n        getAccountFullQueryOptions(username).queryKey,\n        (data) => {\n          if (!data) {\n            return data;\n          }\n\n          const obj = R.clone(data);\n          obj.profile = buildProfileMetadata({\n            existingProfile: extractAccountProfile(data),\n            profile: variables.profile,\n            tokens: variables.tokens,\n          });\n\n          return obj;\n        }\n      ),\n    auth\n  );\n}\n","import { broadcastJson, getQueryClient } from \"@/modules/core\";\nimport type { AuthContext } from \"@/modules/core/types\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { getRelationshipBetweenAccountsQueryOptions, getAccountFullQueryOptions } from \"../queries\";\nimport { AccountRelationship } from \"../types\";\n\ntype Kind = \"toggle-ignore\" | \"toggle-follow\";\n\nexport function useAccountRelationsUpdate(\n  reference: string | undefined,\n  target: string | undefined,\n  auth: AuthContext | undefined,\n  onSuccess: (data: Partial<AccountRelationship> | undefined) => void,\n  onError: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"accounts\", \"relation\", \"update\", reference, target],\n    mutationFn: async (kind: Kind) => {\n      const relationsQuery = getRelationshipBetweenAccountsQueryOptions(\n        reference,\n        target\n      );\n      await getQueryClient().prefetchQuery(relationsQuery);\n      const actualRelation = getQueryClient().getQueryData(\n        relationsQuery.queryKey\n      );\n\n      await broadcastJson(\n        reference,\n        \"follow\",\n        [\n        \"follow\",\n        {\n          follower: reference,\n          following: target,\n          what: [\n            ...(kind === \"toggle-ignore\" && !actualRelation?.ignores\n              ? [\"ignore\"]\n              : []),\n            ...(kind === \"toggle-follow\" && !actualRelation?.follows\n              ? [\"blog\"]\n              : []),\n          ],\n        },\n        ],\n        auth\n      );\n\n      return {\n        ...actualRelation,\n        ignores:\n          kind === \"toggle-ignore\"\n            ? !actualRelation?.ignores\n            : actualRelation?.ignores,\n        follows:\n          kind === \"toggle-follow\"\n            ? !actualRelation?.follows\n            : actualRelation?.follows,\n      } satisfies Partial<AccountRelationship>;\n    },\n    onError,\n    onSuccess(data) {\n      onSuccess(data);\n\n      getQueryClient().setQueryData(\n        [\"accounts\", \"relations\", reference, target],\n        data\n      );\n\n      // Invalidate account query to refetch follow stats (follower_count, following_count)\n      // This is needed because profile pages use staleTime: Infinity for performance\n      if (target) {\n        getQueryClient().invalidateQueries(\n          getAccountFullQueryOptions(target)\n        );\n      }\n    },\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\n\ninterface Payload {\n  author: string;\n  permlink: string;\n}\n\nexport function useBookmarkAdd(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess: () => void,\n  onError: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"accounts\", \"bookmarks\", \"add\", username],\n    mutationFn: async ({ author, permlink }: Payload) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Account][Bookmarks]  missing auth\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/bookmarks-add\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            author,\n            permlink,\n            code,\n          }),\n        }\n      );\n      return response.json();\n    },\n    onSuccess: () => {\n      onSuccess();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"accounts\", \"bookmarks\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nexport function useBookmarkDelete(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess: () => void,\n  onError: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"accounts\", \"bookmarks\", \"delete\", username],\n    mutationFn: async (bookmarkId: string) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Account][Bookmarks]  missing auth\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/bookmarks-delete\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            id: bookmarkId,\n            code,\n          }),\n        }\n      );\n      return response.json();\n    },\n    onSuccess: () => {\n      onSuccess();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"accounts\", \"bookmarks\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nexport function useAccountFavouriteAdd(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess: () => void,\n  onError: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"accounts\", \"favourites\", \"add\", username],\n    mutationFn: async (account: string) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Account][Bookmarks]  missing auth\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/favorites-add\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            account,\n            code,\n          }),\n        }\n      );\n      return response.json();\n    },\n    onSuccess: () => {\n      onSuccess();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"accounts\", \"favourites\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nexport function useAccountFavouriteDelete(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess: () => void,\n  onError: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"accounts\", \"favourites\", \"add\", username],\n    mutationFn: async (account: string) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Account][Bookmarks]  missing auth\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/favorites-delete\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            account,\n            code,\n          }),\n        }\n      );\n      return response.json();\n    },\n    onSuccess: () => {\n      onSuccess();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"accounts\", \"favourites\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { AuthorityType, PrivateKey } from \"@hiveio/dhive\";\nimport {\n  useMutation,\n  useQuery,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport * as R from \"remeda\";\nimport { getAccountFullQueryOptions } from \"../queries\";\n\nexport interface Keys {\n  owner: PrivateKey;\n  active: PrivateKey;\n  posting: PrivateKey;\n  memo_key: PrivateKey;\n}\n\ninterface Payload {\n  keepCurrent?: boolean;\n  currentKey: PrivateKey;\n  keys: Keys[];\n  keysToRevoke?: string[]; // Deprecated: will be treated as revoking from all authorities\n  keysToRevokeByAuthority?: Partial<Record<keyof Keys, string[]>>; // Authority-specific revocation\n}\n\nexport function dedupeAndSortKeyAuths(\n  existing: AuthorityType[\"key_auths\"],\n  additions: [string, number][]\n): AuthorityType[\"key_auths\"] {\n  const merged = new Map<string, number>();\n\n  existing.forEach(([key, weight]) => {\n    merged.set(key.toString(), weight);\n  });\n\n  additions.forEach(([key, weight]) => {\n    merged.set(key.toString(), weight);\n  });\n\n  return Array.from(merged.entries())\n    .sort(([keyA], [keyB]) => keyA.localeCompare(keyB))\n    .map(([key, weight]) => [key, weight] as [string, number]);\n}\n\ntype UpdateKeyAuthsOptions = Pick<\n  UseMutationOptions<unknown, Error, Payload>,\n  \"onSuccess\" | \"onError\"\n>;\n\nexport function useAccountUpdateKeyAuths(\n  username: string,\n  options?: UpdateKeyAuthsOptions\n) {\n  const { data: accountData } = useQuery(getAccountFullQueryOptions(username));\n\n  return useMutation({\n    mutationKey: [\"accounts\", \"keys-update\", username],\n    mutationFn: async ({\n      keys,\n      keepCurrent = false,\n      currentKey,\n      keysToRevoke = [],\n      keysToRevokeByAuthority = {}\n    }: Payload) => {\n      if (keys.length === 0) {\n        throw new Error(\n          \"[SDK][Update password]  no new keys provided\"\n        );\n      }\n\n      if (!accountData) {\n        throw new Error(\n          \"[SDK][Update password]  cannot update keys for anon user\"\n        );\n      }\n\n      const prepareAuth = (keyName: keyof Keys) => {\n        const auth: AuthorityType = R.clone(accountData[keyName]);\n\n        // Get keys to revoke for this specific authority\n        const keysToRevokeForAuthority = keysToRevokeByAuthority[keyName] || [];\n        // Fallback to global keysToRevoke for backwards compatibility\n        const allKeysToRevoke = [\n          ...keysToRevokeForAuthority,\n          ...(keysToRevokeByAuthority[keyName] === undefined ? keysToRevoke : [])\n        ];\n\n        // Filter out keys to revoke from existing keys (authority-specific)\n        const existingKeys = keepCurrent\n          ? auth.key_auths.filter(([key]) => !allKeysToRevoke.includes(key.toString()))\n          : [];\n\n        auth.key_auths = dedupeAndSortKeyAuths(\n          existingKeys,\n          keys.map(\n            (values, i) =>\n              [values[keyName].createPublic().toString(), i + 1] as [\n                string,\n                number,\n              ]\n          )\n        );\n\n        return auth;\n      };\n\n      return CONFIG.hiveClient.broadcast.updateAccount(\n        {\n          account: username,\n          json_metadata: accountData.json_metadata,\n          owner: prepareAuth(\"owner\"),\n          active: prepareAuth(\"active\"),\n          posting: prepareAuth(\"posting\"),\n          // Always use new memo key when adding new keys\n          memo_key: keys[0].memo_key.createPublic().toString(),\n        },\n        currentKey\n      );\n    },\n    ...options,\n  });\n}\n","import { PrivateKey } from \"@hiveio/dhive\";\nimport {\n  useMutation,\n  useQuery,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport { getAccountFullQueryOptions } from \"../queries\";\nimport { useAccountUpdateKeyAuths } from \"./use-account-update-key-auths\";\n\ninterface Payload {\n  newPassword: string;\n  currentPassword: string;\n  keepCurrent?: boolean;\n}\n\n/**\n * Only native Hive and custom passwords could be updated here\n * Seed based password cannot be updated here, it will be in an account always for now\n */\ntype UpdatePasswordOptions = Pick<\n  UseMutationOptions<unknown, Error, Payload>,\n  \"onSuccess\" | \"onError\"\n>;\n\nexport function useAccountUpdatePassword(\n  username: string,\n  options?: UpdatePasswordOptions\n) {\n  const { data: accountData } = useQuery(getAccountFullQueryOptions(username));\n\n  const { mutateAsync: updateKeys } = useAccountUpdateKeyAuths(username);\n\n  return useMutation({\n    mutationKey: [\"accounts\", \"password-update\", username],\n    mutationFn: async ({\n      newPassword,\n      currentPassword,\n      keepCurrent,\n    }: Payload) => {\n      if (!accountData) {\n        throw new Error(\n          \"[SDK][Update password]  cannot update password for anon user\"\n        );\n      }\n      const currentKey = PrivateKey.fromLogin(\n        username,\n        currentPassword,\n        \"owner\"\n      );\n\n      return updateKeys({\n        currentKey,\n        keepCurrent,\n        keys: [\n          {\n            owner: PrivateKey.fromLogin(username, newPassword, \"owner\"),\n            active: PrivateKey.fromLogin(username, newPassword, \"active\"),\n            posting: PrivateKey.fromLogin(username, newPassword, \"posting\"),\n            memo_key: PrivateKey.fromLogin(username, newPassword, \"memo\"),\n          },\n        ],\n      });\n    },\n    ...options,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { PrivateKey } from \"@hiveio/dhive\";\nimport {\n  useMutation,\n  useQuery,\n  useQueryClient,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport { getAccountFullQueryOptions } from \"../queries\";\nimport * as R from \"remeda\";\nimport { FullAccount } from \"../types\";\nimport hs from \"hivesigner\";\nimport type { AuthContext } from \"@/modules/core/types\";\n\ntype SignType = \"key\" | \"keychain\" | \"hivesigner\";\n\ninterface CommonPayload {\n  accountName: string;\n  type: SignType;\n  key?: PrivateKey;\n}\n\ntype RevokePostingOptions = Pick<\n  UseMutationOptions<unknown, Error, CommonPayload>,\n  \"onSuccess\" | \"onError\"\n>;\n\nexport function useAccountRevokePosting(\n  username: string | undefined,\n  options: RevokePostingOptions,\n  auth?: AuthContext\n) {\n  const queryClient = useQueryClient();\n\n  const { data } = useQuery(getAccountFullQueryOptions(username));\n\n  return useMutation({\n    mutationKey: [\"accounts\", \"revoke-posting\", data?.name],\n    mutationFn: async ({ accountName, type, key }: CommonPayload) => {\n      if (!data) {\n        throw new Error(\n          \"[SDK][Accounts] cannot revoke posting for anonymous user\"\n        );\n      }\n\n      const posting = R.pipe(\n        {},\n        R.mergeDeep(data.posting)\n      ) as FullAccount[\"posting\"];\n\n      posting.account_auths = posting.account_auths.filter(\n        ([account]) => account !== accountName\n      );\n\n      const operationBody = {\n        account: data.name,\n        posting,\n        memo_key: data.memo_key,\n        json_metadata: data.json_metadata,\n      };\n\n      if (type === \"key\" && key) {\n        return CONFIG.hiveClient.broadcast.updateAccount(operationBody, key);\n      } else if (type === \"keychain\") {\n        if (!auth?.broadcast) {\n          throw new Error(\"[SDK][Accounts]  missing keychain broadcaster\");\n        }\n        return auth.broadcast([[\"account_update\", operationBody]], \"active\");\n      } else {\n        const params = {\n          callback: `https://ecency.com/@${data.name}/permissions`,\n        };\n        return hs.sendOperation(\n          [\"account_update\", operationBody],\n          params,\n          () => {}\n        );\n      }\n    },\n    onError: options.onError,\n    onSuccess: (resp, payload, ctx) => {\n      (options.onSuccess as\n        | ((data: unknown, variables: CommonPayload, context: unknown) => unknown)\n        | undefined)?.(resp, payload, ctx);\n      queryClient.setQueryData<FullAccount>(\n        getAccountFullQueryOptions(username).queryKey,\n        (data) =>\n          ({\n            ...data,\n            posting: {\n              ...data?.posting,\n              account_auths:\n                data?.posting?.account_auths?.filter(\n                  ([account]) => account !== payload.accountName\n                ) ?? [],\n            },\n          }) as FullAccount\n      );\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { PrivateKey } from \"@hiveio/dhive\";\nimport {\n  useMutation,\n  useQuery,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport hs from \"hivesigner\";\nimport { getAccountFullQueryOptions } from \"../queries\";\nimport type { AuthContext } from \"@/modules/core/types\";\n\ntype SignType = \"key\" | \"keychain\" | \"hivesigner\" | \"ecency\";\n\ninterface CommonPayload {\n  accountName: string;\n  type: SignType;\n  key?: PrivateKey;\n  email?: string;\n}\n\ntype UpdateRecoveryOptions = Pick<\n  UseMutationOptions<unknown, Error, CommonPayload>,\n  \"onSuccess\" | \"onError\"\n>;\n\nexport function useAccountUpdateRecovery(\n  username: string | undefined,\n  code: string | undefined,\n  options: UpdateRecoveryOptions,\n  auth?: AuthContext\n) {\n  const { data } = useQuery(getAccountFullQueryOptions(username));\n\n  return useMutation({\n    mutationKey: [\"accounts\", \"recovery\", data?.name],\n    mutationFn: async ({ accountName, type, key, email }: CommonPayload) => {\n      if (!data) {\n        throw new Error(\n          \"[SDK][Accounts] cannot change recovery for anonymous user\"\n        );\n      }\n\n      const operationBody = {\n        account_to_recover: data.name,\n        new_recovery_account: accountName,\n        extensions: [],\n      };\n\n      if (type === \"ecency\") {\n        if (!code) {\n          throw new Error(\"[SDK][Accounts]  missing access token\");\n        }\n        const fetchApi = getBoundFetch();\n\n        return fetchApi(CONFIG.privateApiHost + \"/private-api/recoveries-add\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            code,\n            email,\n            publicKeys: [\n              ...data.owner.key_auths,\n              ...data.active.key_auths,\n              ...data.posting.key_auths,\n              data.memo_key,\n            ],\n          }),\n        });\n      } else if (type === \"key\" && key) {\n        return CONFIG.hiveClient.broadcast.sendOperations(\n          [[\"change_recovery_account\", operationBody]],\n          key\n        );\n      } else if (type === \"keychain\") {\n        if (!auth?.broadcast) {\n          throw new Error(\"[SDK][Accounts]  missing keychain broadcaster\");\n        }\n        return auth.broadcast([[\"change_recovery_account\", operationBody]], \"owner\");\n      } else {\n        const params = {\n          callback: `https://ecency.com/@${data.name}/permissions`,\n        };\n        return hs.sendOperation(\n          [\"change_recovery_account\", operationBody],\n          params,\n          () => {}\n        );\n      }\n    },\n    onError: options.onError,\n    onSuccess: options.onSuccess,\n  });\n}\n","import { AuthorityType, PrivateKey, PublicKey } from \"@hiveio/dhive\";\nimport {\n  useMutation,\n  useQuery,\n  type UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport { getAccountFullQueryOptions } from \"../queries\";\nimport * as R from \"remeda\";\nimport { CONFIG } from \"@/modules/core\";\nimport { Keys } from \"./use-account-update-key-auths\";\n\ninterface Payload {\n  currentKey: PrivateKey;\n  revokingKey: PublicKey;\n}\n\n/**\n * This hook provides functionality to revoke a key from an account on the Hive blockchain.\n * It leverages React Query's `useMutation` for managing the mutation state and executing\n * the operation efficiently.\n *\n * @param username The username of the Hive account from which the key should be revoked.\n *                 Pass `undefined` if the username is unknown or not set yet.\n *\n * @returns The mutation object from `useMutation`, including methods to trigger the key\n *          revocation and access its state (e.g., loading, success, error).\n */\ntype RevokeKeyOptions = Pick<\n  UseMutationOptions<unknown, Error, Payload>,\n  \"onSuccess\" | \"onError\"\n>;\n\nexport function useAccountRevokeKey(\n  username: string | undefined,\n  options?: RevokeKeyOptions\n) {\n  const { data: accountData } = useQuery(getAccountFullQueryOptions(username));\n\n  return useMutation({\n    mutationKey: [\"accounts\", \"revoke-key\", accountData?.name],\n    mutationFn: async ({ currentKey, revokingKey }: Payload) => {\n      if (!accountData) {\n        throw new Error(\n          \"[SDK][Update password]  cannot update keys for anon user\"\n        );\n      }\n\n      const prepareAuth = (keyName: keyof Keys) => {\n        const auth: AuthorityType = R.clone(accountData[keyName]);\n\n        auth.key_auths = auth.key_auths.filter(\n          ([key]) => key !== revokingKey.toString()\n        );\n\n        return auth;\n      };\n\n      return CONFIG.hiveClient.broadcast.updateAccount(\n        {\n          account: accountData.name,\n          json_metadata: accountData.json_metadata,\n          owner: prepareAuth(\"owner\"),\n          active: prepareAuth(\"active\"),\n          posting: prepareAuth(\"posting\"),\n          memo_key: accountData.memo_key,\n        },\n        currentKey\n      );\n    },\n    ...options,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { parseAsset } from \"@/modules/core/utils\";\nimport { DynamicProps } from \"@/modules/core/types\";\nimport { FullAccount } from \"../types\";\nimport type { Account as DhiveAccount } from \"@hiveio/dhive\";\nimport type { RCAccount } from \"@hiveio/dhive/lib/chain/rc\";\n\nconst HIVE_VOTING_MANA_REGENERATION_SECONDS = 5 * 60 * 60 * 24; // 5 days\n\nfunction vestsToRshares(vests: number, votingPowerValue: number, votePerc: number): number {\n  const vestingShares = vests * 1e6;\n  const power = (votingPowerValue * votePerc) / 1e4 / 50 + 1;\n  return (power * vestingShares) / 1e4;\n}\n\nfunction toDhiveAccountForVotingMana(account: FullAccount): DhiveAccount {\n  return {\n    id: 0,\n    name: account.name,\n    owner: account.owner,\n    active: account.active,\n    posting: account.posting,\n    memo_key: account.memo_key,\n    json_metadata: account.json_metadata,\n    posting_json_metadata: account.posting_json_metadata,\n    proxy: account.proxy ?? \"\",\n    last_owner_update: \"\",\n    last_account_update: \"\",\n    created: account.created,\n    mined: false,\n    owner_challenged: false,\n    active_challenged: false,\n    last_owner_proved: \"\",\n    last_active_proved: \"\",\n    recovery_account: account.recovery_account ?? \"\",\n    reset_account: \"\",\n    last_account_recovery: \"\",\n    comment_count: 0,\n    lifetime_vote_count: 0,\n    post_count: account.post_count,\n    can_vote: true,\n    voting_power: account.voting_power,\n    last_vote_time: account.last_vote_time,\n    voting_manabar: account.voting_manabar,\n    balance: account.balance,\n    savings_balance: account.savings_balance,\n    hbd_balance: account.hbd_balance,\n    hbd_seconds: \"0\",\n    hbd_seconds_last_update: \"\",\n    hbd_last_interest_payment: \"\",\n    savings_hbd_balance: account.savings_hbd_balance,\n    savings_hbd_seconds: account.savings_hbd_seconds,\n    savings_hbd_seconds_last_update: account.savings_hbd_seconds_last_update,\n    savings_hbd_last_interest_payment: account.savings_hbd_last_interest_payment,\n    savings_withdraw_requests: 0,\n    reward_hbd_balance: account.reward_hbd_balance,\n    reward_hive_balance: account.reward_hive_balance,\n    reward_vesting_balance: account.reward_vesting_balance,\n    reward_vesting_hive: account.reward_vesting_hive,\n    curation_rewards: 0,\n    posting_rewards: 0,\n    vesting_shares: account.vesting_shares,\n    delegated_vesting_shares: account.delegated_vesting_shares,\n    received_vesting_shares: account.received_vesting_shares,\n    vesting_withdraw_rate: account.vesting_withdraw_rate,\n    next_vesting_withdrawal: account.next_vesting_withdrawal,\n    withdrawn: account.withdrawn,\n    to_withdraw: account.to_withdraw,\n    withdraw_routes: 0,\n    proxied_vsf_votes: (account.proxied_vsf_votes as number[]) ?? [],\n    witnesses_voted_for: 0,\n    average_bandwidth: 0,\n    lifetime_bandwidth: 0,\n    last_bandwidth_update: \"\",\n    average_market_bandwidth: 0,\n    lifetime_market_bandwidth: 0,\n    last_market_bandwidth_update: \"\",\n    last_post: account.last_post,\n    last_root_post: \"\",\n  };\n}\n\nexport function votingPower(account: FullAccount): number {\n  const calc = CONFIG.hiveClient.rc.calculateVPMana(\n    toDhiveAccountForVotingMana(account)\n  );\n  return calc.percentage / 100;\n}\n\nexport function powerRechargeTime(power: number) {\n  if (!Number.isFinite(power)) {\n    throw new TypeError(\"Voting power must be a finite number\");\n  }\n  if (power < 0 || power > 100) {\n    throw new RangeError(\"Voting power must be between 0 and 100\");\n  }\n  const missingPower = 100 - power;\n  return (\n    (missingPower * 100 * HIVE_VOTING_MANA_REGENERATION_SECONDS) / 10000\n  );\n}\n\nexport function downVotingPower(account: FullAccount): number {\n  const totalShares =\n    parseFloat(account.vesting_shares) +\n    parseFloat(account.received_vesting_shares) -\n    parseFloat(account.delegated_vesting_shares);\n  const elapsed = Math.floor(Date.now() / 1000) - account.downvote_manabar.last_update_time;\n  const maxMana = (totalShares * 1000000) / 4;\n\n  if (maxMana <= 0) {\n    return 0;\n  }\n\n  let currentMana =\n    parseFloat(account.downvote_manabar.current_mana.toString()) +\n    (elapsed * maxMana) / HIVE_VOTING_MANA_REGENERATION_SECONDS;\n\n  if (currentMana > maxMana) {\n    currentMana = maxMana;\n  }\n  const currentManaPerc = (currentMana * 100) / maxMana;\n\n  if (isNaN(currentManaPerc)) {\n    return 0;\n  }\n\n  if (currentManaPerc > 100) {\n    return 100;\n  }\n  return currentManaPerc;\n}\n\nexport function rcPower(account: RCAccount): number {\n  const calc = CONFIG.hiveClient.rc.calculateRCMana(account);\n  return calc.percentage / 100;\n}\n\nexport function votingValue(\n  account: FullAccount,\n  dynamicProps: DynamicProps,\n  votingPowerValue: number,\n  weight: number = 10000\n): number {\n  if (!Number.isFinite(votingPowerValue) || !Number.isFinite(weight)) {\n    return 0;\n  }\n  const { fundRecentClaims, fundRewardBalance, base, quote } = dynamicProps;\n\n  if (\n    !Number.isFinite(fundRecentClaims) ||\n    !Number.isFinite(fundRewardBalance) ||\n    !Number.isFinite(base) ||\n    !Number.isFinite(quote)\n  ) {\n    return 0;\n  }\n\n  if (fundRecentClaims === 0 || quote === 0) {\n    return 0;\n  }\n\n  let totalVests = 0;\n  try {\n    const vesting = parseAsset(account.vesting_shares).amount;\n    const received = parseAsset(account.received_vesting_shares).amount;\n    const delegated = parseAsset(account.delegated_vesting_shares).amount;\n    if (![vesting, received, delegated].every(Number.isFinite)) {\n      return 0;\n    }\n    totalVests = vesting + received - delegated;\n  } catch {\n    return 0;\n  }\n\n  if (!Number.isFinite(totalVests)) {\n    return 0;\n  }\n\n  const rShares = vestsToRshares(totalVests, votingPowerValue, weight);\n  if (!Number.isFinite(rShares)) {\n    return 0;\n  }\n\n  return (rShares / fundRecentClaims) * fundRewardBalance * (base / quote);\n}\n","import { CONFIG } from \"@/modules/core/config\";\nimport { cryptoUtils, Operation, PrivateKey } from \"@hiveio/dhive\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nexport function useSignOperationByKey(username: string | undefined) {\n  return useMutation({\n    mutationKey: [\"operations\", \"sign\", username],\n    mutationFn: ({\n      operation,\n      keyOrSeed,\n    }: {\n      operation: Operation;\n      keyOrSeed: string;\n    }) => {\n      if (!username) {\n        throw new Error(\"[Operations][Sign]  cannot sign op with anon user\");\n      }\n\n      let privateKey: PrivateKey;\n      if (keyOrSeed.split(\" \").length === 12) {\n        privateKey = PrivateKey.fromLogin(username, keyOrSeed, \"active\");\n      } else if (cryptoUtils.isWif(keyOrSeed)) {\n        privateKey = PrivateKey.fromString(keyOrSeed);\n      } else {\n        privateKey = PrivateKey.from(keyOrSeed);\n      }\n\n      return CONFIG.hiveClient.broadcast.sendOperations(\n        [operation],\n        privateKey\n      );\n    },\n  });\n}\n","import { Operation } from \"@hiveio/dhive\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport type { AuthContext } from \"@/modules/core/types\";\n\nexport function useSignOperationByKeychain(\n  username: string | undefined,\n  auth?: AuthContext,\n  keyType: \"owner\" | \"active\" | \"posting\" | \"memo\" = \"active\"\n) {\n  return useMutation({\n    mutationKey: [\"operations\", \"sign-keychain\", username],\n    mutationFn: ({ operation }: { operation: Operation }) => {\n      if (!username) {\n        throw new Error(\n          \"[SDK][Keychain] cannot sign operation with anon user\"\n        );\n      }\n      if (!auth?.broadcast) {\n        throw new Error(\"[SDK][Keychain]  missing keychain broadcaster\");\n      }\n\n      return auth.broadcast([operation], keyType);\n    },\n  });\n}\n","import { Operation } from \"@hiveio/dhive\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport hs from \"hivesigner\";\n\nexport function useSignOperationByHivesigner(callbackUri = \"/\") {\n  return useMutation({\n    mutationKey: [\"operations\", \"sign-hivesigner\", callbackUri],\n    mutationFn: async ({ operation }: { operation: Operation }) => {\n      return hs.sendOperation(operation, { callback: callbackUri }, () => {});\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getChainPropertiesQueryOptions() {\n  return queryOptions({\n    queryKey: [\"operations\", \"chain-properties\"],\n    queryFn: async () => {\n      return await CONFIG.hiveClient.database.getChainProperties();\n    },\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { InfiniteData, useMutation } from \"@tanstack/react-query\";\nimport { Fragment } from \"../types\";\nimport { getFragmentsQueryOptions } from \"../queries\";\nimport { WrappedResponse } from \"@/modules/core/types\";\n\nexport function useAddFragment(username: string, code: string | undefined) {\n  return useMutation({\n    mutationKey: [\"posts\", \"add-fragment\", username],\n    mutationFn: async ({ title, body }: { title: string; body: string }) => {\n      if (!code) {\n        throw new Error(\"[SDK][Posts] Missing access token\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/fragments-add\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            code,\n            title,\n            body,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      return response.json() as Promise<Fragment>;\n    },\n    onSuccess(response) {\n      const queryClient = getQueryClient();\n\n      // Update regular query cache\n      queryClient.setQueryData<Fragment[]>(\n        getFragmentsQueryOptions(username, code).queryKey,\n        (data) => [response, ...(data ?? [])]\n      );\n\n      // Update infinite query cache - add new fragment to first page\n      queryClient.setQueriesData<InfiniteData<WrappedResponse<Fragment>>>(\n        { queryKey: [\"posts\", \"fragments\", \"infinite\", username] },\n        (oldData) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page, index) =>\n              index === 0\n                ? { ...page, data: [response, ...page.data] }\n                : page\n            ),\n          };\n        }\n      );\n    },\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { InfiniteData, useMutation } from \"@tanstack/react-query\";\nimport { Fragment } from \"../types\";\nimport { getFragmentsQueryOptions } from \"../queries\";\nimport { WrappedResponse } from \"@/modules/core/types\";\n\nexport function useEditFragment(\n  username: string,\n  code: string | undefined\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"edit-fragment\", username],\n    mutationFn: async ({\n      fragmentId,\n      title,\n      body\n    }: {\n      fragmentId: string;\n      title: string;\n      body: string;\n    }) => {\n      if (!code) {\n        throw new Error(\"[SDK][Posts] Missing access token\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/fragments-update\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            code,\n            id: fragmentId,\n            title,\n            body,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      return response.json() as Promise<Fragment>;\n    },\n    onSuccess(response, variables) {\n      const queryClient = getQueryClient();\n\n      // Update regular query cache\n      queryClient.setQueryData<Fragment[]>(\n        getFragmentsQueryOptions(username, code).queryKey,\n        (data) => {\n          if (!data) {\n            return [];\n          }\n\n          const index = data.findIndex(({ id }) => id === variables.fragmentId);\n          if (index >= 0) {\n            data[index] = response;\n          }\n\n          return [...data];\n        }\n      );\n\n      // Update infinite query cache - update fragment in all pages\n      queryClient.setQueriesData<InfiniteData<WrappedResponse<Fragment>>>(\n        { queryKey: [\"posts\", \"fragments\", \"infinite\", username] },\n        (oldData) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page) => ({\n              ...page,\n              data: page.data.map((fragment) =>\n                fragment.id === variables.fragmentId ? response : fragment\n              ),\n            })),\n          };\n        }\n      );\n    },\n  });\n}\n","import { CONFIG, getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { InfiniteData, useMutation } from \"@tanstack/react-query\";\nimport { Fragment } from \"../types\";\nimport { getFragmentsQueryOptions } from \"../queries\";\nimport { WrappedResponse } from \"@/modules/core/types\";\n\nexport function useRemoveFragment(\n  username: string,\n  code: string | undefined\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"remove-fragment\", username],\n    mutationFn: async ({ fragmentId }: { fragmentId: string }) => {\n      if (!code) {\n        throw new Error(\"[SDK][Posts] Missing access token\");\n      }\n      const fetchApi = getBoundFetch();\n\n      return fetchApi(CONFIG.privateApiHost + \"/private-api/fragments-delete\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          code,\n          id: fragmentId,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    },\n    onSuccess(_data, variables) {\n      const queryClient = getQueryClient();\n\n      // Update regular query cache\n      queryClient.setQueryData<Fragment[]>(\n        getFragmentsQueryOptions(username, code).queryKey,\n        (data) => [...(data ?? [])].filter(({ id }) => id !== variables.fragmentId)\n      );\n\n      // Update infinite query cache - remove fragment from all pages\n      queryClient.setQueriesData<InfiniteData<WrappedResponse<Fragment>>>(\n        { queryKey: [\"posts\", \"fragments\", \"infinite\", username] },\n        (oldData) => {\n          if (!oldData) return oldData;\n\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page) => ({\n              ...page,\n              data: page.data.filter((fragment) => fragment.id !== variables.fragmentId),\n            })),\n          };\n        }\n      );\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { ApiNotification, ApiNotificationSetting } from \"@/modules/notifications\";\nimport { Draft, DraftMetadata } from \"@/modules/posts/types/draft\";\nimport { Schedule } from \"@/modules/posts/types/schedule\";\nimport { ApiResponse } from \"./types\";\n\ntype RequestError = Error & { status?: number; data?: unknown };\n\nasync function parseJsonResponse<T>(response: Response): Promise<T> {\n  if (!response.ok) {\n    let errorData: unknown = undefined;\n    try {\n      errorData = await response.json();\n    } catch {\n      errorData = undefined;\n    }\n    const error = new Error(`Request failed with status ${response.status}`) as RequestError;\n    error.status = response.status;\n    error.data = errorData;\n    throw error;\n  }\n\n  // Handle empty responses gracefully (e.g., 204 No Content or empty body)\n  const text = await response.text();\n  if (!text || text.trim() === \"\") {\n    return \"\" as T;\n  }\n\n  try {\n    return JSON.parse(text) as T;\n  } catch (e) {\n    // If JSON parsing fails, return empty string as fallback\n    console.warn(\"[SDK] Failed to parse JSON response:\", e, \"Response:\", text);\n    return \"\" as T;\n  }\n}\n\nexport async function signUp(\n  username: string,\n  email: string,\n  referral: string\n): Promise<ApiResponse<Record<string, unknown>>> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/account-create\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ username, email, referral }),\n  });\n\n  const data = await parseJsonResponse<Record<string, unknown>>(response);\n  return { status: response.status, data };\n}\n\nexport async function subscribeEmail(\n  email: string\n): Promise<ApiResponse<Record<string, unknown>>> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/subscribe\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email }),\n  });\n\n  const data = await parseJsonResponse<Record<string, unknown>>(response);\n  return { status: response.status, data };\n}\n\nexport async function usrActivity(\n  code: string | undefined,\n  ty: number,\n  bl: string | number = \"\",\n  tx: string | number = \"\"\n): Promise<void> {\n  const params: {\n    code: string | undefined;\n    ty: number;\n    bl?: string | number;\n    tx?: string | number;\n  } = { code, ty };\n\n  if (bl) {\n    params.bl = bl;\n  }\n  if (tx) {\n    params.tx = tx;\n  }\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/usr-activity\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(params),\n  });\n\n  await parseJsonResponse(response);\n}\n\nexport async function getNotifications(\n  code: string | undefined,\n  filter: string | null,\n  since: string | null = null,\n  user: string | null = null\n): Promise<ApiNotification[]> {\n  const data: { code: string | undefined; filter?: string; since?: string; user?: string } = {\n    code,\n  };\n\n  if (filter) {\n    data.filter = filter;\n  }\n\n  if (since) {\n    data.since = since;\n  }\n\n  if (user) {\n    data.user = user;\n  }\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/notifications\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<ApiNotification[]>(response);\n}\n\nexport async function saveNotificationSetting(\n  code: string | undefined,\n  username: string,\n  system: string,\n  allows_notify: number,\n  notify_types: number[],\n  token: string\n): Promise<ApiNotificationSetting> {\n  const data = {\n    code,\n    username,\n    token,\n    system,\n    allows_notify,\n    notify_types,\n  };\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/register-device\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<ApiNotificationSetting>(response);\n}\n\nexport async function getNotificationSetting(\n  code: string | undefined,\n  username: string,\n  token: string\n): Promise<ApiNotificationSetting> {\n  const data = { code, username, token };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/detail-device\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<ApiNotificationSetting>(response);\n}\n\nexport async function markNotifications(\n  code: string | undefined,\n  id?: string\n): Promise<Record<string, unknown>> {\n  const data: { code: string | undefined; id?: string } = {\n    code,\n  };\n  if (id) {\n    data.id = id;\n  }\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/notifications/mark\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function addImage(code: string | undefined, url: string): Promise<Record<string, unknown>> {\n  const data = { code, url };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/images-add\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function uploadImage(\n  file: File,\n  token: string,\n  signal?: AbortSignal\n): Promise<{ url: string }> {\n  const fetchApi = getBoundFetch();\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await fetchApi(`${CONFIG.imageHost}/hs/${token}`, {\n    method: \"POST\",\n    body: formData,\n    signal,\n  });\n\n  return parseJsonResponse<{ url: string }>(response);\n}\n\nexport async function deleteImage(\n  code: string | undefined,\n  imageId: string\n): Promise<Record<string, unknown>> {\n  const data = { code, id: imageId };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/images-delete\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function addDraft(\n  code: string | undefined,\n  title: string,\n  body: string,\n  tags: string,\n  meta: DraftMetadata\n): Promise<{ drafts: Draft[] }> {\n  const data = { code, title, body, tags, meta };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/drafts-add\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<{ drafts: Draft[] }>(response);\n}\n\nexport async function updateDraft(\n  code: string | undefined,\n  draftId: string,\n  title: string,\n  body: string,\n  tags: string,\n  meta: DraftMetadata\n): Promise<{ drafts: Draft[] }> {\n  const data = { code, id: draftId, title, body, tags, meta };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/drafts-update\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<{ drafts: Draft[] }>(response);\n}\n\nexport async function deleteDraft(\n  code: string | undefined,\n  draftId: string\n): Promise<Record<string, unknown>> {\n  const data = { code, id: draftId };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/drafts-delete\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function addSchedule(\n  code: string | undefined,\n  permlink: string,\n  title: string,\n  body: string,\n  meta: Record<string, unknown>,\n  options: Record<string, unknown> | null,\n  schedule: string,\n  reblog: boolean\n): Promise<Record<string, unknown>> {\n  const data: Record<string, unknown> = {\n    code,\n    permlink,\n    title,\n    body,\n    meta,\n    schedule,\n    reblog,\n  };\n\n  if (options) {\n    data.options = options;\n  }\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/schedules-add\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function deleteSchedule(\n  code: string | undefined,\n  id: string\n): Promise<Record<string, unknown>> {\n  const data = { code, id };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/schedules-delete\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n\nexport async function moveSchedule(code: string | undefined, id: string): Promise<Schedule[]> {\n  const data = { code, id };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/schedules-move\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<Schedule[]>(response);\n}\n\nexport async function getPromotedPost(\n  code: string | undefined,\n  author: string,\n  permlink: string\n): Promise<{ author: string; permlink: string } | \"\"> {\n  const data = { code, author, permlink };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/promoted-post\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<{ author: string; permlink: string } | \"\">(response);\n}\n\nexport async function onboardEmail(\n  username: string,\n  email: string,\n  friend: string\n): Promise<Record<string, unknown>> {\n  const dataBody = {\n    username,\n    email,\n    friend,\n  };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(\n    CONFIG.privateApiHost + \"/private-api/account-create-friend\",\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(dataBody),\n    }\n  );\n\n  return parseJsonResponse<Record<string, unknown>>(response);\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { addDraft } from \"@/modules/private-api/requests\";\nimport { DraftMetadata } from \"../types\";\n\nexport function useAddDraft(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"drafts\", \"add\", username],\n    mutationFn: async ({\n      title,\n      body,\n      tags,\n      meta,\n    }: {\n      title: string;\n      body: string;\n      tags: string;\n      meta: DraftMetadata;\n    }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for addDraft\");\n      }\n      return addDraft(code, title, body, tags, meta);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"drafts\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { updateDraft } from \"@/modules/private-api/requests\";\nimport { DraftMetadata } from \"../types\";\n\nexport function useUpdateDraft(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"drafts\", \"update\", username],\n    mutationFn: async ({\n      draftId,\n      title,\n      body,\n      tags,\n      meta,\n    }: {\n      draftId: string;\n      title: string;\n      body: string;\n      tags: string;\n      meta: DraftMetadata;\n    }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for updateDraft\");\n      }\n      return updateDraft(code, draftId, title, body, tags, meta);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"drafts\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { deleteDraft } from \"@/modules/private-api/requests\";\n\nexport function useDeleteDraft(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"drafts\", \"delete\", username],\n    mutationFn: async ({ draftId }: { draftId: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for deleteDraft\");\n      }\n      return deleteDraft(code, draftId);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"drafts\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { addSchedule } from \"@/modules/private-api/requests\";\n\nexport function useAddSchedule(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"schedules\", \"add\", username],\n    mutationFn: async ({\n      permlink,\n      title,\n      body,\n      meta,\n      options,\n      schedule,\n      reblog,\n    }: {\n      permlink: string;\n      title: string;\n      body: string;\n      meta: Record<string, unknown>;\n      options: Record<string, unknown> | null;\n      schedule: string;\n      reblog: boolean;\n    }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for addSchedule\");\n      }\n      return addSchedule(code, permlink, title, body, meta, options, schedule, reblog);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"schedules\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { deleteSchedule } from \"@/modules/private-api/requests\";\n\nexport function useDeleteSchedule(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"schedules\", \"delete\", username],\n    mutationFn: async ({ id }: { id: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for deleteSchedule\");\n      }\n      return deleteSchedule(code, id);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"schedules\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { moveSchedule } from \"@/modules/private-api/requests\";\n\nexport function useMoveSchedule(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"schedules\", \"move\", username],\n    mutationFn: async ({ id }: { id: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for moveSchedule\");\n      }\n      return moveSchedule(code, id);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"schedules\", username],\n      });\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"drafts\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { addImage } from \"@/modules/private-api/requests\";\n\n/**\n * Hook to add an image URL to the user's Ecency gallery\n *\n * @param username - Current user's username\n * @param code - Access token for authentication\n * @param onSuccess - Optional callback on successful addition\n * @param onError - Optional callback on error\n *\n * @example\n * const addImageMutation = useAddImage(username, code);\n * addImageMutation.mutate({ url: 'https://...' });\n */\nexport function useAddImage(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"images\", \"add\", username],\n    mutationFn: async ({ url }: { url: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for addImage\");\n      }\n      return addImage(code, url);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"images\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { deleteImage } from \"@/modules/private-api/requests\";\n\n/**\n * Hook to delete an image from the user's Ecency gallery\n *\n * @param username - Current user's username\n * @param code - Access token for authentication\n * @param onSuccess - Optional callback on successful deletion\n * @param onError - Optional callback on error\n *\n * @example\n * const deleteImageMutation = useDeleteImage(username, code);\n * deleteImageMutation.mutate({ imageId: '123' });\n */\nexport function useDeleteImage(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: () => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"images\", \"delete\", username],\n    mutationFn: async ({ imageId }: { imageId: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Posts]  missing auth for deleteImage\");\n      }\n      return deleteImage(code, imageId);\n    },\n    onSuccess: () => {\n      onSuccess?.();\n      getQueryClient().invalidateQueries({\n        queryKey: [\"posts\", \"images\", username],\n      });\n    },\n    onError,\n  });\n}\n","import { useMutation } from \"@tanstack/react-query\";\nimport { uploadImage } from \"@/modules/private-api/requests\";\n\n/**\n * Hook to upload an image file to Ecency image hosting\n *\n * @param onSuccess - Optional callback on successful upload, receives { url: string }\n * @param onError - Optional callback on error\n *\n * Note: This hook uploads to Ecency's image server and requires a signature token.\n * The token should be generated using the user's posting key signature.\n *\n * @example\n * const uploadMutation = useUploadImage(\n *   (data) => console.log('Uploaded:', data.url)\n * );\n * uploadMutation.mutate({ file, token });\n */\nexport function useUploadImage(\n  onSuccess?: (data: { url: string }) => void,\n  onError?: (e: Error) => void\n) {\n  return useMutation({\n    mutationKey: [\"posts\", \"images\", \"upload\"],\n    mutationFn: async ({\n      file,\n      token,\n      signal,\n    }: {\n      file: File;\n      token: string;\n      signal?: AbortSignal;\n    }) => {\n      return uploadImage(file, token, signal);\n    },\n    onSuccess,\n    onError,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { Entry } from \"../types\";\n\nexport type ValidatePostCreatingOptions = {\n  delays?: number[];\n};\n\nconst DEFAULT_VALIDATE_POST_DELAYS = [3000, 3000, 3000];\n\nconst delay = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms));\n\nasync function getContent(author: string, permlink: string): Promise<Entry> {\n  return CONFIG.hiveClient.call(\"condenser_api\", \"get_content\", [\n    author,\n    permlink,\n  ]) as Promise<Entry>;\n}\n\nexport async function validatePostCreating(\n  author: string,\n  permlink: string,\n  attempts = 0,\n  options?: ValidatePostCreatingOptions\n) {\n  const delays = options?.delays ?? DEFAULT_VALIDATE_POST_DELAYS;\n\n  let response: Entry | undefined;\n  try {\n    response = await getContent(author, permlink);\n  } catch (e) {\n    response = undefined;\n  }\n\n  if (response || attempts >= delays.length) {\n    return;\n  }\n\n  const waitMs = delays[attempts];\n  if (waitMs > 0) {\n    await delay(waitMs);\n  }\n\n  return validatePostCreating(author, permlink, attempts + 1, options);\n}\n","export * from \"./use-record-activity\";\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\n\ntype ActivityType =\n  // Editor related\n  | \"post-created\"\n  | \"post-updated\"\n  | \"post-scheduled\"\n  | \"draft-created\"\n  | \"video-published\"\n\n  // Legacy editor related\n  | \"legacy-post-created\"\n  | \"legacy-post-updated\"\n  | \"legacy-post-scheduled\"\n  | \"legacy-draft-created\"\n  | \"legacy-video-published\"\n\n  // Perks related\n  | \"perks-points-by-qr\"\n  | \"perks-account-boost\"\n  | \"perks-promote\"\n  | \"perks-boost-plus\"\n  | \"points-claimed\"\n  | \"spin-rolled\"\n\n  // Signup related\n  | \"signed-up-with-wallets\"\n  | \"signed-up-with-email\";\n\nexport interface RecordActivityOptions {\n  url?: string;\n  domain?: string;\n}\n\n/**\n * Get current location info safely (works in browser and Node.js)\n * Returns empty strings in non-browser environments\n */\nfunction getLocationInfo(): { url: string; domain: string } {\n  if (typeof window !== \"undefined\" && window.location) {\n    return {\n      url: window.location.href,\n      domain: window.location.host,\n    };\n  }\n  return { url: \"\", domain: \"\" };\n}\n\nexport function useRecordActivity(\n  username: string | undefined,\n  activityType: ActivityType,\n  options?: RecordActivityOptions\n) {\n  return useMutation({\n    mutationKey: [\"analytics\", activityType],\n    mutationFn: async () => {\n      if (!activityType) {\n        throw new Error(\"[SDK][Analytics]  no activity type provided\");\n      }\n      const fetchApi = getBoundFetch();\n\n      // Use provided values or auto-detect from browser environment\n      // Falls back to empty strings in non-browser environments (Node.js, React Native, etc.)\n      const locationInfo = getLocationInfo();\n      const url = options?.url ?? locationInfo.url;\n      const domain = options?.domain ?? locationInfo.domain;\n\n      await fetchApi(CONFIG.plausibleHost + \"/api/event\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name: activityType,\n          url,\n          domain,\n          props: {\n            username,\n          },\n        }),\n      });\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { LeaderBoardDuration, LeaderBoardItem } from \"../types\";\n\nexport function getDiscoverLeaderboardQueryOptions(duration: LeaderBoardDuration) {\n  return queryOptions({\n    queryKey: [\"analytics\", \"discover-leaderboard\", duration],\n    queryFn: async ({ signal }) => {\n      const response = await fetch(\n        CONFIG.privateApiHost + `/private-api/leaderboard/${duration}`,\n        { signal }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch leaderboard: ${response.status}`);\n      }\n\n      return response.json() as Promise<LeaderBoardItem[]>;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { CurationDuration, CurationItem } from \"../types\";\n\nexport function getDiscoverCurationQueryOptions(duration: CurationDuration) {\n  return queryOptions({\n    queryKey: [\"analytics\", \"discover-curation\", duration],\n    queryFn: async ({ signal }) => {\n      const response = await fetch(\n        CONFIG.privateApiHost + `/private-api/curation/${duration}`,\n        { signal }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch curation data: ${response.status}`);\n      }\n\n      const data = (await response.json()) as CurationItem[];\n\n      // Fetch account data for efficiency calculation\n      const accounts = data.map((item) => item.account);\n      const accountsResponse = await CONFIG.hiveClient.database.getAccounts(accounts);\n\n      // Calculate efficiency for each curator\n      for (let index = 0; index < accountsResponse.length; index++) {\n        const element = accountsResponse[index];\n        const curator = data[index];\n\n        // Convert Asset to string if needed\n        const vestingShares = typeof element.vesting_shares === 'string'\n          ? element.vesting_shares\n          : element.vesting_shares.toString();\n        const receivedVestingShares = typeof element.received_vesting_shares === 'string'\n          ? element.received_vesting_shares\n          : element.received_vesting_shares.toString();\n        const delegatedVestingShares = typeof element.delegated_vesting_shares === 'string'\n          ? element.delegated_vesting_shares\n          : element.delegated_vesting_shares.toString();\n        const vestingWithdrawRate = typeof element.vesting_withdraw_rate === 'string'\n          ? element.vesting_withdraw_rate\n          : element.vesting_withdraw_rate.toString();\n\n        const effectiveVest: number =\n          parseFloat(vestingShares) +\n          parseFloat(receivedVestingShares) -\n          parseFloat(delegatedVestingShares) -\n          parseFloat(vestingWithdrawRate);\n        curator.efficiency = curator.vests / effectiveVest;\n      }\n\n      // Sort by efficiency descending\n      data.sort((a: CurationItem, b: CurationItem) => b.efficiency - a.efficiency);\n\n      return data;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { PageStatsResponse } from \"../types\";\n\n/**\n * Get page statistics from the private analytics API\n *\n * @param url - URL to get stats for\n * @param dimensions - Dimensions to query (default: [])\n * @param metrics - Metrics to query (default: [\"visitors\", \"pageviews\", \"visit_duration\"])\n * @param dateRange - Date range for the query (e.g. \"day\", \"7d\", \"30d\", \"all\")\n */\nexport function getPageStatsQueryOptions(\n  url: string,\n  dimensions: string[] = [],\n  metrics: string[] = [\"visitors\", \"pageviews\", \"visit_duration\"],\n  dateRange?: string\n) {\n  return queryOptions({\n    queryKey: [\"analytics\", \"page-stats\", url, dimensions, metrics, dateRange],\n    queryFn: async ({ signal }) => {\n      const response = await fetch(CONFIG.privateApiHost + \"/api/stats\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          metrics,\n          url: encodeURIComponent(url),\n          dimensions,\n          date_range: dateRange,\n        }),\n        signal,\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch page stats: ${response.status}`);\n      }\n\n      return response.json() as Promise<PageStatsResponse>;\n    },\n    enabled: !!url,\n  });\n}\n","export * from \"./get-account-token-query-options\";\nexport * from \"./get-account-videos-query-options\";\n","export * from \"./get-decode-memo-query-options\";\n","import { queryOptions } from \"@tanstack/react-query\";\nimport hs from \"hivesigner\";\n\nexport function getDecodeMemoQueryOptions(\n  username: string,\n  memo: string,\n  accessToken: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"integrations\", \"hivesigner\", \"decode-memo\", username],\n    queryFn: async () => {\n      if (accessToken) {\n        const hsClient = new hs.Client({\n          accessToken,\n        });\n        return hsClient.decode(memo);\n      }\n    },\n  });\n}\n","import * as queries from \"./queries\";\n\nconst HiveSignerIntegration = {\n  queries,\n};\n\nexport { HiveSignerIntegration };\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { HiveSignerIntegration } from \"../../hivesigner\";\nimport { getBoundFetch, getQueryClient } from \"@/modules/core\";\n\nexport function getAccountTokenQueryOptions(\n  username: string | undefined,\n  accessToken: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"integrations\", \"3speak\", \"authenticate\", username],\n    enabled: !!username && !!accessToken,\n    queryFn: async () => {\n      if (!username || !accessToken) {\n        throw new Error(\"[SDK][Integrations][3Speak] anon user\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `https://studio.3speak.tv/mobile/login?username=${username}&hivesigner=true`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      const memoQueryOptions =\n        HiveSignerIntegration.queries.getDecodeMemoQueryOptions(\n          username,\n          (await response.json()).memo,\n          accessToken\n        );\n      await getQueryClient().prefetchQuery(memoQueryOptions);\n      const { memoDecoded } = getQueryClient().getQueryData(\n        memoQueryOptions.queryKey\n      );\n\n      return memoDecoded.replace(\"#\", \"\");\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { ThreeSpeakVideo } from \"../types\";\nimport { getBoundFetch, getQueryClient } from \"@/modules/core\";\nimport { getAccountTokenQueryOptions } from \"./get-account-token-query-options\";\n\nexport function getAccountVideosQueryOptions(\n  username: string | undefined,\n  accessToken: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"integrations\", \"3speak\", \"videos\", username],\n    enabled: !!username && !!accessToken,\n    queryFn: async () => {\n      if (!username || !accessToken) {\n        throw new Error(\"[SDK][Integrations][3Speak] anon user\");\n      }\n\n      const tokenQueryOptions = getAccountTokenQueryOptions(\n        username,\n        accessToken\n      );\n\n      await getQueryClient().prefetchQuery(tokenQueryOptions);\n      const token = getQueryClient().getQueryData(tokenQueryOptions.queryKey);\n      if (!token) {\n        throw new Error(\"[SDK][Integrations][3Speak]  missing account token\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `https://studio.3speak.tv/mobile/api/my-videos`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      return (await response.json()) as ThreeSpeakVideo[];\n    },\n  });\n}\n","export * from \"./types\";\nimport * as queries from \"./queries\";\n\nconst ThreeSpeakIntegration = {\n  queries,\n};\n\nexport { ThreeSpeakIntegration };\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { getBoundFetch } from \"@/modules/core\";\n\nexport function getHivePoshLinksQueryOptions(username: string | undefined) {\n  return queryOptions({\n    queryKey: [\"integrations\", \"hiveposh\", \"links\", username],\n    retry: false, // Don't retry on user not found errors\n    queryFn: async () => {\n      try {\n        const fetchApi = getBoundFetch();\n        const response = await fetchApi(\n          `https://hiveposh.com/api/v0/linked-accounts/${username}`,\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n\n        // Handle 400 error when user is not registered on HivePosh\n        if (response.status === 400) {\n          const errorData = await response.json().catch(() => ({}));\n          // Silently return null for \"User Not Connected\" errors\n          if (errorData?.message === \"User Not Connected\") {\n            return null;\n          }\n        }\n\n        if (!response.ok) {\n          return null;\n        }\n\n        const data = await response.json();\n\n        return {\n          twitter: {\n            username: data.twitter_username,\n            profile: data.twitter_profile,\n          },\n          reddit: {\n            username: data.reddit_username,\n            profile: data.reddit_profile,\n          },\n        } satisfies Record<\n          \"twitter\" | \"reddit\",\n          { username: string; profile: string }\n        >;\n      } catch (err) {\n        // Silently handle all HivePosh API errors\n        return null;\n      }\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG, getBoundFetch } from \"@/modules/core\";\n\nexport interface StatsResponse {\n  results: [\n    {\n      metrics: number[];\n      dimensions: string[];\n    },\n  ];\n  query: {\n    site_id: string;\n    metrics: string[];\n    date_range: string[];\n    filters: string[];\n  };\n}\ninterface UseStatsQueryOptions {\n  url: string;\n  dimensions?: string[];\n  metrics?: string[];\n  enabled?: boolean;\n}\n\nexport function getStatsQueryOptions({\n  url,\n  dimensions = [],\n  metrics = [\"visitors\", \"pageviews\", \"visit_duration\"],\n  enabled = true,\n}: UseStatsQueryOptions) {\n  return queryOptions({\n    queryKey: [\"integrations\", \"plausible\", url, dimensions, metrics],\n    queryFn: async () => {\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(`${CONFIG.privateApiHost}/api/stats`, {\n        method: \"POST\",\n        body: JSON.stringify({\n          metrics,\n          url: encodeURIComponent(url),\n          dimensions,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      return (await response.json()) as StatsResponse;\n    },\n    enabled: !!url && enabled,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getRcStatsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"resource-credits\", \"stats\"],\n    queryFn: async () => {\n      const response = await CONFIG.hiveClient.call(\n        \"rc_api\",\n        \"get_rc_stats\",\n        {}\n      );\n      return response.rc_stats;\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { RCAPI } from \"@hiveio/dhive\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getAccountRcQueryOptions(username: string) {\n  return queryOptions({\n    queryKey: [\"resource-credits\", \"account\", username],\n    queryFn: async () => {\n      const rcClient = new RCAPI(CONFIG.hiveClient);\n      return rcClient.findRCAccounts([username]);\n    },\n    enabled: !!username,\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { GetGameStatus } from \"../types\";\n\nexport function getGameStatusCheckQueryOptions(\n  username: string | undefined,\n  code: string | undefined,\n  gameType: \"spin\"\n) {\n  return queryOptions({\n    queryKey: [\"games\", \"status-check\", gameType, username],\n    enabled: !!username && !!code,\n    queryFn: async () => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Games]  missing auth\");\n      }\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/get-game\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            game_type: gameType,\n            code,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      return (await response.json()) as GetGameStatus;\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { GameClaim } from \"../types\";\nimport { useRecordActivity } from \"@/modules/analytics/mutations\";\n\nexport function useGameClaim(\n  username: string | undefined,\n  code: string | undefined,\n  gameType: \"spin\",\n  key: string\n) {\n  const { mutateAsync: recordActivity } = useRecordActivity(\n    username,\n    \"spin-rolled\"\n  );\n\n  return useMutation({\n    mutationKey: [\"games\", \"post\", gameType, username],\n    mutationFn: async () => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Games]  missing auth\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        CONFIG.privateApiHost + \"/private-api/post-game\",\n        {\n          method: \"POST\",\n          body: JSON.stringify({\n            game_type: gameType,\n            code,\n            key,\n          }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      return (await response.json()) as GameClaim;\n    },\n    onSuccess() {\n      recordActivity();\n    },\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\nimport { Communities } from \"../types\";\n\nexport function getCommunitiesQueryOptions(\n  sort: string,\n  query?: string,\n  limit = 100,\n  observer: string | undefined = undefined,\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\"communities\", \"list\", sort, query, limit],\n    enabled,\n    queryFn: async () => {\n      const response = await CONFIG.hiveClient.call(\n        \"bridge\",\n        \"list_communities\",\n        {\n          last: \"\",\n          limit,\n          sort: sort === \"hot\" ? \"rank\" : sort,\n          query: query ? query : null,\n          observer,\n        }\n      );\n      return (\n        response\n          ? sort === \"hot\"\n            ? response.sort(() => Math.random() - 0.5)\n            : response\n          : []\n      ) as Communities;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { CommunityRole } from \"../types\";\n\nexport function getCommunityContextQueryOptions(\n  username: string | undefined,\n  communityName: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"community\", \"context\", username, communityName],\n    enabled: !!username && !!communityName,\n    queryFn: async () => {\n      const response = await CONFIG.hiveClient.call(\n        \"bridge\",\n        \"get_community_context\",\n        {\n          account: username,\n          name: communityName,\n        }\n      );\n\n      return {\n        role: response?.role ?? \"guest\",\n        subscribed: response?.subscribed ?? false,\n      } satisfies {\n        role: CommunityRole;\n        subscribed: boolean;\n      };\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { Community } from \"../types/community\";\nimport { getCommunity } from \"@/modules/bridge\";\n\nexport function getCommunityQueryOptions(\n  name: string | undefined,\n  observer: string | undefined = \"\",\n  enabled = true\n) {\n  return queryOptions({\n    queryKey: [\"community\", \"single\", name, observer],\n    enabled: enabled && !!name,\n    queryFn: async () => getCommunity(name ?? \"\", observer) as Promise<Community | null>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Subscription } from \"../types\";\n\n/**\n * Get list of subscribers for a community\n *\n * @param communityName - The community name (e.g., \"hive-123456\")\n */\nexport function getCommunitySubscribersQueryOptions(communityName: string) {\n  return queryOptions({\n    queryKey: [\"communities\", \"subscribers\", communityName],\n    queryFn: async () => {\n      const response = await CONFIG.hiveClient.call(\"bridge\", \"list_subscribers\", {\n        community: communityName,\n      });\n      return (response as Subscription[] | null) ?? [];\n    },\n    staleTime: 60000,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { AccountNotification } from \"../types\";\n\ntype NotifPage = AccountNotification[];\ntype NotifCursor = number | null;\n\n/**\n * Get account notifications for a community (bridge API)\n *\n * @param account - The account/community name\n * @param limit - Number of notifications per page\n */\nexport function getAccountNotificationsInfiniteQueryOptions(\n  account: string,\n  limit: number\n) {\n  return infiniteQueryOptions<NotifPage, Error, NotifPage, (string | number)[], NotifCursor>({\n    queryKey: [\"communities\", \"account-notifications\", account, limit],\n    initialPageParam: null as NotifCursor,\n\n    queryFn: async ({ pageParam }: { pageParam: NotifCursor }) => {\n      try {\n        const response = await CONFIG.hiveClient.call(\"bridge\", \"account_notifications\", {\n          account,\n          limit,\n          last_id: pageParam ?? undefined,\n        });\n        return (response as AccountNotification[] | null) ?? [];\n      } catch {\n        return [];\n      }\n    },\n\n    getNextPageParam: (lastPage: NotifPage): NotifCursor =>\n      lastPage?.length > 0 ? lastPage[lastPage.length - 1].id : null,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { RewardedCommunity } from \"../types/rewarded-community\";\n\nexport function getRewardedCommunitiesQueryOptions() {\n  return queryOptions({\n    queryKey: [\"communities\", \"rewarded\"],\n    queryFn: async () => {\n      const response = await fetch(\n        CONFIG.privateApiHost + \"/private-api/rewarded-communities\",\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch rewarded communities: ${response.status}`);\n      }\n\n      return response.json() as Promise<RewardedCommunity[]>;\n    },\n  });\n}\n","export enum ROLES {\n  OWNER = \"owner\",\n  ADMIN = \"admin\",\n  MOD = \"mod\",\n  MEMBER = \"member\",\n  GUEST = \"guest\",\n  MUTED = \"muted\",\n}\n\nexport const roleMap: Record<string, string[]> = {\n  [ROLES.OWNER]: [\n    ROLES.ADMIN,\n    ROLES.MOD,\n    ROLES.MEMBER,\n    ROLES.GUEST,\n    ROLES.MUTED,\n  ],\n  [ROLES.ADMIN]: [ROLES.MOD, ROLES.MEMBER, ROLES.GUEST, ROLES.MUTED],\n  [ROLES.MOD]: [ROLES.MEMBER, ROLES.GUEST, ROLES.MUTED],\n};\n\nexport type CommunityTeam = Array<Array<string>>;\nexport type CommunityRole = (typeof ROLES)[keyof typeof ROLES]; // \"owner\" | \"member\" | ...\nexport type CommunityType = \"Topic\" | \"Journal\" | \"Council\";\n\nexport interface Community {\n  about: string;\n  admins?: string[];\n  avatar_url: string;\n  created_at: string;\n  description: string;\n  flag_text: string;\n  id: number;\n  is_nsfw: boolean;\n  lang: string;\n  name: string;\n  num_authors: number;\n  num_pending: number;\n  subscribers: number;\n  sum_pending: number;\n  settings?: any;\n  team: CommunityTeam;\n  title: string;\n  type_id: number;\n}\n\nexport type Communities = Community[];\n","import { CommunityRole, CommunityType, ROLES } from \"../types\";\n\nexport function getCommunityType(name: string, type_id: number): CommunityType {\n  if (name.startsWith(\"hive-3\") || type_id === 3) return \"Council\";\n  if (name.startsWith(\"hive-2\") || type_id === 2) return \"Journal\";\n  return \"Topic\";\n}\n\nexport function getCommunityPermissions({\n  communityType,\n  userRole,\n  subscribed,\n}: {\n  communityType: CommunityType;\n  userRole: CommunityRole;\n  subscribed: boolean;\n}) {\n  const canPost = (() => {\n    if (userRole === ROLES.MUTED) return false;\n\n    if (communityType === \"Topic\") return true;\n\n    // Journal & Council\n    return [ROLES.OWNER, ROLES.ADMIN, ROLES.MOD, ROLES.MEMBER].includes(\n      userRole\n    );\n  })();\n\n  const canComment = (() => {\n    if (userRole === ROLES.MUTED) return false;\n\n    switch (communityType) {\n      case \"Topic\":\n        return true;\n      case \"Journal\":\n        return userRole !== ROLES.GUEST || subscribed;\n      case \"Council\":\n        return canPost;\n    }\n  })();\n\n  const isModerator = [ROLES.OWNER, ROLES.ADMIN, ROLES.MOD].includes(userRole);\n\n  return {\n    canPost,\n    canComment,\n    isModerator,\n  };\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\nexport function getNotificationsUnreadCountQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined\n) {\n  return queryOptions({\n    queryKey: [\"notifications\", \"unread\", activeUsername],\n    queryFn: async () => {\n      if (!code) {\n        return 0;\n      }\n      const response = await fetch(\n        `${CONFIG.privateApiHost}/private-api/notifications/unread`,\n        {\n          method: \"POST\",\n          body: JSON.stringify({ code }),\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const data = (await response.json()) as { count: number };\n      return data.count;\n    },\n    enabled: !!activeUsername && !!code,\n    initialData: 0,\n    refetchInterval: 60000,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { NotificationFilter } from \"../enums\";\nimport { CONFIG } from \"@/modules/core\";\nimport { ApiNotification } from \"../types\";\n\nexport function getNotificationsInfiniteQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined,\n  filter: NotificationFilter | undefined = undefined\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"notifications\", activeUsername, filter],\n    queryFn: async ({ pageParam }) => {\n      if (!code) {\n        return [];\n      }\n      const data = {\n        code,\n        filter,\n        since: pageParam,\n        user: undefined,\n      };\n\n      const response = await fetch(\n        CONFIG.privateApiHost + \"/private-api/notifications\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(data),\n        }\n      );\n\n      return response.json() as Promise<ApiNotification[]>;\n    },\n    enabled: !!activeUsername && !!code,\n    initialData: { pages: [], pageParams: [] },\n    initialPageParam: \"\",\n    getNextPageParam: (lastPage) => lastPage?.[lastPage.length - 1]?.id ?? \"\",\n    refetchOnMount: true,\n  });\n}\n","export enum NotificationFilter {\n  VOTES = \"rvotes\",\n  MENTIONS = \"mentions\",\n  FAVORITES = \"nfavorites\",\n  BOOKMARKS = \"nbookmarks\",\n  FOLLOWS = \"follows\",\n  REPLIES = \"replies\",\n  REBLOGS = \"reblogs\",\n  TRANSFERS = \"transfers\",\n  DELEGATIONS = \"delegations\",\n}\n","export enum NotifyTypes {\n  VOTE = 1,\n  MENTION = 2,\n  FOLLOW = 3,\n  COMMENT = 4,\n  RE_BLOG = 5,\n  TRANSFERS = 6,\n  FAVORITES = 13,\n  BOOKMARKS = 15,\n  ALLOW_NOTIFY = \"ALLOW_NOTIFY\",\n}\n\nexport const ALL_NOTIFY_TYPES = [\n  NotifyTypes.VOTE,\n  NotifyTypes.MENTION,\n  NotifyTypes.FOLLOW,\n  NotifyTypes.COMMENT,\n  NotifyTypes.RE_BLOG,\n  NotifyTypes.TRANSFERS,\n  NotifyTypes.FAVORITES,\n  NotifyTypes.BOOKMARKS,\n] as const;\n\nexport enum NotificationViewType {\n  ALL = \"All\",\n  UNREAD = \"Unread\",\n  READ = \"Read\",\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { ApiNotificationSetting } from \"../types\";\nimport { NotifyTypes } from \"../enums\";\nimport { CONFIG } from \"@/modules/core\";\n\nexport function getNotificationsSettingsQueryOptions(\n  activeUsername: string | undefined,\n  code: string | undefined,\n  initialMuted?: boolean\n) {\n  return queryOptions({\n    queryKey: [\"notifications\", \"settings\", activeUsername],\n    queryFn: async () => {\n      let token = activeUsername + \"-web\";\n      if (!code) {\n        throw new Error(\"Missing access token\");\n      }\n      const response = await fetch(\n        CONFIG.privateApiHost + \"/private-api/detail-device\",\n        {\n          body: JSON.stringify({\n            code,\n            username: activeUsername,\n            token,\n          }),\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      if (!response.ok) {\n        throw new Error(`Failed to fetch notification settings: ${response.status}`);\n      }\n      return response.json() as Promise<ApiNotificationSetting>;\n    },\n    enabled: !!activeUsername && !!code,\n    refetchOnMount: false,\n    initialData: () => {\n      return {\n        status: 0,\n        system: \"web\",\n        allows_notify: 0,\n        notify_types: initialMuted\n          ? []\n          : ([\n              NotifyTypes.COMMENT,\n              NotifyTypes.FOLLOW,\n              NotifyTypes.MENTION,\n              NotifyTypes.FAVORITES,\n              NotifyTypes.BOOKMARKS,\n              NotifyTypes.VOTE,\n              NotifyTypes.RE_BLOG,\n              NotifyTypes.TRANSFERS,\n            ] as number[]),\n      } as ApiNotificationSetting;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { Announcement } from \"../types/announcement\";\n\nexport function getAnnouncementsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"notifications\", \"announcements\"],\n    queryFn: async () => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/announcements\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch announcements: ${response.status}`);\n      }\n\n      const data = await response.json() as Announcement[];\n      return data || [];\n    },\n    staleTime: 3_600_000,\n  });\n}\n","import { useMutation, QueryKey } from \"@tanstack/react-query\";\nimport { getQueryClient } from \"@/modules/core\";\nimport { markNotifications } from \"@/modules/private-api/requests\";\nimport { ApiNotification } from \"../types\";\n\n/**\n * Hook to mark notifications as read with optimistic updates\n *\n * @param username - Current user's username\n * @param code - Access token for authentication\n * @param onSuccess - Optional callback on successful mutation, receives unread count\n * @param onError - Optional callback on error\n *\n * @returns Mutation hook that accepts { id?: string }\n *\n * @example\n * ```typescript\n * const markAsRead = useMarkNotificationsRead(username, code);\n *\n * // Mark specific notification\n * markAsRead.mutate({ id: \"notification-id\" });\n *\n * // Mark all notifications (omit id)\n * markAsRead.mutate({});\n * ```\n */\nexport function useMarkNotificationsRead(\n  username: string | undefined,\n  code: string | undefined,\n  onSuccess?: (unreadCount?: number) => void,\n  onError?: (e: Error) => void\n) {\n  const queryClient = getQueryClient();\n\n  return useMutation({\n    mutationKey: [\"notifications\", \"mark-read\", username],\n\n    mutationFn: async ({ id }: { id?: string }) => {\n      if (!username || !code) {\n        throw new Error(\"[SDK][Notifications]  missing auth for markNotifications\");\n      }\n      return markNotifications(code, id);\n    },\n\n    // Optimistic update: Immediately mark notifications as read in cache\n    onMutate: async ({ id }: { id?: string }) => {\n      // Cancel any outgoing refetches to prevent overwriting optimistic update\n      await queryClient.cancelQueries({ queryKey: [\"notifications\"] });\n\n      // Snapshot current state for rollback\n      const previousNotifications: Array<[QueryKey, ApiNotification[] | undefined]> = [];\n\n      // Get all notification queries from cache\n      const queriesData = queryClient.getQueriesData<ApiNotification[]>({\n        queryKey: [\"notifications\"],\n      });\n\n      // Update each cached notification query\n      queriesData.forEach(([queryKey, data]) => {\n        if (data) {\n          // Save previous state\n          previousNotifications.push([queryKey, data]);\n\n          // Optimistically update: mark as read\n          const updatedData = data.map((item) => ({\n            ...item,\n            // If specific ID provided: mark only that notification\n            // If no ID (mark all): mark ALL notifications\n            read: (!id || id === item.id ? 1 : item.read) as 0 | 1,\n          }));\n\n          queryClient.setQueryData(queryKey, updatedData);\n        }\n      });\n\n      // Return context for rollback\n      return { previousNotifications };\n    },\n\n    onSuccess: (response, variables) => {\n      // Extract unread count from response if available\n      const unreadCount = typeof response === \"object\" && response !== null\n        ? (response as { unread?: number }).unread\n        : undefined;\n\n      onSuccess?.(unreadCount);\n\n      // If marking all notifications, invalidate to ensure fresh data\n      if (!variables.id) {\n        queryClient.invalidateQueries({\n          queryKey: [\"notifications\"],\n        });\n      }\n    },\n\n    // Rollback optimistic update on error\n    onError: (error, _variables, context) => {\n      // Restore previous state\n      if (context?.previousNotifications) {\n        context.previousNotifications.forEach(([queryKey, data]) => {\n          queryClient.setQueryData(queryKey, data);\n        });\n      }\n\n      onError?.(error as Error);\n    },\n\n    // Always refetch after mutation settles\n    onSettled: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"notifications\"],\n      });\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Proposal } from \"../types\";\n\n/**\n * Get a single proposal by ID\n */\nexport function getProposalQueryOptions(id: number) {\n  return queryOptions({\n    queryKey: [\"proposals\", \"proposal\", id],\n    queryFn: async () => {\n      const r = await CONFIG.hiveClient.call(\"condenser_api\", \"find_proposals\", [[id]]);\n      const proposal = r[0];\n\n      // Determine proposal status based on dates\n      if (new Date(proposal.start_date) < new Date() && new Date(proposal.end_date) >= new Date()) {\n        proposal.status = \"active\";\n      } else if (new Date(proposal.end_date) < new Date()) {\n        proposal.status = \"expired\";\n      } else {\n        proposal.status = \"inactive\";\n      }\n\n      return proposal as Proposal;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Proposal } from \"../types\";\n\n/**\n * Get all proposals, sorted with expired proposals at the end\n */\nexport function getProposalsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"proposals\", \"list\"],\n    queryFn: async () => {\n      const response = (await CONFIG.hiveClient.call(\"database_api\", \"list_proposals\", {\n        start: [-1],\n        limit: 500,\n        order: \"by_total_votes\",\n        order_direction: \"descending\",\n        status: \"all\",\n      })) as { proposals: Proposal[] };\n\n      const proposals = response.proposals;\n      const expired = proposals.filter((x) => x.status === \"expired\");\n      const others = proposals.filter((x) => x.status !== \"expired\");\n\n      return [...others, ...expired];\n    },\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { ProposalVote } from \"../types\";\nimport { FullAccount } from \"@/modules/accounts\";\nimport { parseAccounts } from \"@/modules/accounts/utils\";\n\n// One page = array of enriched vote rows\nexport type ProposalVoteRow = {\n  id: number;\n  voter: string;\n  voterAccount: FullAccount;\n};\n\ntype Cursor = string; // we paginate by last voter name\n\n/**\n * Get proposal votes with pagination and enriched voter account data\n *\n * @param proposalId - The proposal ID\n * @param voter - Starting voter for pagination\n * @param limit - Number of votes per page\n */\nexport function getProposalVotesInfiniteQueryOptions(\n  proposalId: number,\n  voter: string,\n  limit: number\n) {\n  return infiniteQueryOptions<ProposalVoteRow[], Error, ProposalVoteRow[], (string | number)[], Cursor>({\n    queryKey: [\"proposals\", \"votes\", proposalId, voter, limit],\n    initialPageParam: voter as Cursor,\n    refetchOnMount: true,\n    staleTime: 0, // Always refetch on mount\n\n    queryFn: async ({ pageParam }: { pageParam: Cursor }) => {\n      const startParam = pageParam ?? voter;\n\n      const response = (await CONFIG.hiveClient.call(\"condenser_api\", \"list_proposal_votes\", [\n        [proposalId, startParam],\n        limit,\n        \"by_proposal_voter\",\n      ])) as ProposalVote[];\n\n      const list = response\n        .filter((x) => x.proposal?.proposal_id === proposalId)\n        .map((x) => ({ id: x.id, voter: x.voter }));\n\n      const rawAccounts = await CONFIG.hiveClient.database.getAccounts(list.map((l) => l.voter));\n      const accounts = parseAccounts(rawAccounts);\n\n      const page: ProposalVoteRow[] = list.map((i) => ({\n        ...i,\n        voterAccount: accounts.find((a) => i.voter === a.name)!,\n      }));\n\n      return page;\n    },\n\n    getNextPageParam: (lastPage: ProposalVoteRow[]): Cursor | undefined => {\n      const last = lastPage?.[lastPage.length - 1];\n      return last?.voter ?? undefined;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { ProposalVote } from \"../types\";\n\n/**\n * Fetches ALL proposal votes for a specific user in a single query.\n * Much more efficient than querying each proposal individually.\n * Uses \"by_voter_proposal\" order to get all votes by a user.\n */\nexport function getUserProposalVotesQueryOptions(voter: string) {\n  return queryOptions({\n    queryKey: [\"proposals\", \"votes\", \"by-user\", voter],\n    enabled: !!voter && voter !== \"\",\n    staleTime: 60 * 1000, // Cache for 1 minute\n    queryFn: async () => {\n      if (!voter || voter === \"\") {\n        return [];\n      }\n\n      const response = (await CONFIG.hiveClient.call(\"database_api\", \"list_proposal_votes\", {\n        start: [voter],\n        limit: 1000,\n        order: \"by_voter_proposal\",\n        order_direction: \"ascending\",\n        status: \"votable\",\n      })) as { proposal_votes: ProposalVote[] };\n\n      // Filter to only this user's votes (API might return votes after this user alphabetically)\n      const userVotes = (response.proposal_votes || []).filter((vote) => vote.voter === voter);\n\n      return userVotes;\n    },\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { DelegatedVestingShare } from \"../types\";\n\n/**\n * Get vesting delegations for an account with infinite scroll support\n *\n * @param username - The account username\n * @param limit - Maximum number of results per page (default: 50)\n */\nexport function getVestingDelegationsQueryOptions(\n  username?: string,\n  limit = 50\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"wallet\", \"vesting-delegations\", username, limit],\n    initialPageParam: \"\" as string,\n    queryFn: async ({ pageParam }: { pageParam: string }) => {\n      // Request one extra item on subsequent pages to handle inclusive cursor\n      const fetchLimit = pageParam ? limit + 1 : limit;\n\n      const result = await CONFIG.hiveClient.database.call(\"get_vesting_delegations\", [\n        username,\n        pageParam || \"\",\n        fetchLimit,\n      ]) as DelegatedVestingShare[];\n\n      // Filter out duplicate first item on subsequent pages\n      // Hive API is inclusive of the 'from' cursor\n      if (pageParam && result.length > 0 && result[0]?.delegatee === pageParam) {\n        // Return at most limit items after removing the duplicate\n        return result.slice(1, limit + 1);\n      }\n\n      return result;\n    },\n    getNextPageParam: (lastPage: DelegatedVestingShare[]) => {\n      // If we got fewer results than limit, we've reached the end\n      if (!lastPage || lastPage.length < limit) {\n        return undefined;\n      }\n\n      // Return the last delegatee as cursor for next page\n      const lastDelegation = lastPage[lastPage.length - 1];\n      return lastDelegation?.delegatee;\n    },\n    enabled: !!username,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { ConversionRequest } from \"../types\";\n\n/**\n * Get HBD to HIVE conversion requests for an account\n *\n * @param account - The account username\n */\nexport function getConversionRequestsQueryOptions(account: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"conversion-requests\", account],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_conversion_requests\", [\n        account,\n      ]) as Promise<ConversionRequest[]>,\n    select: (data) => data.sort((a, b) => a.requestid - b.requestid),\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { CollateralizedConversionRequest } from \"../types\";\n\n/**\n * Get collateralized HIVE to HBD conversion requests for an account\n *\n * @param account - The account username\n */\nexport function getCollateralizedConversionRequestsQueryOptions(account: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"collateralized-conversion-requests\", account],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_collateralized_conversion_requests\", [\n        account,\n      ]) as Promise<CollateralizedConversionRequest[]>,\n    select: (data) => data.sort((a, b) => a.requestid - b.requestid),\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { SavingsWithdrawRequest } from \"../types\";\n\n/**\n * Get pending savings withdrawal requests for an account\n *\n * @param account - The account username\n */\nexport function getSavingsWithdrawFromQueryOptions(account: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"savings-withdraw\", account],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_savings_withdraw_from\", [\n        account,\n      ]) as Promise<SavingsWithdrawRequest[]>,\n    select: (data) => data.sort((a, b) => a.request_id - b.request_id),\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { WithdrawRoute } from \"../types\";\n\n/**\n * Get power down (vesting withdrawal) routes for an account\n *\n * @param account - The account username\n */\nexport function getWithdrawRoutesQueryOptions(account: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"withdraw-routes\", account],\n    queryFn: () =>\n      CONFIG.hiveClient.database.call(\"get_withdraw_routes\", [\n        account,\n        \"outgoing\",\n      ]) as Promise<WithdrawRoute[]>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { OpenOrdersData } from \"../types\";\n\n/**\n * Get open market orders for an account\n *\n * @param user - The account username\n */\nexport function getOpenOrdersQueryOptions(user: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"open-orders\", user],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_open_orders\", [\n        user,\n      ]) as Promise<OpenOrdersData[]>,\n    select: (data) => data.sort((a, b) => a.orderid - b.orderid),\n    enabled: !!user,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { RcDirectDelegation, RcDirectDelegationsResponse } from \"../types/rc-direct-delegation\";\n\ntype RcPage = RcDirectDelegation[];\ntype RcCursor = string | null;\n\n/**\n * Get outgoing RC delegations for an account\n *\n * @param username - Account name to get delegations for\n * @param limit - Number of delegations per page\n */\nexport function getOutgoingRcDelegationsInfiniteQueryOptions(username: string, limit = 100) {\n  return infiniteQueryOptions<RcPage, Error, RcPage, (string | number)[], RcCursor>({\n    queryKey: [\"wallet\", \"outgoing-rc-delegations\", username, limit],\n    initialPageParam: null as RcCursor,\n\n    queryFn: async ({ pageParam }: { pageParam: RcCursor }) => {\n      const response = await CONFIG.hiveClient\n        .call(\"rc_api\", \"list_rc_direct_delegations\", {\n          start: [username, pageParam ?? \"\"],\n          limit,\n        })\n        .then((r: any) => r as RcDirectDelegationsResponse);\n\n      let delegations: RcDirectDelegation[] = response.rc_direct_delegations || [];\n\n      // Filter out the starting delegation when paginating\n      if (pageParam) {\n        delegations = delegations.filter((delegation) => delegation.to !== pageParam);\n      }\n\n      return delegations;\n    },\n\n    getNextPageParam: (lastPage: RcPage): RcCursor =>\n      lastPage.length === limit ? lastPage[lastPage.length - 1].to : null,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { IncomingRcResponse } from \"../types\";\n\nexport function getIncomingRcQueryOptions(username: string | undefined) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"incoming-rc\", username],\n    enabled: !!username,\n    queryFn: async (): Promise<IncomingRcResponse> => {\n      if (!username) {\n        throw new Error(\"[SDK][Wallet] - Missing username for incoming RC\");\n      }\n\n      const fetchApi = getBoundFetch();\n      const response = await fetchApi(\n        `${CONFIG.privateApiHost}/private-api/received-rc/${username}`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch incoming RC: ${response.status}`);\n      }\n\n      return response.json() as Promise<IncomingRcResponse>;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { ReceivedVestingShare } from \"../types/received-vesting-share\";\n\nexport function getReceivedVestingSharesQueryOptions(username: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"received-vesting-shares\", username],\n    queryFn: async () => {\n      const response = await fetch(\n        CONFIG.privateApiHost + `/private-api/received-vesting/${username}`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch received vesting shares: ${response.status}`);\n      }\n\n      const data = (await response.json()) as { list: ReceivedVestingShare[] };\n      return data.list;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { RecurrentTransfer } from \"../types\";\n\n/**\n * Get recurrent transfers for an account\n *\n * @param username - The account username\n */\nexport function getRecurrentTransfersQueryOptions(username: string) {\n  return queryOptions({\n    queryKey: [\"wallet\", \"recurrent-transfers\", username],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"find_recurrent_transfers\", [\n        username,\n      ]) as Promise<RecurrentTransfer[]>,\n    enabled: !!username,\n  });\n}\n","import { CONFIG } from \"@/modules/core\";\nimport { queryOptions } from \"@tanstack/react-query\";\n\ntype PortfolioLayer = \"points\" | \"hive\" | \"chain\" | \"spk\" | \"engine\";\n\ninterface TokenAction {\n  id: string;\n  [key: string]: unknown;\n}\n\nexport interface PortfolioWalletItem {\n  name: string;\n  symbol: string;\n  layer: PortfolioLayer;\n  balance: number;\n  fiatRate: number;\n  currency: string;\n  precision: number;\n  address?: string;\n  error?: string;\n  pendingRewards?: number;\n  pendingRewardsFiat?: number;\n  liquid?: number;\n  liquidFiat?: number;\n  savings?: number;\n  savingsFiat?: number;\n  staked?: number;\n  stakedFiat?: number;\n  iconUrl?: string;\n  actions?: TokenAction[];\n  extraData?: Array<{ dataKey: string; value: any }>;\n  apr?: number;\n}\n\nexport interface PortfolioResponse {\n  username: string;\n  currency?: string;\n  wallets: PortfolioWalletItem[];\n}\n\nfunction normalizeString(value: unknown): string | undefined {\n  if (typeof value === \"string\") {\n    const trimmed = value.trim();\n    return trimmed.length > 0 ? trimmed : undefined;\n  }\n\n  return undefined;\n}\n\nfunction normalizeNumber(value: unknown): number | undefined {\n  if (typeof value === \"number\" && Number.isFinite(value)) {\n    return value;\n  }\n\n  if (typeof value === \"string\") {\n    const trimmed = value.trim();\n    if (!trimmed) {\n      return undefined;\n    }\n\n    const direct = Number.parseFloat(trimmed);\n    if (Number.isFinite(direct)) {\n      return direct;\n    }\n\n    const sanitized = trimmed.replace(/,/g, \"\");\n    const match = sanitized.match(/[-+]?\\d+(?:\\.\\d+)?/);\n    if (match) {\n      const parsed = Number.parseFloat(match[0]);\n      if (Number.isFinite(parsed)) {\n        return parsed;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction parseToken(rawToken: unknown): PortfolioWalletItem | undefined {\n  if (!rawToken || typeof rawToken !== \"object\") {\n    return undefined;\n  }\n\n  const token = rawToken as Record<string, unknown>;\n\n  // Portfolio v2 returns well-defined PortfolioItem structure\n  return {\n    name: normalizeString(token.name) ?? \"\",\n    symbol: normalizeString(token.symbol) ?? \"\",\n    layer: (normalizeString(token.layer) ?? \"hive\") as PortfolioLayer,\n    balance: normalizeNumber(token.balance) ?? 0,\n    fiatRate: normalizeNumber(token.fiatRate) ?? 0,\n    currency: normalizeString(token.currency) ?? \"usd\",\n    precision: normalizeNumber(token.precision) ?? 3,\n    address: normalizeString(token.address),\n    error: normalizeString(token.error),\n    pendingRewards: normalizeNumber(token.pendingRewards),\n    pendingRewardsFiat: normalizeNumber(token.pendingRewardsFiat),\n    liquid: normalizeNumber(token.liquid),\n    liquidFiat: normalizeNumber(token.liquidFiat),\n    savings: normalizeNumber(token.savings),\n    savingsFiat: normalizeNumber(token.savingsFiat),\n    staked: normalizeNumber(token.staked),\n    stakedFiat: normalizeNumber(token.stakedFiat),\n    iconUrl: normalizeString(token.iconUrl),\n    actions: (token.actions ?? []) as TokenAction[],\n    extraData: (token.extraData ?? []) as Array<{ dataKey: string; value: any }>,\n    apr: normalizeNumber(token.apr),\n  };\n}\n\nfunction extractTokens(payload: unknown): unknown[] {\n  if (!payload || typeof payload !== \"object\") {\n    return [];\n  }\n\n  const containers = [payload];\n  const record = payload as Record<string, unknown>;\n  if (record.data && typeof record.data === \"object\") {\n    containers.push(record.data as Record<string, unknown>);\n  }\n  if (record.result && typeof record.result === \"object\") {\n    containers.push(record.result as Record<string, unknown>);\n  }\n  if (record.portfolio && typeof record.portfolio === \"object\") {\n    containers.push(record.portfolio as Record<string, unknown>);\n  }\n\n  for (const container of containers) {\n    if (Array.isArray(container)) {\n      return container;\n    }\n\n    if (container && typeof container === \"object\") {\n      for (const key of [\n        \"wallets\",\n        \"tokens\",\n        \"assets\",\n        \"items\",\n        \"portfolio\",\n        \"balances\",\n      ]) {\n        const value = (container as Record<string, unknown>)[key];\n        if (Array.isArray(value)) {\n          return value;\n        }\n      }\n    }\n  }\n\n  return [];\n}\n\nfunction resolveUsername(payload: unknown): string | undefined {\n  if (!payload || typeof payload !== \"object\") {\n    return undefined;\n  }\n\n  const record = payload as Record<string, unknown>;\n  return (\n    normalizeString(record.username) ??\n    normalizeString(record.name) ??\n    normalizeString(record.account)\n  );\n}\n\n/**\n * Get portfolio query options for fetching user's wallet balances across all layers\n * @param username - Hive username\n * @param currency - Fiat currency code (default: \"usd\")\n * @param onlyEnabled - Only return enabled tokens (default: true)\n * @returns TanStack Query options for portfolio data\n */\nexport function getPortfolioQueryOptions(\n  username: string,\n  currency: string = \"usd\",\n  onlyEnabled: boolean = true\n) {\n  return queryOptions({\n    queryKey: [\n      \"wallet\",\n      \"portfolio\",\n      \"v2\",\n      username,\n      onlyEnabled ? \"only-enabled\" : \"all\",\n      currency,\n    ],\n    enabled: Boolean(username),\n    staleTime: 60000,\n    refetchInterval: 120000,\n    queryFn: async (): Promise<PortfolioResponse> => {\n      if (!username) {\n        throw new Error(\"[SDK][Wallet]  username is required\");\n      }\n\n      if (CONFIG.privateApiHost === undefined || CONFIG.privateApiHost === null) {\n        throw new Error(\n          \"[SDK][Wallet]  privateApiHost isn't configured for portfolio\"\n        );\n      }\n\n      const endpoint = `${CONFIG.privateApiHost}/wallet-api/portfolio-v2`;\n      const response = await fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ username, onlyEnabled, currency }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\n          `[SDK][Wallet]  Portfolio request failed (${response.status})`\n        );\n      }\n\n      const payload = (await response.json()) as unknown;\n      const tokens = extractTokens(payload)\n        .map((item) => parseToken(item))\n        .filter((item): item is PortfolioWalletItem => Boolean(item));\n\n      if (!tokens.length) {\n        throw new Error(\n          \"[SDK][Wallet]  Portfolio payload contained no tokens\"\n        );\n      }\n\n      return {\n        username: resolveUsername(payload) ?? username,\n        currency: normalizeString(\n          (payload as Record<string, unknown> | undefined)?.fiatCurrency ??\n          (payload as Record<string, unknown> | undefined)?.currency\n        )?.toUpperCase(),\n        wallets: tokens,\n      };\n    },\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { Witness } from \"../types\";\n\ntype WitnessPage = Witness[];\ntype WitnessCursor = string;\n\n/**\n * Get witnesses ordered by vote count (infinite scroll)\n *\n * @param limit - Number of witnesses per page\n */\nexport function getWitnessesInfiniteQueryOptions(limit: number) {\n  return infiniteQueryOptions<WitnessPage, Error, WitnessPage, (string | number)[], WitnessCursor>({\n    queryKey: [\"witnesses\", \"list\", limit],\n    initialPageParam: \"\" as WitnessCursor,\n\n    queryFn: async ({ pageParam }: { pageParam: WitnessCursor }) =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_witnesses_by_vote\", [\n        pageParam,\n        limit,\n      ]) as Promise<Witness[]>,\n\n    getNextPageParam: (lastPage: WitnessPage): WitnessCursor | undefined => {\n      const last = lastPage?.[lastPage.length - 1];\n      return last ? last.owner : undefined;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { OrdersData } from \"../types\";\n\n/**\n * Get the internal HIVE/HBD market order book\n *\n * @param limit - Maximum number of orders to fetch (default: 500)\n */\nexport function getOrderBookQueryOptions(limit = 500) {\n  return queryOptions({\n    queryKey: [\"market\", \"order-book\", limit],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_order_book\", [\n        limit,\n      ]) as Promise<OrdersData>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { MarketStatistics } from \"../types\";\n\n/**\n * Get HIVE/HBD market statistics from the blockchain\n */\nexport function getMarketStatisticsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"market\", \"statistics\"],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_ticker\", []) as Promise<MarketStatistics>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { MarketCandlestickDataItem } from \"../types\";\n\n/**\n * Get HIVE/HBD market history (candlestick data)\n *\n * @param seconds - Bucket size in seconds\n * @param startDate - Start date for the data\n * @param endDate - End date for the data\n */\nexport function getMarketHistoryQueryOptions(\n  seconds: number,\n  startDate: Date,\n  endDate: Date\n) {\n  const formatDate = (date: Date) => {\n    return date.toISOString().replace(/\\.\\d{3}Z$/, \"\");\n  };\n\n  return queryOptions({\n    queryKey: [\"market\", \"history\", seconds, startDate.getTime(), endDate.getTime()],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_market_history\", [\n        seconds,\n        formatDate(startDate),\n        formatDate(endDate),\n      ]) as Promise<MarketCandlestickDataItem[]>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { HiveHbdStats, MarketCandlestickDataItem, MarketStatistics } from \"../types\";\n\n/**\n * Get combined HIVE/HBD statistics including price, 24h change, and volume\n */\nexport function getHiveHbdStatsQueryOptions() {\n  return queryOptions({\n    queryKey: [\"market\", \"hive-hbd-stats\"],\n    queryFn: async () => {\n      // Get current market statistics\n      const stats = (await CONFIG.hiveClient.call(\n        \"condenser_api\",\n        \"get_ticker\",\n        []\n      )) as MarketStatistics;\n\n      // Get 24h market history\n      const now = new Date();\n      const oneDayAgo = new Date(now.getTime() - 86400000); // 24 hours ago\n\n      const formatDate = (date: Date) => {\n        return date.toISOString().replace(/\\.\\d{3}Z$/, \"\");\n      };\n\n      const dayChange = (await CONFIG.hiveClient.call(\n        \"condenser_api\",\n        \"get_market_history\",\n        [86400, formatDate(oneDayAgo), formatDate(now)]\n      )) as MarketCandlestickDataItem[];\n\n      // Calculate stats\n      const result: HiveHbdStats = {\n        price: +stats.latest,\n        close: dayChange[0] ? dayChange[0].non_hive.open / dayChange[0].hive.open : 0,\n        high: dayChange[0] ? dayChange[0].non_hive.high / dayChange[0].hive.high : 0,\n        low: dayChange[0] ? dayChange[0].non_hive.low / dayChange[0].hive.low : 0,\n        percent: dayChange[0]\n          ? 100 - ((dayChange[0].non_hive.open / dayChange[0].hive.open) * 100) / +stats.latest\n          : 0,\n        totalFromAsset: stats.hive_volume.split(\" \")[0],\n        totalToAsset: stats.hbd_volume.split(\" \")[0],\n      };\n\n      return result;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { MarketData } from \"../types\";\nimport { getBoundFetch } from \"@/modules/core\";\n\n/**\n * Get market chart data from CoinGecko API\n *\n * @param coin - Coin ID (e.g., \"hive\", \"bitcoin\")\n * @param vsCurrency - Currency to compare against (e.g., \"usd\", \"eur\")\n * @param fromTs - From timestamp (Unix timestamp in seconds)\n * @param toTs - To timestamp (Unix timestamp in seconds)\n */\nexport function getMarketDataQueryOptions(\n  coin: string,\n  vsCurrency: string,\n  fromTs: string,\n  toTs: string\n) {\n  return queryOptions({\n    queryKey: [\"market\", \"data\", coin, vsCurrency, fromTs, toTs],\n    queryFn: async ({ signal }) => {\n      const fetchApi = getBoundFetch();\n      const url = `https://api.coingecko.com/api/v3/coins/${coin}/market_chart/range?vs_currency=${vsCurrency}&from=${fromTs}&to=${toTs}`;\n\n      const response = await fetchApi(url, { signal });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch market data: ${response.status}`);\n      }\n\n      return response.json() as Promise<MarketData>;\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\nimport { OrdersDataItem } from \"../types\";\n\nfunction formatDate(date: Date) {\n  return date.toISOString().replace(/\\.\\d{3}Z$/, \"\");\n}\n\nexport function getTradeHistoryQueryOptions(\n  limit = 1000,\n  startDate?: Date,\n  endDate?: Date\n) {\n  const end = endDate ?? new Date();\n  const start =\n    startDate ?? new Date(end.getTime() - 10 * 60 * 60 * 1000);\n\n  return queryOptions({\n    queryKey: [\"market\", \"trade-history\", limit, start.getTime(), end.getTime()],\n    queryFn: () =>\n      CONFIG.hiveClient.call(\"condenser_api\", \"get_trade_history\", [\n        formatDate(start),\n        formatDate(end),\n        limit,\n      ]) as Promise<OrdersDataItem[]>,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\n\nexport interface FeedHistoryItem {\n  id: number;\n  current_median_history: {\n    base: string;\n    quote: string;\n  };\n  market_median_history: {\n    base: string;\n    quote: string;\n  };\n  current_min_history: {\n    base: string;\n    quote: string;\n  };\n  current_max_history: {\n    base: string;\n    quote: string;\n  };\n  price_history: Array<{\n    base: string;\n    quote: string;\n  }>;\n}\n\n/**\n * Get feed history from the blockchain\n * Returns price feed history including median prices\n */\nexport function getFeedHistoryQueryOptions() {\n  return queryOptions({\n    queryKey: [\"market\", \"feed-history\"],\n    queryFn: async () => {\n      try {\n        const feedHistory = await CONFIG.hiveClient.database.call(\"get_feed_history\");\n        return feedHistory as FeedHistoryItem;\n      } catch (error) {\n        throw error;\n      }\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core/config\";\n\nexport interface MedianHistoryPrice {\n  base: string;\n  quote: string;\n}\n\n/**\n * Get current median history price from the blockchain\n * Returns the current median price for HIVE/HBD conversion\n */\nexport function getCurrentMedianHistoryPriceQueryOptions() {\n  return queryOptions({\n    queryKey: [\"market\", \"current-median-history-price\"],\n    queryFn: async () => {\n      try {\n        const price = await CONFIG.hiveClient.database.call(\n          \"get_current_median_history_price\"\n        );\n        return price as MedianHistoryPrice;\n      } catch (error) {\n        throw error;\n      }\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { MarketData } from \"./types\";\nimport { CurrencyRates } from \"@/modules/private-api/types\";\n\ntype RequestError = Error & { status?: number; data?: unknown };\n\nasync function parseJsonResponse<T>(response: Response): Promise<T> {\n  const data = (await response.json()) as T;\n  if (!response.ok) {\n    const error = new Error(`Request failed with status ${response.status}`) as RequestError;\n    error.status = response.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\nexport async function getMarketData(\n  coin: string,\n  vsCurrency: string,\n  fromTs: string,\n  toTs: string\n): Promise<MarketData> {\n  const fetchApi = getBoundFetch();\n  const url = `https://api.coingecko.com/api/v3/coins/${coin}/market_chart/range?vs_currency=${vsCurrency}&from=${fromTs}&to=${toTs}`;\n  const response = await fetchApi(url);\n  return parseJsonResponse<MarketData>(response);\n}\n\nexport async function getCurrencyRate(cur: string): Promise<number> {\n  if (cur === \"hbd\") {\n    return 1;\n  }\n\n  const fetchApi = getBoundFetch();\n  const url = `https://api.coingecko.com/api/v3/simple/price?ids=hive_dollar&vs_currencies=${cur}`;\n  const response = await fetchApi(url);\n  const data = await parseJsonResponse<{ hive_dollar: Record<string, number> }>(response);\n  return data.hive_dollar[cur];\n}\n\nexport async function getCurrencyTokenRate(currency: string, token: string): Promise<number> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(\n    CONFIG.privateApiHost +\n      `/private-api/market-data/${currency === \"hbd\" ? \"usd\" : currency}/${token}`\n  );\n\n  return parseJsonResponse<number>(response);\n}\n\nexport async function getCurrencyRates(): Promise<CurrencyRates> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/private-api/market-data/latest\");\n  return parseJsonResponse<CurrencyRates>(response);\n}\n\nexport async function getHivePrice(): Promise<{ hive: { usd: number } }> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(\n    \"https://api.coingecko.com/api/v3/simple/price?ids=hive&vs_currencies=usd\"\n  );\n  return parseJsonResponse<{ hive: { usd: number } }>(response);\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { PointTransaction } from \"../types/point-transaction\";\n\ninterface PointsResponse {\n  points: string;\n  unclaimed_points: string;\n}\n\nexport function getPointsQueryOptions(username?: string, filter = 0) {\n  return queryOptions({\n    queryKey: [\"points\", username, filter],\n    queryFn: async () => {\n      if (!username) {\n        throw new Error(\"Get points query  username wasn't provided\");\n      }\n\n      const name = username.replace(\"@\", \"\");\n\n      // Get points\n      const pointsResponse = await fetch(CONFIG.privateApiHost + \"/private-api/points\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ username: name }),\n      });\n\n      if (!pointsResponse.ok) {\n        throw new Error(`Failed to fetch points: ${pointsResponse.status}`);\n      }\n\n      const points = (await pointsResponse.json()) as PointsResponse;\n\n      // Get transactions\n      const transactionsResponse = await fetch(\n        CONFIG.privateApiHost + \"/private-api/point-list\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ username: name, type: filter }),\n        }\n      );\n\n      if (!transactionsResponse.ok) {\n        throw new Error(`Failed to fetch point transactions: ${transactionsResponse.status}`);\n      }\n\n      const transactions = (await transactionsResponse.json()) as PointTransaction[];\n\n      return {\n        points: points.points,\n        uPoints: points.unclaimed_points,\n        transactions,\n      } as const;\n    },\n    staleTime: 30000,\n    refetchOnMount: true,\n    enabled: !!username,\n  });\n}\n","import { infiniteQueryOptions, queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { SearchResponse } from \"../types/search-response\";\n\nexport function searchQueryOptions(\n  q: string,\n  sort: string,\n  hideLow: string,\n  since?: string,\n  scroll_id?: string,\n  votes?: number\n) {\n  return queryOptions({\n    queryKey: [\"search\", q, sort, hideLow, since, scroll_id, votes],\n    queryFn: async () => {\n      const data: {\n        q: string;\n        sort: string;\n        hide_low: string;\n        since?: string;\n        scroll_id?: string;\n        votes?: number;\n      } = { q, sort, hide_low: hideLow };\n\n      if (since) data.since = since;\n      if (scroll_id) data.scroll_id = scroll_id;\n      if (votes) data.votes = votes;\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Search failed: ${response.status}`);\n      }\n\n      return response.json() as Promise<SearchResponse>;\n    },\n  });\n}\n\ntype PageParam = {\n  sid: string | undefined;\n  hasNextPage: boolean;\n};\n\nexport function getControversialRisingInfiniteQueryOptions(\n  what: string,\n  tag: string,\n  enabled = true\n) {\n  return infiniteQueryOptions<SearchResponse, Error, SearchResponse, (string | number)[], PageParam>({\n    queryKey: [\"search\", \"controversial-rising\", what, tag],\n    initialPageParam: { sid: undefined, hasNextPage: true } as PageParam,\n\n    queryFn: async ({ pageParam }: { pageParam: PageParam }) => {\n      if (!pageParam.hasNextPage) {\n        return {\n          hits: 0,\n          took: 0,\n          results: [],\n        };\n      }\n\n      let sinceDate: Date | undefined;\n      const now = new Date();\n\n      switch (tag) {\n        case \"today\":\n          sinceDate = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n          break;\n        case \"week\":\n          sinceDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n          break;\n        case \"month\":\n          sinceDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n          break;\n        case \"year\":\n          sinceDate = new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000);\n          break;\n        default:\n          sinceDate = undefined;\n      }\n\n      const q = \"* type:post\";\n      const sort = what === \"rising\" ? \"children\" : what;\n      const since = sinceDate ? sinceDate.toISOString().split(\".\")[0] : undefined;\n      const hideLow = \"0\";\n      const votes = tag === \"today\" ? 50 : 200;\n\n      const data: {\n        q: string;\n        sort: string;\n        hide_low: string;\n        since?: string;\n        scroll_id?: string;\n        votes?: number;\n      } = { q, sort, hide_low: hideLow };\n\n      if (since) data.since = since;\n      if (pageParam.sid) data.scroll_id = pageParam.sid;\n      if (votes) data.votes = votes;\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Search failed: ${response.status}`);\n      }\n\n      return response.json() as Promise<SearchResponse>;\n    },\n\n    getNextPageParam: (resp: SearchResponse): PageParam => {\n      return {\n        sid: resp?.scroll_id,\n        hasNextPage: resp.results.length > 0,\n      };\n    },\n\n    enabled,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { SearchResponse } from \"../types/search-response\";\n\ninterface Entry {\n  author: string;\n  permlink: string;\n  json_metadata?: {\n    tags?: string[];\n  };\n}\n\nfunction buildQuery(entry: Entry, retry = 3) {\n  const { json_metadata, permlink } = entry;\n\n  let q = \"*\";\n  q += ` -dporn type:post`;\n  let tags;\n\n  // 3 tags and decrease until there is enough relevant posts\n  if (json_metadata && json_metadata.tags && Array.isArray(json_metadata.tags)) {\n    tags = json_metadata.tags\n      .filter((tag) => tag && tag !== \"\" && typeof tag === \"string\")\n      .filter((tag) => !tag.startsWith(\"hive-\")) // filter out communities\n      .filter((_tag, ind) => ind < +retry)\n      .join(\",\");\n  }\n\n  // check to make sure tags are not empty\n  if (tags && tags.length > 0) {\n    q += ` tag:${tags}`;\n  } else {\n    // no tags in post, try with permlink\n    const fperm = permlink.split(\"-\");\n    tags = fperm\n      .filter((part: string) => part !== \"\")\n      .filter((part: string) => !/^-?\\d+$/.test(part))\n      .filter((part: string) => part.length > 2)\n      .join(\",\");\n    q += ` tag:${tags}`;\n  }\n\n  return q;\n}\n\nexport function getSimilarEntriesQueryOptions(entry: Entry) {\n  const query = buildQuery(entry);\n\n  return queryOptions({\n    queryKey: [\"search\", \"similar-entries\", entry.author, entry.permlink, query],\n    queryFn: async () => {\n      const data = {\n        q: query,\n        sort: \"newest\",\n        hide_low: \"0\",\n      };\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Search failed: ${response.status}`);\n      }\n\n      const searchResponse = (await response.json()) as SearchResponse;\n\n      const rawEntries = searchResponse.results.filter(\n        (r) => r.permlink !== entry.permlink && r.tags.indexOf(\"nsfw\") === -1\n      );\n\n      const entries = [];\n      for (const result of rawEntries) {\n        if (entries.find((y) => y.author === result.author) === undefined) {\n          entries.push(result);\n        }\n      }\n\n      return entries.slice(0, 3);\n    },\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { AccountSearchResult } from \"../types/account-search-result\";\n\nexport function getSearchAccountQueryOptions(q: string, limit = 5, random = false) {\n  return queryOptions({\n    queryKey: [\"search\", \"account\", q, limit],\n    queryFn: async () => {\n      const data = { q, limit, random: +random };\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search-account\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to search accounts: ${response.status}`);\n      }\n\n      return response.json() as Promise<AccountSearchResult[]>;\n    },\n    enabled: !!q,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { TagSearchResult } from \"../types/tag-search-result\";\n\nexport function getSearchTopicsQueryOptions(q: string, limit = 20, random = false) {\n  return queryOptions({\n    queryKey: [\"search\", \"topics\", q],\n    queryFn: async () => {\n      const data = { q, limit, random: +random };\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search-tag\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to search topics: ${response.status}`);\n      }\n\n      return response.json() as Promise<TagSearchResult[]>;\n    },\n    enabled: !!q,\n  });\n}\n","import { infiniteQueryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\nimport { SearchResponse } from \"../types/search-response\";\n\nexport function getSearchApiInfiniteQueryOptions(\n  q: string,\n  sort: string,\n  hideLow: boolean,\n  since?: string,\n  votes?: number\n) {\n  return infiniteQueryOptions({\n    queryKey: [\"search\", \"api\", q, sort, hideLow, since, votes],\n    queryFn: async ({ pageParam }: { pageParam: string | undefined }) => {\n      interface SearchApiPayload {\n        q: string;\n        sort: string;\n        hide_low: boolean;\n        since?: string;\n        scroll_id?: string;\n        votes?: number;\n      }\n\n      const payload: SearchApiPayload = { q, sort, hide_low: hideLow };\n\n      if (since) {\n        payload.since = since;\n      }\n      if (pageParam) {\n        payload.scroll_id = pageParam;\n      }\n      if (votes !== undefined) {\n        payload.votes = votes;\n      }\n\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Search failed: ${response.status}`);\n      }\n\n      return response.json() as Promise<SearchResponse>;\n    },\n    initialPageParam: undefined as string | undefined,\n    getNextPageParam: (lastPage: SearchResponse) => lastPage?.scroll_id,\n    enabled: !!q,\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"@/modules/core\";\n\nexport function getSearchPathQueryOptions(q: string) {\n  return queryOptions({\n    queryKey: [\"search\", \"path\", q],\n    queryFn: async () => {\n      const response = await fetch(CONFIG.privateApiHost + \"/search-api/search-path\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ q }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Search path failed: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data?.length > 0) {\n        return data as string[];\n      }\n\n      return [q];\n    },\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { AccountSearchResult } from \"./types/account-search-result\";\nimport { SearchResponse } from \"./types/search-response\";\nimport { TagSearchResult } from \"./types/tag-search-result\";\n\ntype RequestError = Error & { status?: number; data?: unknown };\n\nasync function parseJsonResponse<T>(response: Response): Promise<T> {\n  const parseBody = async (): Promise<unknown> => {\n    try {\n      return await response.json();\n    } catch {\n      try {\n        return await response.text();\n      } catch {\n        return undefined;\n      }\n    }\n  };\n\n  const data = await parseBody();\n  if (!response.ok) {\n    const error = new Error(`Request failed with status ${response.status}`) as RequestError;\n    error.status = response.status;\n    error.data = data;\n    throw error;\n  }\n\n  if (data === undefined) {\n    throw new Error(\"Response body was empty or invalid JSON\");\n  }\n\n  return data as T;\n}\n\nexport async function search(\n  q: string,\n  sort: string,\n  hideLow: string,\n  since?: string,\n  scroll_id?: string,\n  votes?: number\n): Promise<SearchResponse> {\n  const data: {\n    q: string;\n    sort: string;\n    hide_low: string;\n    since?: string;\n    scroll_id?: string;\n    votes?: number;\n  } = { q, sort, hide_low: hideLow };\n\n  if (since) {\n    data.since = since;\n  }\n  if (scroll_id) {\n    data.scroll_id = scroll_id;\n  }\n  if (votes) {\n    data.votes = votes;\n  }\n\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/search-api/search\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<SearchResponse>(response);\n}\n\nexport async function searchAccount(\n  q: string = \"\",\n  limit: number = 20,\n  random: number = 1\n): Promise<AccountSearchResult[]> {\n  const data = { q, limit, random };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/search-api/search-account\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<AccountSearchResult[]>(response);\n}\n\nexport async function searchTag(\n  q: string = \"\",\n  limit: number = 20,\n  random: number = 0\n): Promise<TagSearchResult[]> {\n  const data = { q, limit, random };\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/search-api/search-tag\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return parseJsonResponse<TagSearchResult[]>(response);\n}\n\nexport async function searchPath(q: string): Promise<string[]> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/search-api/search-path\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ q }),\n  });\n\n  const data = await parseJsonResponse<string[]>(response);\n  return data?.length > 0 ? data : [q];\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"../../core\";\nimport type { PromotePrice } from \"../types\";\n\nexport function getBoostPlusPricesQueryOptions(accessToken: string) {\n  return queryOptions({\n    queryKey: [\"promotions\", \"boost-plus-prices\"],\n    queryFn: async () => {\n      if (!accessToken) {\n        return [];\n      }\n\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/boost-plus-price\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ code: accessToken }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch boost plus prices: ${response.status}`);\n      }\n\n      return await response.json() as PromotePrice[];\n    },\n    staleTime: Infinity,\n    refetchOnMount: true,\n    enabled: !!accessToken\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"../../core\";\nimport type { PromotePrice } from \"../types\";\n\nexport function getPromotePriceQueryOptions(accessToken: string) {\n  return queryOptions({\n    queryKey: [\"promotions\", \"promote-price\"],\n    queryFn: async () => {\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/promote-price\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ code: accessToken }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch promote prices: ${response.status}`);\n      }\n\n      return await response.json() as PromotePrice[];\n    },\n    enabled: !!accessToken\n  });\n}\n","import { queryOptions } from \"@tanstack/react-query\";\nimport { CONFIG } from \"../../core\";\n\nexport interface BoostPlusAccountPrice {\n  account: string;\n  expires: Date;\n}\n\nexport function getBoostPlusAccountPricesQueryOptions(account: string, accessToken: string) {\n  return queryOptions({\n    queryKey: [\"promotions\", \"boost-plus-accounts\", account],\n    queryFn: async (): Promise<BoostPlusAccountPrice | null> => {\n      if (!accessToken || !account) {\n        return null;\n      }\n\n      const response = await fetch(CONFIG.privateApiHost + \"/private-api/boosted-plus-account\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ code: accessToken, account }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch boost plus account prices: ${response.status}`);\n      }\n\n      const responseData = await response.json() as {\n        expires: string;\n        account: string;\n      };\n\n      return responseData\n        ? {\n            account: responseData.account,\n            expires: new Date(responseData.expires)\n          }\n        : null;\n    },\n    enabled: !!account && !!accessToken\n  });\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\nimport { HsTokenRenewResponse } from \"./types\";\n\ntype RequestError = Error & { status?: number; data?: unknown };\n\nexport async function hsTokenRenew(code: string): Promise<HsTokenRenewResponse> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(CONFIG.privateApiHost + \"/auth-api/hs-token-refresh\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ code }),\n  });\n\n  if (!response.ok) {\n    let data: unknown = undefined;\n    try {\n      data = await response.json();\n    } catch {\n      data = undefined;\n    }\n    const error = new Error(`Failed to refresh token: ${response.status}`) as RequestError;\n    error.status = response.status;\n    error.data = data;\n    throw error;\n  }\n\n  const data = (await response.json()) as HsTokenRenewResponse;\n  return data;\n}\n","import { ConfigManager, getBoundFetch } from \"@/modules/core\";\n\ntype EngineOrderBookEntry = {\n  txId: string;\n  timestamp: number;\n  account: string;\n  symbol: string;\n  quantity: string;\n  price: string;\n  tokensLocked?: string;\n};\n\nexport interface HiveEngineOpenOrder {\n  id: string;\n  type: \"buy\" | \"sell\";\n  account: string;\n  symbol: string;\n  quantity: string;\n  price: string;\n  total: string;\n  timestamp: number;\n}\n\nconst ENGINE_RPC_HEADERS = { \"Content-type\": \"application/json\" };\n\nasync function engineRpc<T>(payload: Record<string, unknown>): Promise<T> {\n  const fetchApi = getBoundFetch();\n  const baseUrl = ConfigManager.getValidatedBaseUrl();\n  const response = await fetchApi(`${baseUrl}/private-api/engine-api`, {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n    headers: ENGINE_RPC_HEADERS,\n  });\n\n  if (!response.ok) {\n    throw new Error(\n      `[SDK][HiveEngine]  request failed with ${response.status}`\n    );\n  }\n\n  const data = (await response.json()) as { result: T };\n  return data.result;\n}\n\nasync function engineRpcSafe<T>(\n  payload: Record<string, unknown>,\n  fallback: T\n): Promise<T> {\n  try {\n    return await engineRpc<T>(payload);\n  } catch (e) {\n    return fallback;\n  }\n}\n\nexport async function getHiveEngineOrderBook<T = EngineOrderBookEntry>(\n  symbol: string,\n  limit: number = 50\n): Promise<{ buy: T[]; sell: T[] }> {\n  const baseParams = {\n    jsonrpc: \"2.0\",\n    method: \"find\",\n    params: {\n      contract: \"market\",\n      query: { symbol },\n      limit,\n      offset: 0,\n    },\n    id: 1,\n  };\n\n  const [buy, sell] = await Promise.all([\n    engineRpcSafe<T[]>(\n      {\n        ...baseParams,\n        params: {\n          ...baseParams.params,\n          table: \"buyBook\",\n          indexes: [{ index: \"price\", descending: true }],\n        },\n      },\n      []\n    ),\n    engineRpcSafe<T[]>(\n      {\n        ...baseParams,\n        params: {\n          ...baseParams.params,\n          table: \"sellBook\",\n          indexes: [{ index: \"price\", descending: false }],\n        },\n      },\n      []\n    ),\n  ]);\n\n  const sortByPriceDesc = (items: T[]) =>\n    items.sort((a, b) => {\n      const left = Number((a as EngineOrderBookEntry).price ?? 0);\n      const right = Number((b as EngineOrderBookEntry).price ?? 0);\n      return right - left;\n    });\n  const sortByPriceAsc = (items: T[]) =>\n    items.sort((a, b) => {\n      const left = Number((a as EngineOrderBookEntry).price ?? 0);\n      const right = Number((b as EngineOrderBookEntry).price ?? 0);\n      return left - right;\n    });\n\n  return {\n    buy: sortByPriceDesc(buy),\n    sell: sortByPriceAsc(sell),\n  };\n}\n\nexport async function getHiveEngineTradeHistory<T = Record<string, unknown>>(\n  symbol: string,\n  limit: number = 50\n): Promise<T[]> {\n  return engineRpcSafe<T[]>(\n    {\n      jsonrpc: \"2.0\",\n      method: \"find\",\n      params: {\n        contract: \"market\",\n        table: \"tradesHistory\",\n        query: { symbol },\n        limit,\n        offset: 0,\n        indexes: [{ index: \"timestamp\", descending: true }],\n      },\n      id: 1,\n    },\n    []\n  );\n}\n\nexport async function getHiveEngineOpenOrders<T = HiveEngineOpenOrder>(\n  account: string,\n  symbol: string,\n  limit: number = 100\n): Promise<T[]> {\n  const baseParams = {\n    jsonrpc: \"2.0\",\n    method: \"find\",\n    params: {\n      contract: \"market\",\n      query: { symbol, account },\n      limit,\n      offset: 0,\n    },\n    id: 1,\n  };\n\n  const [buyRaw, sellRaw] = await Promise.all([\n    engineRpcSafe<EngineOrderBookEntry[]>(\n      {\n        ...baseParams,\n        params: {\n          ...baseParams.params,\n          table: \"buyBook\",\n          indexes: [{ index: \"timestamp\", descending: true }],\n        },\n      },\n      []\n    ),\n    engineRpcSafe<EngineOrderBookEntry[]>(\n      {\n        ...baseParams,\n        params: {\n          ...baseParams.params,\n          table: \"sellBook\",\n          indexes: [{ index: \"timestamp\", descending: true }],\n        },\n      },\n      []\n    ),\n  ]);\n\n  const formatTotal = (quantity: string, price: string) =>\n    (Number(quantity || 0) * Number(price || 0)).toFixed(8);\n\n  const buy: HiveEngineOpenOrder[] = buyRaw.map((order) => ({\n    id: order.txId,\n    type: \"buy\",\n    account: order.account,\n    symbol: order.symbol,\n    quantity: order.quantity,\n    price: order.price,\n    total: order.tokensLocked ?? formatTotal(order.quantity, order.price),\n    timestamp: Number(order.timestamp ?? 0),\n  }));\n\n  const sell: HiveEngineOpenOrder[] = sellRaw.map((order) => ({\n    id: order.txId,\n    type: \"sell\",\n    account: order.account,\n    symbol: order.symbol,\n    quantity: order.quantity,\n    price: order.price,\n    total: formatTotal(order.quantity, order.price),\n    timestamp: Number(order.timestamp ?? 0),\n  }));\n\n  return [...buy, ...sell].sort((a, b) => b.timestamp - a.timestamp) as T[];\n}\n\nexport async function getHiveEngineMetrics<T = Record<string, unknown>>(\n  symbol?: string,\n  account?: string\n): Promise<T[]> {\n  return engineRpcSafe<T[]>(\n    {\n      jsonrpc: \"2.0\",\n      method: \"find\",\n      params: {\n        contract: \"market\",\n        table: \"metrics\",\n        query: {\n          ...(symbol ? { symbol } : {}),\n          ...(account ? { account } : {}),\n        },\n      },\n      id: 1,\n    },\n    []\n  );\n}\n\nexport async function getHiveEngineTokensMarket<T = Record<string, unknown>>(\n  account?: string,\n  symbol?: string\n): Promise<T[]> {\n  return getHiveEngineMetrics<T>(symbol, account);\n}\n\nexport async function getHiveEngineTokensBalances<T = Record<string, unknown>>(\n  username: string\n): Promise<T[]> {\n  return engineRpcSafe<T[]>(\n    {\n      jsonrpc: \"2.0\",\n      method: \"find\",\n      params: {\n        contract: \"tokens\",\n        table: \"balances\",\n        query: {\n          account: username,\n        },\n      },\n      id: 1,\n    },\n    []\n  );\n}\n\nexport async function getHiveEngineTokensMetadata<T = Record<string, unknown>>(\n  tokens: string[]\n): Promise<T[]> {\n  return engineRpcSafe<T[]>(\n    {\n      jsonrpc: \"2.0\",\n      method: \"find\",\n      params: {\n        contract: \"tokens\",\n        table: \"tokens\",\n        query: {\n          symbol: { $in: tokens },\n        },\n      },\n      id: 2,\n    },\n    []\n  );\n}\n\nexport async function getHiveEngineTokenTransactions<T = Record<string, unknown>>(\n  username: string,\n  symbol: string,\n  limit: number,\n  offset: number\n): Promise<T[]> {\n  const fetchApi = getBoundFetch();\n  const baseUrl = ConfigManager.getValidatedBaseUrl();\n  const url = new URL(\"/private-api/engine-account-history\", baseUrl);\n  url.searchParams.set(\"account\", username);\n  url.searchParams.set(\"symbol\", symbol);\n  url.searchParams.set(\"limit\", limit.toString());\n  url.searchParams.set(\"offset\", offset.toString());\n\n  const response = await fetchApi(url.toString(), {\n    method: \"GET\",\n    headers: { \"Content-type\": \"application/json\" },\n  });\n\n  if (!response.ok) {\n    throw new Error(\n      `[SDK][HiveEngine]  account history failed with ${response.status}`\n    );\n  }\n\n  return (await response.json()) as T[];\n}\n\nexport async function getHiveEngineTokenMetrics<T = Record<string, unknown>>(\n  symbol: string,\n  interval = \"daily\"\n): Promise<T[]> {\n  const fetchApi = getBoundFetch();\n  const baseUrl = ConfigManager.getValidatedBaseUrl();\n  const url = new URL(\"/private-api/engine-chart-api\", baseUrl);\n  url.searchParams.set(\"symbol\", symbol);\n  url.searchParams.set(\"interval\", interval);\n\n  const response = await fetchApi(url.toString(), {\n    headers: { \"Content-type\": \"application/json\" },\n  });\n\n  if (!response.ok) {\n    throw new Error(\n      `[SDK][HiveEngine]  chart failed with ${response.status}`\n    );\n  }\n\n  return (await response.json()) as T[];\n}\n\nexport async function getHiveEngineUnclaimedRewards<T = Record<string, unknown>>(\n  username: string\n): Promise<Record<string, T>> {\n  const fetchApi = getBoundFetch();\n  const baseUrl = ConfigManager.getValidatedBaseUrl();\n  const response = await fetchApi(\n    `${baseUrl}/private-api/engine-reward-api/${username}?hive=1`\n  );\n\n  if (!response.ok) {\n    throw new Error(\n      `[SDK][HiveEngine]  rewards failed with ${response.status}`\n    );\n  }\n\n  return (await response.json()) as Record<string, T>;\n}\n","import { CONFIG, getBoundFetch } from \"@/modules/core\";\n\nexport async function getSpkWallet<T = Record<string, unknown>>(\n  username: string\n): Promise<T> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(`${CONFIG.spkNode}/@${username}`);\n\n  if (!response.ok) {\n    throw new Error(`[SDK][SPK]  wallet failed with ${response.status}`);\n  }\n\n  return (await response.json()) as T;\n}\n\nexport async function getSpkMarkets<T = Record<string, unknown>>(): Promise<T> {\n  const fetchApi = getBoundFetch();\n  const response = await fetchApi(`${CONFIG.spkNode}/markets`);\n\n  if (!response.ok) {\n    throw new Error(`[SDK][SPK]  markets failed with ${response.status}`);\n  }\n\n  return (await response.json()) as T;\n}\n"]}